(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sa(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rh={exports:{}},ta={},Ah={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function UT(){if(Fy)return Ae;Fy=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,F={};function L(M,Q,pe){this.props=M,this.context=Q,this.refs=F,this.updater=pe||P}L.prototype.isReactComponent={},L.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=L.prototype;function G(M,Q,pe){this.props=M,this.context=Q,this.refs=F,this.updater=pe||P}var ee=G.prototype=new $;ee.constructor=G,b(ee,L.prototype),ee.isPureReactComponent=!0;var ne=Array.isArray,de=Object.prototype.hasOwnProperty,se={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function I(M,Q,pe){var Ie,Re={},ke=null,Oe=null;if(Q!=null)for(Ie in Q.ref!==void 0&&(Oe=Q.ref),Q.key!==void 0&&(ke=""+Q.key),Q)de.call(Q,Ie)&&!x.hasOwnProperty(Ie)&&(Re[Ie]=Q[Ie]);var Me=arguments.length-2;if(Me===1)Re.children=pe;else if(1<Me){for(var Be=Array(Me),vt=0;vt<Me;vt++)Be[vt]=arguments[vt+2];Re.children=Be}if(M&&M.defaultProps)for(Ie in Me=M.defaultProps,Me)Re[Ie]===void 0&&(Re[Ie]=Me[Ie]);return{$$typeof:r,type:M,key:ke,ref:Oe,props:Re,_owner:se.current}}function A(M,Q){return{$$typeof:r,type:M.type,key:Q,ref:M.ref,props:M.props,_owner:M._owner}}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return Q[pe]})}var O=/\/+/g;function C(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Q.toString(36)}function He(M,Q,pe,Ie,Re){var ke=typeof M;(ke==="undefined"||ke==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(ke){case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case r:case e:Oe=!0}}if(Oe)return Oe=M,Re=Re(Oe),M=Ie===""?"."+C(Oe,0):Ie,ne(Re)?(pe="",M!=null&&(pe=M.replace(O,"$&/")+"/"),He(Re,Q,pe,"",function(vt){return vt})):Re!=null&&(D(Re)&&(Re=A(Re,pe+(!Re.key||Oe&&Oe.key===Re.key?"":(""+Re.key).replace(O,"$&/")+"/")+M)),Q.push(Re)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",ne(M))for(var Me=0;Me<M.length;Me++){ke=M[Me];var Be=Ie+C(ke,Me);Oe+=He(ke,Q,pe,Be,Re)}else if(Be=S(M),typeof Be=="function")for(M=Be.call(M),Me=0;!(ke=M.next()).done;)ke=ke.value,Be=Ie+C(ke,Me++),Oe+=He(ke,Q,pe,Be,Re);else if(ke==="object")throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Oe}function nt(M,Q,pe){if(M==null)return M;var Ie=[],Re=0;return He(M,Ie,"","",function(ke){return Q.call(pe,ke,Re++)}),Ie}function yt(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var Ue={current:null},ie={transition:null},ge={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ie,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:nt,forEach:function(M,Q,pe){nt(M,function(){Q.apply(this,arguments)},pe)},count:function(M){var Q=0;return nt(M,function(){Q++}),Q},toArray:function(M){return nt(M,function(Q){return Q})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ae.Component=L,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=G,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ae.act=ae,Ae.cloneElement=function(M,Q,pe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ie=b({},M.props),Re=M.key,ke=M.ref,Oe=M._owner;if(Q!=null){if(Q.ref!==void 0&&(ke=Q.ref,Oe=se.current),Q.key!==void 0&&(Re=""+Q.key),M.type&&M.type.defaultProps)var Me=M.type.defaultProps;for(Be in Q)de.call(Q,Be)&&!x.hasOwnProperty(Be)&&(Ie[Be]=Q[Be]===void 0&&Me!==void 0?Me[Be]:Q[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=pe;else if(1<Be){Me=Array(Be);for(var vt=0;vt<Be;vt++)Me[vt]=arguments[vt+2];Ie.children=Me}return{$$typeof:r,type:M.type,key:Re,ref:ke,props:Ie,_owner:Oe}},Ae.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Ae.createElement=I,Ae.createFactory=function(M){var Q=I.bind(null,M);return Q.type=M,Q},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:d,render:M}},Ae.isValidElement=D,Ae.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:yt}},Ae.memo=function(M,Q){return{$$typeof:y,type:M,compare:Q===void 0?null:Q}},Ae.startTransition=function(M){var Q=ie.transition;ie.transition={};try{M()}finally{ie.transition=Q}},Ae.unstable_act=ae,Ae.useCallback=function(M,Q){return Ue.current.useCallback(M,Q)},Ae.useContext=function(M){return Ue.current.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M){return Ue.current.useDeferredValue(M)},Ae.useEffect=function(M,Q){return Ue.current.useEffect(M,Q)},Ae.useId=function(){return Ue.current.useId()},Ae.useImperativeHandle=function(M,Q,pe){return Ue.current.useImperativeHandle(M,Q,pe)},Ae.useInsertionEffect=function(M,Q){return Ue.current.useInsertionEffect(M,Q)},Ae.useLayoutEffect=function(M,Q){return Ue.current.useLayoutEffect(M,Q)},Ae.useMemo=function(M,Q){return Ue.current.useMemo(M,Q)},Ae.useReducer=function(M,Q,pe){return Ue.current.useReducer(M,Q,pe)},Ae.useRef=function(M){return Ue.current.useRef(M)},Ae.useState=function(M){return Ue.current.useState(M)},Ae.useSyncExternalStore=function(M,Q,pe){return Ue.current.useSyncExternalStore(M,Q,pe)},Ae.useTransition=function(){return Ue.current.useTransition()},Ae.version="18.3.1",Ae}var jy;function qp(){return jy||(jy=1,Ah.exports=UT()),Ah.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function qT(){if(Uy)return ta;Uy=1;var r=qp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,y){var E,T={},S=null,P=null;y!==void 0&&(S=""+y),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(P=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(T[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)T[E]===void 0&&(T[E]=g[E]);return{$$typeof:e,type:d,key:S,ref:P,props:T,_owner:o.current}}return ta.Fragment=t,ta.jsx=h,ta.jsxs=h,ta}var qy;function BT(){return qy||(qy=1,Rh.exports=qT()),Rh.exports}var B=BT();function CE(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=CE(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function ll(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=CE(r))&&(s&&(s+=" "),s+=e);return s}const _n={small:"py-0 px-1 text-sm rounded-sm",medium:"py-0.5 px-2 text-base rounded-sm",large:"py-2 px-4 text-lg rounded-md",primary:"bg-blue-900 text-white border border-blue-900 hover:bg-blue-600 active:bg-blue-400",secondary:"bg-blue-100 text-black border border-blue-200 hover:bg-blue-300 active:bg-blue-400",tertiary:"bg-transparent text-blue-900 border border-transparent hover:bg-blue-50 active:bg-blue-100",success:"bg-green-500 text-white border border-green-500 hover:bg-green-600 active:bg-green-400",warning:"bg-yellow-500 text-white border border-yellow-500 hover:bg-yellow-600 active:bg-yellow-400",danger:"bg-red-500 text-white border border-red-500 hover:bg-red-600 active:bg-red-400",info:"bg-blue-400 text-white border border-blue-400 hover:bg-blue-600 active:bg-blue-400",disabled:"opacity-50 cursor-not-allowed",enabled:"hover:opacity-90"};function Ft({children:r,small:e,large:t,secondary:s,tertiary:o,success:u,warning:h,danger:d,info:g,disabled:y=!1,icon:E,className:T,onClick:S}){const P=ll({[_n.small]:e,[_n.medium]:!e&&!t,[_n.large]:t,[_n.primary]:!s&&!o,[_n.secondary]:s,[_n.tertiary]:o,[_n.success]:u,[_n.warning]:h,[_n.danger]:d,[_n.info]:g,[_n.disabled]:y,[_n.enabled]:!y});return B.jsxs("button",{className:ll("w-fit inline-flex items-center justify-center font-medium focus:outline-none transition text-nowrap",P,T),disabled:y,onClick:S,children:[E&&B.jsx(E,{className:"mr-2 w-5 h-5"}),r]})}var K=qp();const zT=Sa(K);var na={},By;function $T(){if(By)return na;By=1,Object.defineProperty(na,"__esModule",{value:!0}),na.parse=h,na.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,P){const b=new u,F=S.length;if(F<2)return b;const L=(P==null?void 0:P.decode)||E;let $=0;do{const G=S.indexOf("=",$);if(G===-1)break;const ee=S.indexOf(";",$),ne=ee===-1?F:ee;if(G>ne){$=S.lastIndexOf(";",G-1)+1;continue}const de=d(S,$,G),se=g(S,G,de),x=S.slice(de,se);if(b[x]===void 0){let I=d(S,G+1,ne),A=g(S,ne,I);const D=L(S.slice(I,A));b[x]=D}$=ne+1}while($<F);return b}function d(S,P,b){do{const F=S.charCodeAt(P);if(F!==32&&F!==9)return P}while(++P<b);return b}function g(S,P,b){for(;P>b;){const F=S.charCodeAt(--P);if(F!==32&&F!==9)return P+1}return b}function y(S,P,b){const F=(b==null?void 0:b.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const L=F(P);if(!e.test(L))throw new TypeError(`argument val is invalid: ${P}`);let $=S+"="+L;if(!b)return $;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);$+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);$+="; Domain="+b.domain}if(b.path){if(!s.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);$+="; Path="+b.path}if(b.expires){if(!T(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);$+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&($+="; HttpOnly"),b.secure&&($+="; Secure"),b.partitioned&&($+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return na}$T();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zy="popstate";function HT(r={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return gp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:pa(o)}return KT(e,t,null,r)}function Ze(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GT(){return Math.random().toString(36).substring(2,10)}function $y(r,e){return{usr:r.state,key:r.key,idx:e}}function gp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Js(e):e,state:t,key:e&&e.key||s||GT()}}function pa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Js(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function KT(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let L=E(),$=L==null?null:L-y;y=L,g&&g({action:d,location:F.location,delta:$})}function S(L,$){d="PUSH";let G=gp(F.location,L,$);y=E()+1;let ee=$y(G,y),ne=F.createHref(G);try{h.pushState(ee,"",ne)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(ne)}u&&g&&g({action:d,location:F.location,delta:1})}function P(L,$){d="REPLACE";let G=gp(F.location,L,$);y=E();let ee=$y(G,y),ne=F.createHref(G);h.replaceState(ee,"",ne),u&&g&&g({action:d,location:F.location,delta:0})}function b(L){let $=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof L=="string"?L:pa(L);return G=G.replace(/ $/,"%20"),Ze($,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,$)}let F={get action(){return d},get location(){return r(o,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(zy,T),g=L,()=>{o.removeEventListener(zy,T),g=null}},createHref(L){return e(o,L)},createURL:b,encodeLocation(L){let $=b(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:P,go(L){return h.go(L)}};return F}function PE(r,e,t="/"){return WT(r,e,t,!1)}function WT(r,e,t,s){let o=typeof e=="string"?Js(e):e,u=ti(o.pathname||"/",t);if(u==null)return null;let h=xE(r);QT(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let y=oS(u);d=iS(h[g],y,s)}return d}function xE(r,e=[],t=[],s=""){let o=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Ze(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=vr([s,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(Ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),xE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:nS(y,u.index),routesMeta:E})};return r.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let g of kE(u.path))o(u,h,g)}),e}function kE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=kE(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&d.push(...h),d.map(g=>r.startsWith("/")&&g===""?"/":g)}function QT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:rS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var YT=/^:[\w-]+$/,XT=3,JT=2,ZT=1,eS=10,tS=-2,Hy=r=>r==="*";function nS(r,e){let t=r.split("/"),s=t.length;return t.some(Hy)&&(s+=tS),e&&(s+=JT),t.filter(o=>!Hy(o)).reduce((o,u)=>o+(YT.test(u)?XT:u===""?ZT:eS),s)}function rS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function iS(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],y=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=cl({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!T&&y&&t&&!s[s.length-1].route.index&&(T=cl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:vr([u,T.pathname]),pathnameBase:cS(vr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=vr([u,T.pathnameBase]))}return h}function cl(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=sS(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},S)=>{if(E==="*"){let b=d[S]||"";h=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const P=d[S];return T&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function sS(r,e=!1,t=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function oS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ti(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function aS(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Js(r):r;return{pathname:t?t.startsWith("/")?t:uS(t,e):e,search:hS(s),hash:fS(o)}}function uS(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ch(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function DE(r){let e=lS(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function NE(r,e,t,s=!1){let o;typeof r=="string"?o=Js(r):(o={...r},Ze(!o.pathname||!o.pathname.includes("?"),Ch("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Ch("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Ch("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}d=T>=0?e[T]:"/"}let g=aS(o,d),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var vr=r=>r.join("/").replace(/\/\/+/g,"/"),cS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),hS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,fS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function dS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var VE=["POST","PUT","PATCH","DELETE"];new Set(VE);var pS=["GET",...VE];new Set(pS);var Zs=K.createContext(null);Zs.displayName="DataRouter";var Il=K.createContext(null);Il.displayName="DataRouterState";var bE=K.createContext({isTransitioning:!1});bE.displayName="ViewTransition";var mS=K.createContext(new Map);mS.displayName="Fetchers";var gS=K.createContext(null);gS.displayName="Await";var Jn=K.createContext(null);Jn.displayName="Navigation";var Ia=K.createContext(null);Ia.displayName="Location";var Zn=K.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Bp=K.createContext(null);Bp.displayName="RouteError";function yS(r,{relative:e}={}){Ze(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(Jn),{hash:o,pathname:u,search:h}=Aa(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:vr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Ra(){return K.useContext(Ia)!=null}function zi(){return Ze(Ra(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Ia).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OE(r){K.useContext(Jn).static||K.useLayoutEffect(r)}function vS(){let{isDataRoute:r}=K.useContext(Zn);return r?NS():_S()}function _S(){Ze(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Zs),{basename:e,navigator:t}=K.useContext(Jn),{matches:s}=K.useContext(Zn),{pathname:o}=zi(),u=JSON.stringify(DE(s)),h=K.useRef(!1);return OE(()=>{h.current=!0}),K.useCallback((g,y={})=>{if(Qn(h.current,LE),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=NE(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vr([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,u,o,r])}K.createContext(null);function ES(){let{matches:r}=K.useContext(Zn),e=r[r.length-1];return e?e.params:{}}function Aa(r,{relative:e}={}){let{matches:t}=K.useContext(Zn),{pathname:s}=zi(),o=JSON.stringify(DE(t));return K.useMemo(()=>NE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function wS(r,e){return ME(r,e)}function ME(r,e,t,s){var $;Ze(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(Jn),{matches:u}=K.useContext(Zn),h=u[u.length-1],d=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let G=E&&E.path||"";FE(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=zi(),S;if(e){let G=typeof e=="string"?Js(e):e;Ze(y==="/"||(($=G.pathname)==null?void 0:$.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),S=G}else S=T;let P=S.pathname||"/",b=P;if(y!=="/"){let G=y.replace(/^\//,"").split("/");b="/"+P.replace(/^\//,"").split("/").slice(G.length).join("/")}let F=PE(r,{pathname:b});Qn(E||F!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Qn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=AS(F&&F.map(G=>Object.assign({},G,{params:Object.assign({},d,G.params),pathname:vr([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:vr([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,t,s);return e&&L?K.createElement(Ia.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function TS(){let r=DS(),e=dS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,h)}var SS=K.createElement(TS,null),IS=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(Zn.Provider,{value:this.props.routeContext},K.createElement(Bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RS({routeContext:r,match:e,children:t}){let s=K.useContext(Zs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Zn.Provider,{value:r},t)}function AS(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Ze(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:E,errors:T}=t,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let T,S=!1,P=null,b=null;t&&(T=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||SS,h&&(d<0&&E===0?(FE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,b=null):d===E&&(S=!0,b=y.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),L=()=>{let $;return T?$=P:S?$=b:y.route.Component?$=K.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,K.createElement(RS,{match:y,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:$})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?K.createElement(IS,{location:t.location,revalidation:t.revalidation,component:P,error:T,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):L()},null)}function zp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CS(r){let e=K.useContext(Zs);return Ze(e,zp(r)),e}function PS(r){let e=K.useContext(Il);return Ze(e,zp(r)),e}function xS(r){let e=K.useContext(Zn);return Ze(e,zp(r)),e}function $p(r){let e=xS(r),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function kS(){return $p("useRouteId")}function DS(){var s;let r=K.useContext(Bp),e=PS("useRouteError"),t=$p("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function NS(){let{router:r}=CS("useNavigate"),e=$p("useNavigate"),t=K.useRef(!1);return OE(()=>{t.current=!0}),K.useCallback(async(o,u={})=>{Qn(t.current,LE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Gy={};function FE(r,e,t){!e&&!Gy[r]&&(Gy[r]=!0,Qn(!1,t))}K.memo(VS);function VS({routes:r,future:e,state:t}){return ME(r,void 0,t,e)}function Qr(r){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bS({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Ze(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Js(t));let{pathname:g="/",search:y="",hash:E="",state:T=null,key:S="default"}=t,P=K.useMemo(()=>{let b=ti(g,h);return b==null?null:{location:{pathname:b,search:y,hash:E,state:T,key:S},navigationType:s}},[h,g,y,E,T,S,s]);return Qn(P!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:K.createElement(Jn.Provider,{value:d},K.createElement(Ia.Provider,{children:e,value:P}))}function LS({children:r,location:e}){return wS(yp(r),e)}function yp(r,e=[]){let t=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){t.push.apply(t,yp(s.props.children,u));return}Ze(s.type===Qr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=yp(s.props.children,u)),t.push(h)}),t}var nl="get",rl="application/x-www-form-urlencoded";function Rl(r){return r!=null&&typeof r.tagName=="string"}function OS(r){return Rl(r)&&r.tagName.toLowerCase()==="button"}function MS(r){return Rl(r)&&r.tagName.toLowerCase()==="form"}function FS(r){return Rl(r)&&r.tagName.toLowerCase()==="input"}function jS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function US(r,e){return r.button===0&&(!e||e==="_self")&&!jS(r)}var Qu=null;function qS(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var BS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ph(r){return r!=null&&!BS.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rl}"`),null):r}function zS(r,e){let t,s,o,u,h;if(MS(r)){let d=r.getAttribute("action");s=d?ti(d,e):null,t=r.getAttribute("method")||nl,o=Ph(r.getAttribute("enctype"))||rl,u=new FormData(r)}else if(OS(r)||FS(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||d.getAttribute("action");if(s=g?ti(g,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||nl,o=Ph(r.getAttribute("formenctype"))||Ph(d.getAttribute("enctype"))||rl,u=new FormData(d,r),!qS()){let{name:y,type:E,value:T}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,T)}}else{if(Rl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nl,s=null,o=rl,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Hp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function $S(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GS(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await $S(u,t);return h.links?h.links():[]}return[]}));return YS(s.flat(1).filter(HS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ky(r,e,t,s,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,d=(g,y)=>{var E;return t[y].pathname!==g.pathname||((E=t[y].route.path)==null?void 0:E.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||d(g,y)):u==="data"?e.filter((g,y)=>{var T;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||d(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function KS(r,e){return WS(r.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function WS(r){return[...new Set(r)]}function QS(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function YS(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(QS(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function XS(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function JS(){let r=K.useContext(Zs);return Hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ZS(){let r=K.useContext(Il);return Hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gp=K.createContext(void 0);Gp.displayName="FrameworkContext";function jE(){let r=K.useContext(Gp);return Hp(r,"You must render this element inside a <HydratedRouter> element"),r}function eI(r,e){let t=K.useContext(Gp),[s,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,S=K.useRef(null);K.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=$=>{$.forEach(G=>{h(G.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[r]),K.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let P=()=>{o(!0)},b=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,S,{}]:[u,S,{onFocus:ra(d,P),onBlur:ra(g,b),onMouseEnter:ra(y,P),onMouseLeave:ra(E,b),onTouchStart:ra(T,P)}]:[!1,S,{}]}function ra(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function tI({page:r,...e}){let{router:t}=JS(),s=K.useMemo(()=>PE(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?K.createElement(rI,{page:r,matches:s,...e}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function nI(r){let{manifest:e,routeModules:t}=jE(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return GS(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function rI({page:r,matches:e,...t}){let s=zi(),{manifest:o,routeModules:u}=jE(),{loaderData:h,matches:d}=ZS(),g=K.useMemo(()=>Ky(r,e,d,o,s,"data"),[r,e,d,o,s]),y=K.useMemo(()=>Ky(r,e,d,o,s,"assets"),[r,e,d,o,s]),E=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,b=!1;if(e.forEach(L=>{var G;let $=o.routes[L.route.id];!$||!$.hasLoader||(!g.some(ee=>ee.route.id===L.route.id)&&L.route.id in h&&((G=u[L.route.id])!=null&&G.shouldRevalidate)||$.hasClientLoader?b=!0:P.add(L.route.id))}),P.size===0)return[];let F=XS(r);return b&&P.size>0&&F.searchParams.set("_routes",e.filter(L=>P.has(L.route.id)).map(L=>L.route.id).join(",")),[F.pathname+F.search]},[h,s,o,g,e,r,u]),T=K.useMemo(()=>KS(y,o),[y,o]),S=nI(y);return K.createElement(K.Fragment,null,E.map(P=>K.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),T.map(P=>K.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),S.map(({key:P,link:b})=>K.createElement("link",{key:P,...b})))}function iI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var UE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UE&&(window.__reactRouterVersion="7.0.2")}catch{}function sI({basename:r,children:e,window:t}){let s=K.useRef();s.current==null&&(s.current=HT({window:t,v5Compat:!0}));let o=s.current,[u,h]=K.useState({action:o.action,location:o.location}),d=K.useCallback(g=>{K.startTransition(()=>h(g))},[h]);return K.useLayoutEffect(()=>o.listen(d),[o,d]),K.createElement(bS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kp=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:g,to:y,preventScrollReset:E,viewTransition:T,...S},P){let{basename:b}=K.useContext(Jn),F=typeof y=="string"&&qE.test(y),L,$=!1;if(typeof y=="string"&&F&&(L=y,UE))try{let A=new URL(window.location.href),D=y.startsWith("//")?new URL(A.protocol+y):new URL(y),k=ti(D.pathname,b);D.origin===A.origin&&k!=null?y=k+D.search+D.hash:$=!0}catch{Qn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=yS(y,{relative:o}),[ee,ne,de]=eI(s,S),se=lI(y,{replace:h,state:d,target:g,preventScrollReset:E,relative:o,viewTransition:T});function x(A){e&&e(A),A.defaultPrevented||se(A)}let I=K.createElement("a",{...S,...de,href:L||G,onClick:$||u?e:x,ref:iI(P,ne),target:g,"data-discover":!F&&t==="render"?"true":void 0});return ee&&!F?K.createElement(K.Fragment,null,I,K.createElement(tI,{page:G})):I});Kp.displayName="Link";var oI=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:g,...y},E){let T=Aa(h,{relative:y.relative}),S=zi(),P=K.useContext(Il),{navigator:b,basename:F}=K.useContext(Jn),L=P!=null&&pI(T)&&d===!0,$=b.encodeLocation?b.encodeLocation(T).pathname:T.pathname,G=S.pathname,ee=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(G=G.toLowerCase(),ee=ee?ee.toLowerCase():null,$=$.toLowerCase()),ee&&F&&(ee=ti(ee,F)||ee);const ne=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let de=G===$||!o&&G.startsWith($)&&G.charAt(ne)==="/",se=ee!=null&&(ee===$||!o&&ee.startsWith($)&&ee.charAt($.length)==="/"),x={isActive:de,isPending:se,isTransitioning:L},I=de?e:void 0,A;typeof s=="function"?A=s(x):A=[s,de?"active":null,se?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(x):u;return K.createElement(Kp,{...y,"aria-current":I,className:A,ref:E,style:D,to:h,viewTransition:d},typeof g=="function"?g(x):g)});oI.displayName="NavLink";var aI=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=nl,action:d,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:T,...S},P)=>{let b=fI(),F=dI(d,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&qE.test(d),G=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let ne=ee.nativeEvent.submitter,de=(ne==null?void 0:ne.getAttribute("formmethod"))||h;b(ne||ee.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return K.createElement("form",{ref:P,method:L,action:F,onSubmit:s?g:G,...S,"data-discover":!$&&r==="render"?"true":void 0})});aI.displayName="Form";function uI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(r){let e=K.useContext(Zs);return Ze(e,uI(r)),e}function lI(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=vS(),g=zi(),y=Aa(r,{relative:u});return K.useCallback(E=>{if(US(E,e)){E.preventDefault();let T=t!==void 0?t:pa(g)===pa(y);d(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,d,y,t,s,e,r,o,u,h])}var cI=0,hI=()=>`__${String(++cI)}__`;function fI(){let{router:r}=BE("useSubmit"),{basename:e}=K.useContext(Jn),t=kS();return K.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:g,body:y}=zS(s,e);if(o.navigate===!1){let E=o.fetcherKey||hI();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function dI(r,{relative:e}={}){let{basename:t}=K.useContext(Jn),s=K.useContext(Zn);Ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Aa(r||".",{relative:e})},h=zi();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:vr([t,u.pathname])),pa(u)}function pI(r,e={}){let t=K.useContext(bE);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=BE("useViewTransitionState"),o=Aa(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ti(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ti(t.nextLocation.pathname,s)||t.nextLocation.pathname;return cl(o.pathname,h)!=null||cl(o.pathname,u)!=null}new TextEncoder;var xh={exports:{}},Yt={},kh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function mI(){return Wy||(Wy=1,function(r){function e(ie,ge){var ae=ie.length;ie.push(ge);e:for(;0<ae;){var M=ae-1>>>1,Q=ie[M];if(0<o(Q,ge))ie[M]=ge,ie[ae]=Q,ae=M;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ge=ie[0],ae=ie.pop();if(ae!==ge){ie[0]=ae;e:for(var M=0,Q=ie.length,pe=Q>>>1;M<pe;){var Ie=2*(M+1)-1,Re=ie[Ie],ke=Ie+1,Oe=ie[ke];if(0>o(Re,ae))ke<Q&&0>o(Oe,Re)?(ie[M]=Oe,ie[ke]=ae,M=ke):(ie[M]=Re,ie[Ie]=ae,M=Ie);else if(ke<Q&&0>o(Oe,ae))ie[M]=Oe,ie[ke]=ae,M=ke;else break e}}return ge}function o(ie,ge){var ae=ie.sortIndex-ge.sortIndex;return ae!==0?ae:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],y=[],E=1,T=null,S=3,P=!1,b=!1,F=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ie){for(var ge=t(y);ge!==null;){if(ge.callback===null)s(y);else if(ge.startTime<=ie)s(y),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=t(y)}}function ne(ie){if(F=!1,ee(ie),!b)if(t(g)!==null)b=!0,yt(de);else{var ge=t(y);ge!==null&&Ue(ne,ge.startTime-ie)}}function de(ie,ge){b=!1,F&&(F=!1,$(I),I=-1),P=!0;var ae=S;try{for(ee(ge),T=t(g);T!==null&&(!(T.expirationTime>ge)||ie&&!k());){var M=T.callback;if(typeof M=="function"){T.callback=null,S=T.priorityLevel;var Q=M(T.expirationTime<=ge);ge=r.unstable_now(),typeof Q=="function"?T.callback=Q:T===t(g)&&s(g),ee(ge)}else s(g);T=t(g)}if(T!==null)var pe=!0;else{var Ie=t(y);Ie!==null&&Ue(ne,Ie.startTime-ge),pe=!1}return pe}finally{T=null,S=ae,P=!1}}var se=!1,x=null,I=-1,A=5,D=-1;function k(){return!(r.unstable_now()-D<A)}function O(){if(x!==null){var ie=r.unstable_now();D=ie;var ge=!0;try{ge=x(!0,ie)}finally{ge?C():(se=!1,x=null)}}else se=!1}var C;if(typeof G=="function")C=function(){G(O)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,nt=He.port2;He.port1.onmessage=O,C=function(){nt.postMessage(null)}}else C=function(){L(O,0)};function yt(ie){x=ie,se||(se=!0,C())}function Ue(ie,ge){I=L(function(){ie(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){b||P||(b=!0,yt(de))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var ae=S;S=ge;try{return ie()}finally{S=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=S;S=ie;try{return ge()}finally{S=ae}},r.unstable_scheduleCallback=function(ie,ge,ae){var M=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?M+ae:M):ae=M,ie){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ae+Q,ie={id:E++,callback:ge,priorityLevel:ie,startTime:ae,expirationTime:Q,sortIndex:-1},ae>M?(ie.sortIndex=ae,e(y,ie),t(g)===null&&ie===t(y)&&(F?($(I),I=-1):F=!0,Ue(ne,ae-M))):(ie.sortIndex=Q,e(g,ie),b||P||(b=!0,yt(de))),ie},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(ie){var ge=S;return function(){var ae=S;S=ge;try{return ie.apply(this,arguments)}finally{S=ae}}}}(Dh)),Dh}var Qy;function gI(){return Qy||(Qy=1,kh.exports=mI()),kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function yI(){if(Yy)return Yt;Yy=1;var r=qp(),e=gI();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function S(n){return g.call(T,n)?!0:g.call(E,n)?!1:y.test(n)?T[n]=!0:(E[n]=!0,!1)}function P(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b(n,i,a,c){if(i===null||typeof i>"u"||P(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function F(n,i,a,c,f,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){L[n]=new F(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];L[i]=new F(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){L[n]=new F(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){L[n]=new F(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){L[n]=new F(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){L[n]=new F(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){L[n]=new F(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){L[n]=new F(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){L[n]=new F(n,5,!1,n.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function G(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace($,G);L[i]=new F(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace($,G);L[i]=new F(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace($,G);L[i]=new F(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){L[n]=new F(n,1,!1,n.toLowerCase(),null,!1,!1)}),L.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){L[n]=new F(n,1,!1,n.toLowerCase(),null,!0,!0)});function ee(n,i,a,c){var f=L.hasOwnProperty(i)?L[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,a,f,c)&&(a=null),c||f===null?S(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ne=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),se=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var ae=Object.assign,M;function Q(n){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+n}var pe=!1;function Ie(n,i){if(!n||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var c=z}Reflect.construct(n,[],i)}else{try{i.call()}catch(z){c=z}n.call(i.prototype)}else{try{throw Error()}catch(z){c=z}n()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,R=m.length-1;1<=_&&0<=R&&f[_]!==m[R];)R--;for(;1<=_&&0<=R;_--,R--)if(f[_]!==m[R]){if(_!==1||R!==1)do if(_--,R--,0>R||f[_]!==m[R]){var N=`
`+f[_].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),N}while(1<=_&&0<=R);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Q(n):""}function Re(n){switch(n.tag){case 5:return Q(n.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case se:return"Portal";case A:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case He:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k:return(n.displayName||"Context")+".Consumer";case D:return(n._context.displayName||"Context")+".Provider";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case nt:return i=n.displayName||null,i!==null?i:ke(n.type)||"Memo";case yt:i=n._payload,n=n._init;try{return ke(n(i))}catch{}}return null}function Oe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vt(n){var i=Be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function er(n){n._valueTracker||(n._valueTracker=vt(n))}function Gi(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Ir(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ci(n,i){var a=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ki(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function oo(n,i){i=i.checked,i!=null&&ee(n,"checked",i,!1)}function ao(n,i){oo(n,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Wi(n,i.type,a):i.hasOwnProperty("defaultValue")&&Wi(n,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Va(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Wi(n,i,a){(i!=="number"||Ir(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var tr=Array.isArray;function nr(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function uo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Qi(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(tr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Me(a)}}function Yi(n,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function lo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function lt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?lt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var rr,co=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=rr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Rr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fi=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(n){fi.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),hi[i]=hi[n]})});function ho(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||hi.hasOwnProperty(n)&&hi[n]?(""+i).trim():i+"px"}function fo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=ho(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var po=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(n,i){if(i){if(po[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function go(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function Xi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ji=null,ln=null,Ln=null;function Zi(n){if(n=Uo(n)){if(typeof Ji!="function")throw Error(t(280));var i=n.stateNode;i&&(i=lu(i),Ji(n.stateNode,n.type,i))}}function On(n){ln?Ln?Ln.push(n):Ln=[n]:ln=n}function yo(){if(ln){var n=ln,i=Ln;if(Ln=ln=null,Zi(n),i)for(n=0;n<i.length;n++)Zi(i[n])}}function pi(n,i){return n(i)}function vo(){}var ir=!1;function _o(n,i,a){if(ir)return n(i,a);ir=!0;try{return pi(n,i,a)}finally{ir=!1,(ln!==null||Ln!==null)&&(vo(),yo())}}function rt(n,i){var a=n.stateNode;if(a===null)return null;var c=lu(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var es=!1;if(d)try{var En={};Object.defineProperty(En,"passive",{get:function(){es=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{es=!1}function mi(n,i,a,c,f,m,_,R,N){var z=Array.prototype.slice.call(arguments,3);try{i.apply(a,z)}catch(X){this.onError(X)}}var gi=!1,ts=null,wn=!1,Eo=null,Zl={onError:function(n){gi=!0,ts=n}};function ns(n,i,a,c,f,m,_,R,N){gi=!1,ts=null,mi.apply(Zl,arguments)}function ba(n,i,a,c,f,m,_,R,N){if(ns.apply(this,arguments),gi){if(gi){var z=ts;gi=!1,ts=null}else throw Error(t(198));wn||(wn=!0,Eo=z)}}function Tn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,i.flags&4098&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function yi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Sn(n){if(Tn(n)!==n)throw Error(t(188))}function La(n){var i=n.alternate;if(!i){if(i=Tn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return Sn(f),n;if(m===c)return Sn(f),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=m;else{for(var _=!1,R=f.child;R;){if(R===a){_=!0,a=f,c=m;break}if(R===c){_=!0,c=f,a=m;break}R=R.sibling}if(!_){for(R=m.child;R;){if(R===a){_=!0,a=m,c=f;break}if(R===c){_=!0,c=m,a=f;break}R=R.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function wo(n){return n=La(n),n!==null?rs(n):null}function rs(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=rs(n);if(i!==null)return i;n=n.sibling}return null}var is=e.unstable_scheduleCallback,To=e.unstable_cancelCallback,Oa=e.unstable_shouldYield,ec=e.unstable_requestPaint,ze=e.unstable_now,Ma=e.unstable_getCurrentPriorityLevel,vi=e.unstable_ImmediatePriority,Ar=e.unstable_UserBlockingPriority,cn=e.unstable_NormalPriority,So=e.unstable_LowPriority,Fa=e.unstable_IdlePriority,_i=null,Zt=null;function ja(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(_i,n,void 0,(n.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:qa,Io=Math.log,Ua=Math.LN2;function qa(n){return n>>>=0,n===0?32:31-(Io(n)/Ua|0)|0}var ss=64,os=4194304;function Cr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ei(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var R=_&~f;R!==0?c=Cr(R):(m&=_,m!==0&&(c=Cr(m)))}else _=a&~f,_!==0?c=Cr(_):m!==0&&(c=Cr(m));if(c===0)return 0;if(i!==0&&i!==c&&!(i&f)&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if(c&4&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-jt(i),f=1<<a,c|=n[a],i&=~f;return c}function tc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-jt(m),R=1<<_,N=f[_];N===-1?(!(R&a)||R&c)&&(f[_]=tc(R,i)):N<=i&&(n.expiredLanes|=R),m&=~R}}function en(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function wi(){var n=ss;return ss<<=1,!(ss&4194240)&&(ss=64),n}function Pr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function xr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-jt(i),n[i]=a}function qe(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-jt(a),m=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~m}}function kr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-jt(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var Pe=0;function Dr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Ba,as,za,$a,Ha,Ro=!1,Mn=[],It=null,In=null,Rn=null,Nr=new Map,hn=new Map,Fn=[],nc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ga(n,i){switch(n){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Nr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hn.delete(i.pointerId)}}function zt(n,i,a,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Uo(i),i!==null&&as(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function rc(n,i,a,c,f){switch(i){case"focusin":return It=zt(It,n,i,a,c,f),!0;case"dragenter":return In=zt(In,n,i,a,c,f),!0;case"mouseover":return Rn=zt(Rn,n,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return Nr.set(m,zt(Nr.get(m)||null,n,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,hn.set(m,zt(hn.get(m)||null,n,i,a,c,f)),!0}return!1}function Ka(n){var i=Ai(n.target);if(i!==null){var a=Tn(i);if(a!==null){if(i=a.tag,i===13){if(i=yi(a),i!==null){n.blockedOn=i,Ha(n.priority,function(){za(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function or(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=us(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);di=c,a.target.dispatchEvent(c),di=null}else return i=Uo(a),i!==null&&as(i),n.blockedOn=a,!1;i.shift()}return!0}function Ti(n,i,a){or(n)&&a.delete(i)}function Wa(){Ro=!1,It!==null&&or(It)&&(It=null),In!==null&&or(In)&&(In=null),Rn!==null&&or(Rn)&&(Rn=null),Nr.forEach(Ti),hn.forEach(Ti)}function An(n,i){n.blockedOn===i&&(n.blockedOn=null,Ro||(Ro=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wa)))}function Cn(n){function i(f){return An(f,n)}if(0<Mn.length){An(Mn[0],n);for(var a=1;a<Mn.length;a++){var c=Mn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(It!==null&&An(It,n),In!==null&&An(In,n),Rn!==null&&An(Rn,n),Nr.forEach(i),hn.forEach(i),a=0;a<Fn.length;a++)c=Fn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Fn.length&&(a=Fn[0],a.blockedOn===null);)Ka(a),a.blockedOn===null&&Fn.shift()}var ar=ne.ReactCurrentBatchConfig,Vr=!0;function We(n,i,a,c){var f=Pe,m=ar.transition;ar.transition=null;try{Pe=1,Ao(n,i,a,c)}finally{Pe=f,ar.transition=m}}function ic(n,i,a,c){var f=Pe,m=ar.transition;ar.transition=null;try{Pe=4,Ao(n,i,a,c)}finally{Pe=f,ar.transition=m}}function Ao(n,i,a,c){if(Vr){var f=us(n,i,a,c);if(f===null)mc(n,i,c,Si,a),Ga(n,c);else if(rc(f,n,i,a,c))c.stopPropagation();else if(Ga(n,c),i&4&&-1<nc.indexOf(n)){for(;f!==null;){var m=Uo(f);if(m!==null&&Ba(m),m=us(n,i,a,c),m===null&&mc(n,i,c,Si,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else mc(n,i,c,null,a)}}var Si=null;function us(n,i,a,c){if(Si=null,n=Xi(c),n=Ai(n),n!==null)if(i=Tn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=yi(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Si=n,null}function Co(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ma()){case vi:return 1;case Ar:return 4;case cn:case So:return 16;case Fa:return 536870912;default:return 16}default:return 16}}var tn=null,ls=null,$t=null;function Po(){if($t)return $t;var n,i=ls,a=i.length,c,f="value"in tn?tn.value:tn.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===f[m-c];c++);return $t=f.slice(n,1<c?1-c:void 0)}function cs(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function jn(){return!0}function xo(){return!1}function Rt(n){function i(a,c,f,m,_){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?jn:xo,this.isPropagationStopped=xo,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),i}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=Rt(Pn),Un=ae({},Pn,{view:0,detail:0}),sc=Rt(Un),fs,ur,br,Ii=ae({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==br&&(br&&n.type==="mousemove"?(fs=n.screenX-br.screenX,ur=n.screenY-br.screenY):ur=fs=0,br=n),fs)},movementY:function(n){return"movementY"in n?n.movementY:ur}}),ds=Rt(Ii),ko=ae({},Ii,{dataTransfer:0}),Qa=Rt(ko),ps=ae({},Un,{relatedTarget:0}),ms=Rt(ps),Ya=ae({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),lr=Rt(Ya),Xa=ae({},Pn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ja=Rt(Xa),Za=ae({},Pn,{data:0}),Do=Rt(Za),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=eu[n])?!!i[n]:!1}function qn(){return tu}var l=ae({},Un,{key:function(n){if(n.key){var i=gs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ut[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(n){return n.type==="keypress"?cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Rt(l),v=ae({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Rt(v),j=ae({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),H=Rt(j),re=ae({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Rt(re),ht=ae({},Ii,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),De=Rt(ht),_t=[9,13,27,32],ot=d&&"CompositionEvent"in window,fn=null;d&&"documentMode"in document&&(fn=document.documentMode);var nn=d&&"TextEvent"in window&&!fn,Ri=d&&(!ot||fn&&8<fn&&11>=fn),ys=" ",Nm=!1;function Vm(n,i){switch(n){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vs=!1;function M1(n,i){switch(n){case"compositionend":return bm(i);case"keypress":return i.which!==32?null:(Nm=!0,ys);case"textInput":return n=i.data,n===ys&&Nm?null:n;default:return null}}function F1(n,i){if(vs)return n==="compositionend"||!ot&&Vm(n,i)?(n=Po(),$t=ls=tn=null,vs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var j1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!j1[n.type]:i==="textarea"}function Om(n,i,a,c){On(c),i=ou(i,"onChange"),0<i.length&&(a=new hs("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var No=null,Vo=null;function U1(n){eg(n,0)}function nu(n){var i=Ss(n);if(Gi(i))return n}function q1(n,i){if(n==="change")return i}var Mm=!1;if(d){var oc;if(d){var ac="oninput"in document;if(!ac){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),ac=typeof Fm.oninput=="function"}oc=ac}else oc=!1;Mm=oc&&(!document.documentMode||9<document.documentMode)}function jm(){No&&(No.detachEvent("onpropertychange",Um),Vo=No=null)}function Um(n){if(n.propertyName==="value"&&nu(Vo)){var i=[];Om(i,Vo,n,Xi(n)),_o(U1,i)}}function B1(n,i,a){n==="focusin"?(jm(),No=i,Vo=a,No.attachEvent("onpropertychange",Um)):n==="focusout"&&jm()}function z1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nu(Vo)}function $1(n,i){if(n==="click")return nu(i)}function H1(n,i){if(n==="input"||n==="change")return nu(i)}function G1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var xn=typeof Object.is=="function"?Object.is:G1;function bo(n,i){if(xn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!xn(n[f],i[f]))return!1}return!0}function qm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bm(n,i){var a=qm(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qm(a)}}function zm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?zm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function $m(){for(var n=window,i=Ir();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ir(n.document)}return i}function uc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function K1(n){var i=$m(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&zm(a.ownerDocument.documentElement,a)){if(c!==null&&uc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!n.extend&&m>c&&(f=c,c=m,m=f),f=Bm(a,m);var _=Bm(a,c);f&&_&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var W1=d&&"documentMode"in document&&11>=document.documentMode,_s=null,lc=null,Lo=null,cc=!1;function Hm(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cc||_s==null||_s!==Ir(c)||(c=_s,"selectionStart"in c&&uc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Lo&&bo(Lo,c)||(Lo=c,c=ou(lc,"onSelect"),0<c.length&&(i=new hs("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=_s)))}function ru(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Es={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},hc={},Gm={};d&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function iu(n){if(hc[n])return hc[n];if(!Es[n])return n;var i=Es[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gm)return hc[n]=i[a];return n}var Km=iu("animationend"),Wm=iu("animationiteration"),Qm=iu("animationstart"),Ym=iu("transitionend"),Xm=new Map,Jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(n,i){Xm.set(n,i),u(i,[n])}for(var fc=0;fc<Jm.length;fc++){var dc=Jm[fc],Q1=dc.toLowerCase(),Y1=dc[0].toUpperCase()+dc.slice(1);Lr(Q1,"on"+Y1)}Lr(Km,"onAnimationEnd"),Lr(Wm,"onAnimationIteration"),Lr(Qm,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Ym,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function Zm(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,ba(c,i,void 0,n),n.currentTarget=null}function eg(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var R=c[_],N=R.instance,z=R.currentTarget;if(R=R.listener,N!==m&&f.isPropagationStopped())break e;Zm(f,R,z),m=N}else for(_=0;_<c.length;_++){if(R=c[_],N=R.instance,z=R.currentTarget,R=R.listener,N!==m&&f.isPropagationStopped())break e;Zm(f,R,z),m=N}}}if(wn)throw n=Eo,wn=!1,Eo=null,n}function Ge(n,i){var a=i[wc];a===void 0&&(a=i[wc]=new Set);var c=n+"__bubble";a.has(c)||(tg(i,n,2,!1),a.add(c))}function pc(n,i,a){var c=0;i&&(c|=4),tg(a,n,c,i)}var su="_reactListening"+Math.random().toString(36).slice(2);function Mo(n){if(!n[su]){n[su]=!0,s.forEach(function(a){a!=="selectionchange"&&(X1.has(a)||pc(a,!1,n),pc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[su]||(i[su]=!0,pc("selectionchange",!1,i))}}function tg(n,i,a,c){switch(Co(i)){case 1:var f=We;break;case 4:f=ic;break;default:f=Ao}a=f.bind(null,i,a,n),f=void 0,!es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function mc(n,i,a,c,f){var m=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var R=c.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;_=_.return}for(;R!==null;){if(_=Ai(R),_===null)return;if(N=_.tag,N===5||N===6){c=m=_;continue e}R=R.parentNode}}c=c.return}_o(function(){var z=m,X=Xi(a),Z=[];e:{var Y=Xm.get(n);if(Y!==void 0){var oe=hs,ce=n;switch(n){case"keypress":if(cs(a)===0)break e;case"keydown":case"keyup":oe=p;break;case"focusin":ce="focus",oe=ms;break;case"focusout":ce="blur",oe=ms;break;case"beforeblur":case"afterblur":oe=ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ds;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Qa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=H;break;case Km:case Wm:case Qm:oe=lr;break;case Ym:oe=je;break;case"scroll":oe=sc;break;case"wheel":oe=De;break;case"copy":case"cut":case"paste":oe=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=w}var he=(i&4)!==0,it=!he&&n==="scroll",U=he?Y!==null?Y+"Capture":null:Y;he=[];for(var V=z,q;V!==null;){q=V;var te=q.stateNode;if(q.tag===5&&te!==null&&(q=te,U!==null&&(te=rt(V,U),te!=null&&he.push(Fo(V,te,q)))),it)break;V=V.return}0<he.length&&(Y=new oe(Y,ce,null,a,X),Z.push({event:Y,listeners:he}))}}if(!(i&7)){e:{if(Y=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",Y&&a!==di&&(ce=a.relatedTarget||a.fromElement)&&(Ai(ce)||ce[cr]))break e;if((oe||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=z,ce=ce?Ai(ce):null,ce!==null&&(it=Tn(ce),ce!==it||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=z),oe!==ce)){if(he=ds,te="onMouseLeave",U="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(he=w,te="onPointerLeave",U="onPointerEnter",V="pointer"),it=oe==null?Y:Ss(oe),q=ce==null?Y:Ss(ce),Y=new he(te,V+"leave",oe,a,X),Y.target=it,Y.relatedTarget=q,te=null,Ai(X)===z&&(he=new he(U,V+"enter",ce,a,X),he.target=q,he.relatedTarget=it,te=he),it=te,oe&&ce)t:{for(he=oe,U=ce,V=0,q=he;q;q=ws(q))V++;for(q=0,te=U;te;te=ws(te))q++;for(;0<V-q;)he=ws(he),V--;for(;0<q-V;)U=ws(U),q--;for(;V--;){if(he===U||U!==null&&he===U.alternate)break t;he=ws(he),U=ws(U)}he=null}else he=null;oe!==null&&ng(Z,Y,oe,he,!1),ce!==null&&it!==null&&ng(Z,it,ce,he,!0)}}e:{if(Y=z?Ss(z):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var fe=q1;else if(Lm(Y))if(Mm)fe=H1;else{fe=z1;var ye=B1}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(fe=$1);if(fe&&(fe=fe(n,z))){Om(Z,fe,a,X);break e}ye&&ye(n,Y,z),n==="focusout"&&(ye=Y._wrapperState)&&ye.controlled&&Y.type==="number"&&Wi(Y,"number",Y.value)}switch(ye=z?Ss(z):window,n){case"focusin":(Lm(ye)||ye.contentEditable==="true")&&(_s=ye,lc=z,Lo=null);break;case"focusout":Lo=lc=_s=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Hm(Z,a,X);break;case"selectionchange":if(W1)break;case"keydown":case"keyup":Hm(Z,a,X)}var ve;if(ot)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else vs?Vm(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ri&&a.locale!=="ko"&&(vs||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&vs&&(ve=Po()):(tn=X,ls="value"in tn?tn.value:tn.textContent,vs=!0)),ye=ou(z,Ee),0<ye.length&&(Ee=new Do(Ee,n,null,a,X),Z.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=bm(a),ve!==null&&(Ee.data=ve)))),(ve=nn?M1(n,a):F1(n,a))&&(z=ou(z,"onBeforeInput"),0<z.length&&(X=new Do("onBeforeInput","beforeinput",null,a,X),Z.push({event:X,listeners:z}),X.data=ve))}eg(Z,i)})}function Fo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ou(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=rt(n,a),m!=null&&c.unshift(Fo(n,m,f)),m=rt(n,i),m!=null&&c.push(Fo(n,m,f))),n=n.return}return c}function ws(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ng(n,i,a,c,f){for(var m=i._reactName,_=[];a!==null&&a!==c;){var R=a,N=R.alternate,z=R.stateNode;if(N!==null&&N===c)break;R.tag===5&&z!==null&&(R=z,f?(N=rt(a,m),N!=null&&_.unshift(Fo(a,N,R))):f||(N=rt(a,m),N!=null&&_.push(Fo(a,N,R)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var J1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function rg(n){return(typeof n=="string"?n:""+n).replace(J1,`
`).replace(Z1,"")}function au(n,i,a){if(i=rg(i),rg(n)!==i&&a)throw Error(t(425))}function uu(){}var gc=null,yc=null;function vc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,ig=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof ig<"u"?function(n){return ig.resolve(null).then(n).catch(nT)}:_c;function nT(n){setTimeout(function(){throw n})}function Ec(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Cn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Cn(i)}function Or(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function sg(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ts,jo="__reactProps$"+Ts,cr="__reactContainer$"+Ts,wc="__reactEvents$"+Ts,rT="__reactListeners$"+Ts,iT="__reactHandles$"+Ts;function Ai(n){var i=n[Bn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[cr]||a[Bn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=sg(n);n!==null;){if(a=n[Bn])return a;n=sg(n)}return i}n=a,a=n.parentNode}return null}function Uo(n){return n=n[Bn]||n[cr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ss(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function lu(n){return n[jo]||null}var Tc=[],Is=-1;function Mr(n){return{current:n}}function Ke(n){0>Is||(n.current=Tc[Is],Tc[Is]=null,Is--)}function $e(n,i){Is++,Tc[Is]=n.current,n.current=i}var Fr={},Dt=Mr(Fr),Ht=Mr(!1),Ci=Fr;function Rs(n,i){var a=n.type.contextTypes;if(!a)return Fr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Gt(n){return n=n.childContextTypes,n!=null}function cu(){Ke(Ht),Ke(Dt)}function og(n,i,a){if(Dt.current!==Fr)throw Error(t(168));$e(Dt,i),$e(Ht,a)}function ag(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Oe(n)||"Unknown",f));return ae({},a,c)}function hu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Fr,Ci=Dt.current,$e(Dt,n),$e(Ht,Ht.current),!0}function ug(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=ag(n,i,Ci),c.__reactInternalMemoizedMergedChildContext=n,Ke(Ht),Ke(Dt),$e(Dt,n)):Ke(Ht),$e(Ht,a)}var hr=null,fu=!1,Sc=!1;function lg(n){hr===null?hr=[n]:hr.push(n)}function sT(n){fu=!0,lg(n)}function jr(){if(!Sc&&hr!==null){Sc=!0;var n=0,i=Pe;try{var a=hr;for(Pe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}hr=null,fu=!1}catch(f){throw hr!==null&&(hr=hr.slice(n+1)),is(vi,jr),f}finally{Pe=i,Sc=!1}}return null}var As=[],Cs=0,du=null,pu=0,dn=[],pn=0,Pi=null,fr=1,dr="";function xi(n,i){As[Cs++]=pu,As[Cs++]=du,du=n,pu=i}function cg(n,i,a){dn[pn++]=fr,dn[pn++]=dr,dn[pn++]=Pi,Pi=n;var c=fr;n=dr;var f=32-jt(c)-1;c&=~(1<<f),a+=1;var m=32-jt(i)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,fr=1<<32-jt(i)+f|a<<f|c,dr=m+n}else fr=1<<m|a<<f|c,dr=n}function Ic(n){n.return!==null&&(xi(n,1),cg(n,1,0))}function Rc(n){for(;n===du;)du=As[--Cs],As[Cs]=null,pu=As[--Cs],As[Cs]=null;for(;n===Pi;)Pi=dn[--pn],dn[pn]=null,dr=dn[--pn],dn[pn]=null,fr=dn[--pn],dn[pn]=null}var rn=null,sn=null,Qe=!1,kn=null;function hg(n,i){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function fg(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,rn=n,sn=Or(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,rn=n,sn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Pi!==null?{id:fr,overflow:dr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,rn=n,sn=null,!0):!1;default:return!1}}function Ac(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Cc(n){if(Qe){var i=sn;if(i){var a=i;if(!fg(n,i)){if(Ac(n))throw Error(t(418));i=Or(a.nextSibling);var c=rn;i&&fg(n,i)?hg(c,a):(n.flags=n.flags&-4097|2,Qe=!1,rn=n)}}else{if(Ac(n))throw Error(t(418));n.flags=n.flags&-4097|2,Qe=!1,rn=n}}}function dg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function mu(n){if(n!==rn)return!1;if(!Qe)return dg(n),Qe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!vc(n.type,n.memoizedProps)),i&&(i=sn)){if(Ac(n))throw pg(),Error(t(418));for(;i;)hg(n,i),i=Or(i.nextSibling)}if(dg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){sn=Or(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}sn=null}}else sn=rn?Or(n.stateNode.nextSibling):null;return!0}function pg(){for(var n=sn;n;)n=Or(n.nextSibling)}function Ps(){sn=rn=null,Qe=!1}function Pc(n){kn===null?kn=[n]:kn.push(n)}var oT=ne.ReactCurrentBatchConfig;function qo(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var R=f.refs;_===null?delete R[m]:R[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function gu(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function mg(n){var i=n._init;return i(n._payload)}function gg(n){function i(U,V){if(n){var q=U.deletions;q===null?(U.deletions=[V],U.flags|=16):q.push(V)}}function a(U,V){if(!n)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function c(U,V){for(U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function f(U,V){return U=Kr(U,V),U.index=0,U.sibling=null,U}function m(U,V,q){return U.index=q,n?(q=U.alternate,q!==null?(q=q.index,q<V?(U.flags|=2,V):q):(U.flags|=2,V)):(U.flags|=1048576,V)}function _(U){return n&&U.alternate===null&&(U.flags|=2),U}function R(U,V,q,te){return V===null||V.tag!==6?(V=_h(q,U.mode,te),V.return=U,V):(V=f(V,q),V.return=U,V)}function N(U,V,q,te){var fe=q.type;return fe===x?X(U,V,q.props.children,te,q.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===yt&&mg(fe)===V.type)?(te=f(V,q.props),te.ref=qo(U,V,q),te.return=U,te):(te=Uu(q.type,q.key,q.props,null,U.mode,te),te.ref=qo(U,V,q),te.return=U,te)}function z(U,V,q,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Eh(q,U.mode,te),V.return=U,V):(V=f(V,q.children||[]),V.return=U,V)}function X(U,V,q,te,fe){return V===null||V.tag!==7?(V=Mi(q,U.mode,te,fe),V.return=U,V):(V=f(V,q),V.return=U,V)}function Z(U,V,q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=_h(""+V,U.mode,q),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case de:return q=Uu(V.type,V.key,V.props,null,U.mode,q),q.ref=qo(U,null,V),q.return=U,q;case se:return V=Eh(V,U.mode,q),V.return=U,V;case yt:var te=V._init;return Z(U,te(V._payload),q)}if(tr(V)||ge(V))return V=Mi(V,U.mode,q,null),V.return=U,V;gu(U,V)}return null}function Y(U,V,q,te){var fe=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return fe!==null?null:R(U,V,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case de:return q.key===fe?N(U,V,q,te):null;case se:return q.key===fe?z(U,V,q,te):null;case yt:return fe=q._init,Y(U,V,fe(q._payload),te)}if(tr(q)||ge(q))return fe!==null?null:X(U,V,q,te,null);gu(U,q)}return null}function oe(U,V,q,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(q)||null,R(V,U,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case de:return U=U.get(te.key===null?q:te.key)||null,N(V,U,te,fe);case se:return U=U.get(te.key===null?q:te.key)||null,z(V,U,te,fe);case yt:var ye=te._init;return oe(U,V,q,ye(te._payload),fe)}if(tr(te)||ge(te))return U=U.get(q)||null,X(V,U,te,fe,null);gu(V,te)}return null}function ce(U,V,q,te){for(var fe=null,ye=null,ve=V,Ee=V=0,Tt=null;ve!==null&&Ee<q.length;Ee++){ve.index>Ee?(Tt=ve,ve=null):Tt=ve.sibling;var Le=Y(U,ve,q[Ee],te);if(Le===null){ve===null&&(ve=Tt);break}n&&ve&&Le.alternate===null&&i(U,ve),V=m(Le,V,Ee),ye===null?fe=Le:ye.sibling=Le,ye=Le,ve=Tt}if(Ee===q.length)return a(U,ve),Qe&&xi(U,Ee),fe;if(ve===null){for(;Ee<q.length;Ee++)ve=Z(U,q[Ee],te),ve!==null&&(V=m(ve,V,Ee),ye===null?fe=ve:ye.sibling=ve,ye=ve);return Qe&&xi(U,Ee),fe}for(ve=c(U,ve);Ee<q.length;Ee++)Tt=oe(ve,U,Ee,q[Ee],te),Tt!==null&&(n&&Tt.alternate!==null&&ve.delete(Tt.key===null?Ee:Tt.key),V=m(Tt,V,Ee),ye===null?fe=Tt:ye.sibling=Tt,ye=Tt);return n&&ve.forEach(function(Wr){return i(U,Wr)}),Qe&&xi(U,Ee),fe}function he(U,V,q,te){var fe=ge(q);if(typeof fe!="function")throw Error(t(150));if(q=fe.call(q),q==null)throw Error(t(151));for(var ye=fe=null,ve=V,Ee=V=0,Tt=null,Le=q.next();ve!==null&&!Le.done;Ee++,Le=q.next()){ve.index>Ee?(Tt=ve,ve=null):Tt=ve.sibling;var Wr=Y(U,ve,Le.value,te);if(Wr===null){ve===null&&(ve=Tt);break}n&&ve&&Wr.alternate===null&&i(U,ve),V=m(Wr,V,Ee),ye===null?fe=Wr:ye.sibling=Wr,ye=Wr,ve=Tt}if(Le.done)return a(U,ve),Qe&&xi(U,Ee),fe;if(ve===null){for(;!Le.done;Ee++,Le=q.next())Le=Z(U,Le.value,te),Le!==null&&(V=m(Le,V,Ee),ye===null?fe=Le:ye.sibling=Le,ye=Le);return Qe&&xi(U,Ee),fe}for(ve=c(U,ve);!Le.done;Ee++,Le=q.next())Le=oe(ve,U,Ee,Le.value,te),Le!==null&&(n&&Le.alternate!==null&&ve.delete(Le.key===null?Ee:Le.key),V=m(Le,V,Ee),ye===null?fe=Le:ye.sibling=Le,ye=Le);return n&&ve.forEach(function(jT){return i(U,jT)}),Qe&&xi(U,Ee),fe}function it(U,V,q,te){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case de:e:{for(var fe=q.key,ye=V;ye!==null;){if(ye.key===fe){if(fe=q.type,fe===x){if(ye.tag===7){a(U,ye.sibling),V=f(ye,q.props.children),V.return=U,U=V;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===yt&&mg(fe)===ye.type){a(U,ye.sibling),V=f(ye,q.props),V.ref=qo(U,ye,q),V.return=U,U=V;break e}a(U,ye);break}else i(U,ye);ye=ye.sibling}q.type===x?(V=Mi(q.props.children,U.mode,te,q.key),V.return=U,U=V):(te=Uu(q.type,q.key,q.props,null,U.mode,te),te.ref=qo(U,V,q),te.return=U,U=te)}return _(U);case se:e:{for(ye=q.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(U,V.sibling),V=f(V,q.children||[]),V.return=U,U=V;break e}else{a(U,V);break}else i(U,V);V=V.sibling}V=Eh(q,U.mode,te),V.return=U,U=V}return _(U);case yt:return ye=q._init,it(U,V,ye(q._payload),te)}if(tr(q))return ce(U,V,q,te);if(ge(q))return he(U,V,q,te);gu(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,V!==null&&V.tag===6?(a(U,V.sibling),V=f(V,q),V.return=U,U=V):(a(U,V),V=_h(q,U.mode,te),V.return=U,U=V),_(U)):a(U,V)}return it}var xs=gg(!0),yg=gg(!1),yu=Mr(null),vu=null,ks=null,xc=null;function kc(){xc=ks=vu=null}function Dc(n){var i=yu.current;Ke(yu),n._currentValue=i}function Nc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Ds(n,i){vu=n,xc=ks=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&i&&(Kt=!0),n.firstContext=null)}function mn(n){var i=n._currentValue;if(xc!==n)if(n={context:n,memoizedValue:i,next:null},ks===null){if(vu===null)throw Error(t(308));ks=n,vu.dependencies={lanes:0,firstContext:n}}else ks=ks.next=n;return i}var ki=null;function Vc(n){ki===null?ki=[n]:ki.push(n)}function vg(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Vc(i)):(a.next=f.next,f.next=a),i.interleaved=a,pr(n,c)}function pr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Ur=!1;function bc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function mr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function qr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,be&2){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,pr(n,a)}return f=c.interleaved,f===null?(i.next=i,Vc(c)):(i.next=f.next,f.next=i),c.interleaved=i,pr(n,a)}function _u(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,kr(n,a)}}function Eg(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Eu(n,i,a,c){var f=n.updateQueue;Ur=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var N=R,z=N.next;N.next=null,_===null?m=z:_.next=z,_=N;var X=n.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==_&&(R===null?X.firstBaseUpdate=z:R.next=z,X.lastBaseUpdate=N))}if(m!==null){var Z=f.baseState;_=0,X=z=N=null,R=m;do{var Y=R.lane,oe=R.eventTime;if((c&Y)===Y){X!==null&&(X=X.next={eventTime:oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ce=n,he=R;switch(Y=i,oe=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Z=ce.call(oe,Z,Y);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,Y=typeof ce=="function"?ce.call(oe,Z,Y):ce,Y==null)break e;Z=ae({},Z,Y);break e;case 2:Ur=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,Y=f.effects,Y===null?f.effects=[R]:Y.push(R))}else oe={eventTime:oe,lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(z=X=oe,N=Z):X=X.next=oe,_|=Y;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);if(X===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=z,f.lastBaseUpdate=X,i=f.shared.interleaved,i!==null){f=i;do _|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);Vi|=_,n.lanes=_,n.memoizedState=Z}}function wg(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Bo={},zn=Mr(Bo),zo=Mr(Bo),$o=Mr(Bo);function Di(n){if(n===Bo)throw Error(t(174));return n}function Lc(n,i){switch($e($o,i),$e(zo,n),$e(zn,Bo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ct(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ct(i,n)}Ke(zn),$e(zn,i)}function Ns(){Ke(zn),Ke(zo),Ke($o)}function Tg(n){Di($o.current);var i=Di(zn.current),a=ct(i,n.type);i!==a&&($e(zo,n),$e(zn,a))}function Oc(n){zo.current===n&&(Ke(zn),Ke(zo))}var Xe=Mr(0);function wu(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mc=[];function Fc(){for(var n=0;n<Mc.length;n++)Mc[n]._workInProgressVersionPrimary=null;Mc.length=0}var Tu=ne.ReactCurrentDispatcher,jc=ne.ReactCurrentBatchConfig,Ni=0,Je=null,ft=null,Et=null,Su=!1,Ho=!1,Go=0,aT=0;function Nt(){throw Error(t(321))}function Uc(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!xn(n[a],i[a]))return!1;return!0}function qc(n,i,a,c,f,m){if(Ni=m,Je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Tu.current=n===null||n.memoizedState===null?hT:fT,n=a(c,f),Ho){m=0;do{if(Ho=!1,Go=0,25<=m)throw Error(t(301));m+=1,Et=ft=null,i.updateQueue=null,Tu.current=dT,n=a(c,f)}while(Ho)}if(Tu.current=Au,i=ft!==null&&ft.next!==null,Ni=0,Et=ft=Je=null,Su=!1,i)throw Error(t(300));return n}function Bc(){var n=Go!==0;return Go=0,n}function $n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=n:Et=Et.next=n,Et}function gn(){if(ft===null){var n=Je.alternate;n=n!==null?n.memoizedState:null}else n=ft.next;var i=Et===null?Je.memoizedState:Et.next;if(i!==null)Et=i,ft=n;else{if(n===null)throw Error(t(310));ft=n,n={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Et===null?Je.memoizedState=Et=n:Et=Et.next=n}return Et}function Ko(n,i){return typeof i=="function"?i(n):i}function zc(n){var i=gn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=ft,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var R=_=null,N=null,z=m;do{var X=z.lane;if((Ni&X)===X)N!==null&&(N=N.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:n(c,z.action);else{var Z={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};N===null?(R=N=Z,_=c):N=N.next=Z,Je.lanes|=X,Vi|=X}z=z.next}while(z!==null&&z!==m);N===null?_=c:N.next=R,xn(c,i.memoizedState)||(Kt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=N,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do m=f.lane,Je.lanes|=m,Vi|=m,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function $c(n){var i=gn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);xn(m,i.memoizedState)||(Kt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Sg(){}function Ig(n,i){var a=Je,c=gn(),f=i(),m=!xn(c.memoizedState,f);if(m&&(c.memoizedState=f,Kt=!0),c=c.queue,Hc(Cg.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||Et!==null&&Et.memoizedState.tag&1){if(a.flags|=2048,Wo(9,Ag.bind(null,a,c,f,i),void 0,null),wt===null)throw Error(t(349));Ni&30||Rg(a,i,f)}return f}function Rg(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Je.updateQueue,i===null?(i={lastEffect:null,stores:null},Je.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Ag(n,i,a,c){i.value=a,i.getSnapshot=c,Pg(i)&&xg(n)}function Cg(n,i,a){return a(function(){Pg(i)&&xg(n)})}function Pg(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!xn(n,a)}catch{return!0}}function xg(n){var i=pr(n,1);i!==null&&bn(i,n,1,-1)}function kg(n){var i=$n();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:n},i.queue=n,n=n.dispatch=cT.bind(null,Je,n),[i.memoizedState,n]}function Wo(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Je.updateQueue,i===null?(i={lastEffect:null,stores:null},Je.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Dg(){return gn().memoizedState}function Iu(n,i,a,c){var f=$n();Je.flags|=n,f.memoizedState=Wo(1|i,a,void 0,c===void 0?null:c)}function Ru(n,i,a,c){var f=gn();c=c===void 0?null:c;var m=void 0;if(ft!==null){var _=ft.memoizedState;if(m=_.destroy,c!==null&&Uc(c,_.deps)){f.memoizedState=Wo(i,a,m,c);return}}Je.flags|=n,f.memoizedState=Wo(1|i,a,m,c)}function Ng(n,i){return Iu(8390656,8,n,i)}function Hc(n,i){return Ru(2048,8,n,i)}function Vg(n,i){return Ru(4,2,n,i)}function bg(n,i){return Ru(4,4,n,i)}function Lg(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Og(n,i,a){return a=a!=null?a.concat([n]):null,Ru(4,4,Lg.bind(null,i,n),a)}function Gc(){}function Mg(n,i){var a=gn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Uc(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Fg(n,i){var a=gn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Uc(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function jg(n,i,a){return Ni&21?(xn(a,i)||(a=wi(),Je.lanes|=a,Vi|=a,n.baseState=!0),i):(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=a)}function uT(n,i){var a=Pe;Pe=a!==0&&4>a?a:4,n(!0);var c=jc.transition;jc.transition={};try{n(!1),i()}finally{Pe=a,jc.transition=c}}function Ug(){return gn().memoizedState}function lT(n,i,a){var c=Hr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},qg(n))Bg(i,a);else if(a=vg(n,i,a,c),a!==null){var f=Bt();bn(a,n,c,f),zg(a,i,c)}}function cT(n,i,a){var c=Hr(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(qg(n))Bg(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,R=m(_,a);if(f.hasEagerState=!0,f.eagerState=R,xn(R,_)){var N=i.interleaved;N===null?(f.next=f,Vc(i)):(f.next=N.next,N.next=f),i.interleaved=f;return}}catch{}finally{}a=vg(n,i,f,c),a!==null&&(f=Bt(),bn(a,n,c,f),zg(a,i,c))}}function qg(n){var i=n.alternate;return n===Je||i!==null&&i===Je}function Bg(n,i){Ho=Su=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function zg(n,i,a){if(a&4194240){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,kr(n,a)}}var Au={readContext:mn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},hT={readContext:mn,useCallback:function(n,i){return $n().memoizedState=[n,i===void 0?null:i],n},useContext:mn,useEffect:Ng,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Iu(4194308,4,Lg.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Iu(4194308,4,n,i)},useInsertionEffect:function(n,i){return Iu(4,2,n,i)},useMemo:function(n,i){var a=$n();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=$n();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=lT.bind(null,Je,n),[c.memoizedState,n]},useRef:function(n){var i=$n();return n={current:n},i.memoizedState=n},useState:kg,useDebugValue:Gc,useDeferredValue:function(n){return $n().memoizedState=n},useTransition:function(){var n=kg(!1),i=n[0];return n=uT.bind(null,n[1]),$n().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Je,f=$n();if(Qe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),wt===null)throw Error(t(349));Ni&30||Rg(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Ng(Cg.bind(null,c,m,n),[n]),c.flags|=2048,Wo(9,Ag.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=$n(),i=wt.identifierPrefix;if(Qe){var a=dr,c=fr;a=(c&~(1<<32-jt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Go++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=aT++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},fT={readContext:mn,useCallback:Mg,useContext:mn,useEffect:Hc,useImperativeHandle:Og,useInsertionEffect:Vg,useLayoutEffect:bg,useMemo:Fg,useReducer:zc,useRef:Dg,useState:function(){return zc(Ko)},useDebugValue:Gc,useDeferredValue:function(n){var i=gn();return jg(i,ft.memoizedState,n)},useTransition:function(){var n=zc(Ko)[0],i=gn().memoizedState;return[n,i]},useMutableSource:Sg,useSyncExternalStore:Ig,useId:Ug,unstable_isNewReconciler:!1},dT={readContext:mn,useCallback:Mg,useContext:mn,useEffect:Hc,useImperativeHandle:Og,useInsertionEffect:Vg,useLayoutEffect:bg,useMemo:Fg,useReducer:$c,useRef:Dg,useState:function(){return $c(Ko)},useDebugValue:Gc,useDeferredValue:function(n){var i=gn();return ft===null?i.memoizedState=n:jg(i,ft.memoizedState,n)},useTransition:function(){var n=$c(Ko)[0],i=gn().memoizedState;return[n,i]},useMutableSource:Sg,useSyncExternalStore:Ig,useId:Ug,unstable_isNewReconciler:!1};function Dn(n,i){if(n&&n.defaultProps){i=ae({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Kc(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:ae({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cu={isMounted:function(n){return(n=n._reactInternals)?Tn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Bt(),f=Hr(n),m=mr(c,f);m.payload=i,a!=null&&(m.callback=a),i=qr(n,m,f),i!==null&&(bn(i,n,f,c),_u(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Bt(),f=Hr(n),m=mr(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=qr(n,m,f),i!==null&&(bn(i,n,f,c),_u(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Bt(),c=Hr(n),f=mr(a,c);f.tag=2,i!=null&&(f.callback=i),i=qr(n,f,c),i!==null&&(bn(i,n,c,a),_u(i,n,c))}};function $g(n,i,a,c,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!bo(a,c)||!bo(f,m):!0}function Hg(n,i,a){var c=!1,f=Fr,m=i.contextType;return typeof m=="object"&&m!==null?m=mn(m):(f=Gt(i)?Ci:Dt.current,c=i.contextTypes,m=(c=c!=null)?Rs(n,f):Fr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Cu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),i}function Gg(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Cu.enqueueReplaceState(i,i.state,null)}function Wc(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},bc(n);var m=i.contextType;typeof m=="object"&&m!==null?f.context=mn(m):(m=Gt(i)?Ci:Dt.current,f.context=Rs(n,m)),f.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Kc(n,i,m,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Cu.enqueueReplaceState(f,f.state,null),Eu(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Vs(n,i){try{var a="",c=i;do a+=Re(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:f,digest:null}}function Qc(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Yc(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function Kg(n,i,a){a=mr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){bu||(bu=!0,hh=c),Yc(n,i)},a}function Wg(n,i,a){a=mr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Yc(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Yc(n,i),typeof c!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function Qg(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new pT;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=PT.bind(null,n,i,a),i.then(n,n))}function Yg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Xg(n,i,a,c,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=mr(-1,1),i.tag=2,qr(a,i,1))),a.lanes|=1),n)}var mT=ne.ReactCurrentOwner,Kt=!1;function qt(n,i,a,c){i.child=n===null?yg(i,null,a,c):xs(i,n.child,a,c)}function Jg(n,i,a,c,f){a=a.render;var m=i.ref;return Ds(i,f),c=qc(n,i,a,c,m,f),a=Bc(),n!==null&&!Kt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,gr(n,i,f)):(Qe&&a&&Ic(i),i.flags|=1,qt(n,i,c,f),i.child)}function Zg(n,i,a,c,f){if(n===null){var m=a.type;return typeof m=="function"&&!vh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,ey(n,i,m,c,f)):(n=Uu(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!(n.lanes&f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(_,c)&&n.ref===i.ref)return gr(n,i,f)}return i.flags|=1,n=Kr(m,c),n.ref=i.ref,n.return=i,i.child=n}function ey(n,i,a,c,f){if(n!==null){var m=n.memoizedProps;if(bo(m,c)&&n.ref===i.ref)if(Kt=!1,i.pendingProps=c=m,(n.lanes&f)!==0)n.flags&131072&&(Kt=!0);else return i.lanes=n.lanes,gr(n,i,f)}return Xc(n,i,a,c,f)}function ty(n,i,a){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ls,on),on|=a;else{if(!(a&1073741824))return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,$e(Ls,on),on|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,$e(Ls,on),on|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,$e(Ls,on),on|=c;return qt(n,i,f,a),i.child}function ny(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Xc(n,i,a,c,f){var m=Gt(a)?Ci:Dt.current;return m=Rs(i,m),Ds(i,f),a=qc(n,i,a,c,m,f),c=Bc(),n!==null&&!Kt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,gr(n,i,f)):(Qe&&c&&Ic(i),i.flags|=1,qt(n,i,a,f),i.child)}function ry(n,i,a,c,f){if(Gt(a)){var m=!0;hu(i)}else m=!1;if(Ds(i,f),i.stateNode===null)xu(n,i),Hg(i,a,c),Wc(i,a,c,f),c=!0;else if(n===null){var _=i.stateNode,R=i.memoizedProps;_.props=R;var N=_.context,z=a.contextType;typeof z=="object"&&z!==null?z=mn(z):(z=Gt(a)?Ci:Dt.current,z=Rs(i,z));var X=a.getDerivedStateFromProps,Z=typeof X=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==c||N!==z)&&Gg(i,_,c,z),Ur=!1;var Y=i.memoizedState;_.state=Y,Eu(i,c,_,f),N=i.memoizedState,R!==c||Y!==N||Ht.current||Ur?(typeof X=="function"&&(Kc(i,a,X,c),N=i.memoizedState),(R=Ur||$g(i,a,R,c,Y,N,z))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),_.props=c,_.state=N,_.context=z,c=R):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,_g(n,i),R=i.memoizedProps,z=i.type===i.elementType?R:Dn(i.type,R),_.props=z,Z=i.pendingProps,Y=_.context,N=a.contextType,typeof N=="object"&&N!==null?N=mn(N):(N=Gt(a)?Ci:Dt.current,N=Rs(i,N));var oe=a.getDerivedStateFromProps;(X=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==Z||Y!==N)&&Gg(i,_,c,N),Ur=!1,Y=i.memoizedState,_.state=Y,Eu(i,c,_,f);var ce=i.memoizedState;R!==Z||Y!==ce||Ht.current||Ur?(typeof oe=="function"&&(Kc(i,a,oe,c),ce=i.memoizedState),(z=Ur||$g(i,a,z,c,Y,ce,N)||!1)?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ce,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ce,N)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ce),_.props=c,_.state=ce,_.context=N,c=z):(typeof _.componentDidUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),c=!1)}return Jc(n,i,a,c,m,f)}function Jc(n,i,a,c,f,m){ny(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return f&&ug(i,a,!1),gr(n,i,m);c=i.stateNode,mT.current=i;var R=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=xs(i,n.child,null,m),i.child=xs(i,null,R,m)):qt(n,i,R,m),i.memoizedState=c.state,f&&ug(i,a,!0),i.child}function iy(n){var i=n.stateNode;i.pendingContext?og(n,i.pendingContext,i.pendingContext!==i.context):i.context&&og(n,i.context,!1),Lc(n,i.containerInfo)}function sy(n,i,a,c,f){return Ps(),Pc(f),i.flags|=256,qt(n,i,a,c),i.child}var Zc={dehydrated:null,treeContext:null,retryLane:0};function eh(n){return{baseLanes:n,cachePool:null,transitions:null}}function oy(n,i,a){var c=i.pendingProps,f=Xe.current,m=!1,_=(i.flags&128)!==0,R;if((R=_)||(R=n!==null&&n.memoizedState===null?!1:(f&2)!==0),R?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),$e(Xe,f&1),n===null)return Cc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(i.mode&1?n.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},!(c&1)&&m!==null?(m.childLanes=0,m.pendingProps=_):m=qu(_,c,0,null),n=Mi(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=eh(a),i.memoizedState=Zc,n):th(i,_));if(f=n.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return gT(n,i,_,c,R,f,a);if(m){m=c.fallback,_=i.mode,f=n.child,R=f.sibling;var N={mode:"hidden",children:c.children};return!(_&1)&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=Kr(f,N),c.subtreeFlags=f.subtreeFlags&14680064),R!==null?m=Kr(R,m):(m=Mi(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?eh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=Zc,c}return m=n.child,n=m.sibling,c=Kr(m,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function th(n,i){return i=qu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Pu(n,i,a,c){return c!==null&&Pc(c),xs(i,n.child,null,a),n=th(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function gT(n,i,a,c,f,m,_){if(a)return i.flags&256?(i.flags&=-257,c=Qc(Error(t(422))),Pu(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=qu({mode:"visible",children:c.children},f,0,null),m=Mi(m,f,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,i.mode&1&&xs(i,n.child,null,_),i.child.memoizedState=eh(_),i.memoizedState=Zc,m);if(!(i.mode&1))return Pu(n,i,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var R=c.dgst;return c=R,m=Error(t(419)),c=Qc(m,c,void 0),Pu(n,i,_,c)}if(R=(_&n.childLanes)!==0,Kt||R){if(c=wt,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|_)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,pr(n,f),bn(c,n,f,-1))}return yh(),c=Qc(Error(t(421))),Pu(n,i,_,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=xT.bind(null,n),f._reactRetry=i,null):(n=m.treeContext,sn=Or(f.nextSibling),rn=i,Qe=!0,kn=null,n!==null&&(dn[pn++]=fr,dn[pn++]=dr,dn[pn++]=Pi,fr=n.id,dr=n.overflow,Pi=i),i=th(i,c.children),i.flags|=4096,i)}function ay(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Nc(n.return,i,a)}function nh(n,i,a,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function uy(n,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(qt(n,i,c.children,a),c=Xe.current,c&2)c=c&1|2,i.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ay(n,a,i);else if(n.tag===19)ay(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if($e(Xe,c),!(i.mode&1))i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&wu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),nh(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&wu(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}nh(i,!0,a,null,m);break;case"together":nh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xu(n,i){!(i.mode&1)&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function gr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Vi|=i.lanes,!(a&i.childLanes))return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Kr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Kr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function yT(n,i,a){switch(i.tag){case 3:iy(i),Ps();break;case 5:Tg(i);break;case 1:Gt(i.type)&&hu(i);break;case 4:Lc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;$e(yu,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?($e(Xe,Xe.current&1),i.flags|=128,null):a&i.child.childLanes?oy(n,i,a):($e(Xe,Xe.current&1),n=gr(n,i,a),n!==null?n.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(c=(a&i.childLanes)!==0,n.flags&128){if(c)return uy(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$e(Xe,Xe.current),c)break;return null;case 22:case 23:return i.lanes=0,ty(n,i,a)}return gr(n,i,a)}var ly,rh,cy,hy;ly=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},rh=function(){},cy=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,Di(zn.current);var m=null;switch(a){case"input":f=ci(n,f),c=ci(n,c),m=[];break;case"select":f=ae({},f,{value:void 0}),c=ae({},c,{value:void 0}),m=[];break;case"textarea":f=uo(n,f),c=uo(n,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=uu)}mo(a,c);var _;a=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var R=f[z];for(_ in R)R.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var N=c[z];if(R=f!=null?f[z]:void 0,c.hasOwnProperty(z)&&N!==R&&(N!=null||R!=null))if(z==="style")if(R){for(_ in R)!R.hasOwnProperty(_)||N&&N.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in N)N.hasOwnProperty(_)&&R[_]!==N[_]&&(a||(a={}),a[_]=N[_])}else a||(m||(m=[]),m.push(z,a)),a=N;else z==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,R=R?R.__html:void 0,N!=null&&R!==N&&(m=m||[]).push(z,N)):z==="children"?typeof N!="string"&&typeof N!="number"||(m=m||[]).push(z,""+N):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(N!=null&&z==="onScroll"&&Ge("scroll",n),m||R===N||(m=[])):(m=m||[]).push(z,N))}a&&(m=m||[]).push("style",a);var z=m;(i.updateQueue=z)&&(i.flags|=4)}},hy=function(n,i,a,c){a!==c&&(i.flags|=4)};function Qo(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function vT(n,i,a){var c=i.pendingProps;switch(Rc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Gt(i.type)&&cu(),Vt(i),null;case 3:return c=i.stateNode,Ns(),Ke(Ht),Ke(Dt),Fc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(mu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,kn!==null&&(ph(kn),kn=null))),rh(n,i),Vt(i),null;case 5:Oc(i);var f=Di($o.current);if(a=i.type,n!==null&&i.stateNode!=null)cy(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Vt(i),null}if(n=Di(zn.current),mu(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Bn]=i,c[jo]=m,n=(i.mode&1)!==0,a){case"dialog":Ge("cancel",c),Ge("close",c);break;case"iframe":case"object":case"embed":Ge("load",c);break;case"video":case"audio":for(f=0;f<Oo.length;f++)Ge(Oo[f],c);break;case"source":Ge("error",c);break;case"img":case"image":case"link":Ge("error",c),Ge("load",c);break;case"details":Ge("toggle",c);break;case"input":Ki(c,m),Ge("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ge("invalid",c);break;case"textarea":Qi(c,m),Ge("invalid",c)}mo(a,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var R=m[_];_==="children"?typeof R=="string"?c.textContent!==R&&(m.suppressHydrationWarning!==!0&&au(c.textContent,R,n),f=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(m.suppressHydrationWarning!==!0&&au(c.textContent,R,n),f=["children",""+R]):o.hasOwnProperty(_)&&R!=null&&_==="onScroll"&&Ge("scroll",c)}switch(a){case"input":er(c),Va(c,m,!0);break;case"textarea":er(c),lo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=uu)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=lt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Bn]=i,n[jo]=c,ly(n,i,!1,!1),i.stateNode=n;e:{switch(_=go(a,c),a){case"dialog":Ge("cancel",n),Ge("close",n),f=c;break;case"iframe":case"object":case"embed":Ge("load",n),f=c;break;case"video":case"audio":for(f=0;f<Oo.length;f++)Ge(Oo[f],n);f=c;break;case"source":Ge("error",n),f=c;break;case"img":case"image":case"link":Ge("error",n),Ge("load",n),f=c;break;case"details":Ge("toggle",n),f=c;break;case"input":Ki(n,c),f=ci(n,c),Ge("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=ae({},c,{value:void 0}),Ge("invalid",n);break;case"textarea":Qi(n,c),f=uo(n,c),Ge("invalid",n);break;default:f=c}mo(a,f),R=f;for(m in R)if(R.hasOwnProperty(m)){var N=R[m];m==="style"?fo(n,N):m==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&co(n,N)):m==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Rr(n,N):typeof N=="number"&&Rr(n,""+N):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?N!=null&&m==="onScroll"&&Ge("scroll",n):N!=null&&ee(n,m,N,_))}switch(a){case"input":er(n),Va(n,c,!1);break;case"textarea":er(n),lo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Me(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?nr(n,!!c.multiple,m,!1):c.defaultValue!=null&&nr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=uu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vt(i),null;case 6:if(n&&i.stateNode!=null)hy(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Di($o.current),Di(zn.current),mu(i)){if(c=i.stateNode,a=i.memoizedProps,c[Bn]=i,(m=c.nodeValue!==a)&&(n=rn,n!==null))switch(n.tag){case 3:au(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&au(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Bn]=i,i.stateNode=c}return Vt(i),null;case 13:if(Ke(Xe),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&sn!==null&&i.mode&1&&!(i.flags&128))pg(),Ps(),i.flags|=98560,m=!1;else if(m=mu(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Bn]=i}else Ps(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Vt(i),m=!1}else kn!==null&&(ph(kn),kn=null),m=!0;if(!m)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(n===null||Xe.current&1?dt===0&&(dt=3):yh())),i.updateQueue!==null&&(i.flags|=4),Vt(i),null);case 4:return Ns(),rh(n,i),n===null&&Mo(i.stateNode.containerInfo),Vt(i),null;case 10:return Dc(i.type._context),Vt(i),null;case 17:return Gt(i.type)&&cu(),Vt(i),null;case 19:if(Ke(Xe),m=i.memoizedState,m===null)return Vt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)Qo(m,!1);else{if(dt!==0||n!==null&&n.flags&128)for(n=i.child;n!==null;){if(_=wu(n),_!==null){for(i.flags|=128,Qo(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return $e(Xe,Xe.current&1|2),i.child}n=n.sibling}m.tail!==null&&ze()>Os&&(i.flags|=128,c=!0,Qo(m,!1),i.lanes=4194304)}else{if(!c)if(n=wu(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Qo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Qe)return Vt(i),null}else 2*ze()-m.renderingStartTime>Os&&a!==1073741824&&(i.flags|=128,c=!0,Qo(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=ze(),i.sibling=null,a=Xe.current,$e(Xe,c?a&1|2:a&1),i):(Vt(i),null);case 22:case 23:return gh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?on&1073741824&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function _T(n,i){switch(Rc(i),i.tag){case 1:return Gt(i.type)&&cu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ns(),Ke(Ht),Ke(Dt),Fc(),n=i.flags,n&65536&&!(n&128)?(i.flags=n&-65537|128,i):null;case 5:return Oc(i),null;case 13:if(Ke(Xe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Ps()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ke(Xe),null;case 4:return Ns(),null;case 10:return Dc(i.type._context),null;case 22:case 23:return gh(),null;case 24:return null;default:return null}}var ku=!1,bt=!1,ET=typeof WeakSet=="function"?WeakSet:Set,le=null;function bs(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){tt(n,i,c)}else a.current=null}function ih(n,i,a){try{a()}catch(c){tt(n,i,c)}}var fy=!1;function wT(n,i){if(gc=Vr,n=$m(),uc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,R=-1,N=-1,z=0,X=0,Z=n,Y=null;t:for(;;){for(var oe;Z!==a||f!==0&&Z.nodeType!==3||(R=_+f),Z!==m||c!==0&&Z.nodeType!==3||(N=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)Y=Z,Z=oe;for(;;){if(Z===n)break t;if(Y===a&&++z===f&&(R=_),Y===m&&++X===c&&(N=_),(oe=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=oe}a=R===-1||N===-1?null:{start:R,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(yc={focusedElem:n,selectionRange:a},Vr=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ce=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,it=ce.memoizedState,U=i.stateNode,V=U.getSnapshotBeforeUpdate(i.elementType===i.type?he:Dn(i.type,he),it);U.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){tt(i,i.return,te)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ce=fy,fy=!1,ce}function Yo(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&ih(i,a,m)}f=f.next}while(f!==c)}}function Du(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function sh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function dy(n){var i=n.alternate;i!==null&&(n.alternate=null,dy(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Bn],delete i[jo],delete i[wc],delete i[rT],delete i[iT])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function py(n){return n.tag===5||n.tag===3||n.tag===4}function my(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||py(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function oh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uu));else if(c!==4&&(n=n.child,n!==null))for(oh(n,i,a),n=n.sibling;n!==null;)oh(n,i,a),n=n.sibling}function ah(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(ah(n,i,a),n=n.sibling;n!==null;)ah(n,i,a),n=n.sibling}var At=null,Nn=!1;function Br(n,i,a){for(a=a.child;a!==null;)gy(n,i,a),a=a.sibling}function gy(n,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(_i,a)}catch{}switch(a.tag){case 5:bt||bs(a,i);case 6:var c=At,f=Nn;At=null,Br(n,i,a),At=c,Nn=f,At!==null&&(Nn?(n=At,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):At.removeChild(a.stateNode));break;case 18:At!==null&&(Nn?(n=At,a=a.stateNode,n.nodeType===8?Ec(n.parentNode,a):n.nodeType===1&&Ec(n,a),Cn(n)):Ec(At,a.stateNode));break;case 4:c=At,f=Nn,At=a.stateNode.containerInfo,Nn=!0,Br(n,i,a),At=c,Nn=f;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&(m&2||m&4)&&ih(a,i,_),f=f.next}while(f!==c)}Br(n,i,a);break;case 1:if(!bt&&(bs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){tt(a,i,R)}Br(n,i,a);break;case 21:Br(n,i,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,Br(n,i,a),bt=c):Br(n,i,a);break;default:Br(n,i,a)}}function yy(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new ET),i.forEach(function(c){var f=kT.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Vn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=n,_=i,R=_;e:for(;R!==null;){switch(R.tag){case 5:At=R.stateNode,Nn=!1;break e;case 3:At=R.stateNode.containerInfo,Nn=!0;break e;case 4:At=R.stateNode.containerInfo,Nn=!0;break e}R=R.return}if(At===null)throw Error(t(160));gy(m,_,f),At=null,Nn=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(z){tt(f,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)vy(i,n),i=i.sibling}function vy(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Vn(i,n),Hn(n),c&4){try{Yo(3,n,n.return),Du(3,n)}catch(he){tt(n,n.return,he)}try{Yo(5,n,n.return)}catch(he){tt(n,n.return,he)}}break;case 1:Vn(i,n),Hn(n),c&512&&a!==null&&bs(a,a.return);break;case 5:if(Vn(i,n),Hn(n),c&512&&a!==null&&bs(a,a.return),n.flags&32){var f=n.stateNode;try{Rr(f,"")}catch(he){tt(n,n.return,he)}}if(c&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,R=n.type,N=n.updateQueue;if(n.updateQueue=null,N!==null)try{R==="input"&&m.type==="radio"&&m.name!=null&&oo(f,m),go(R,_);var z=go(R,m);for(_=0;_<N.length;_+=2){var X=N[_],Z=N[_+1];X==="style"?fo(f,Z):X==="dangerouslySetInnerHTML"?co(f,Z):X==="children"?Rr(f,Z):ee(f,X,Z,z)}switch(R){case"input":ao(f,m);break;case"textarea":Yi(f,m);break;case"select":var Y=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var oe=m.value;oe!=null?nr(f,!!m.multiple,oe,!1):Y!==!!m.multiple&&(m.defaultValue!=null?nr(f,!!m.multiple,m.defaultValue,!0):nr(f,!!m.multiple,m.multiple?[]:"",!1))}f[jo]=m}catch(he){tt(n,n.return,he)}}break;case 6:if(Vn(i,n),Hn(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(he){tt(n,n.return,he)}}break;case 3:if(Vn(i,n),Hn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Cn(i.containerInfo)}catch(he){tt(n,n.return,he)}break;case 4:Vn(i,n),Hn(n);break;case 13:Vn(i,n),Hn(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(ch=ze())),c&4&&yy(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(bt=(z=bt)||X,Vn(i,n),bt=z):Vn(i,n),Hn(n),c&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!X&&n.mode&1)for(le=n,X=n.child;X!==null;){for(Z=le=X;le!==null;){switch(Y=le,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:Yo(4,Y,Y.return);break;case 1:bs(Y,Y.return);var ce=Y.stateNode;if(typeof ce.componentWillUnmount=="function"){c=Y,a=Y.return;try{i=c,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(he){tt(c,a,he)}}break;case 5:bs(Y,Y.return);break;case 22:if(Y.memoizedState!==null){wy(Z);continue}}oe!==null?(oe.return=Y,le=oe):wy(Z)}X=X.sibling}e:for(X=null,Z=n;;){if(Z.tag===5){if(X===null){X=Z;try{f=Z.stateNode,z?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(R=Z.stateNode,N=Z.memoizedProps.style,_=N!=null&&N.hasOwnProperty("display")?N.display:null,R.style.display=ho("display",_))}catch(he){tt(n,n.return,he)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=z?"":Z.memoizedProps}catch(he){tt(n,n.return,he)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Vn(i,n),Hn(n),c&4&&yy(n);break;case 21:break;default:Vn(i,n),Hn(n)}}function Hn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(py(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Rr(f,""),c.flags&=-33);var m=my(n);ah(n,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,R=my(n);oh(n,R,_);break;default:throw Error(t(161))}}catch(N){tt(n,n.return,N)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function TT(n,i,a){le=n,_y(n)}function _y(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var f=le,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||ku;if(!_){var R=f.alternate,N=R!==null&&R.memoizedState!==null||bt;R=ku;var z=bt;if(ku=_,(bt=N)&&!z)for(le=f;le!==null;)_=le,N=_.child,_.tag===22&&_.memoizedState!==null?Ty(f):N!==null?(N.return=_,le=N):Ty(f);for(;m!==null;)le=m,_y(m),m=m.sibling;le=f,ku=R,bt=z}Ey(n)}else f.subtreeFlags&8772&&m!==null?(m.return=f,le=m):Ey(n)}}function Ey(n){for(;le!==null;){var i=le;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:bt||Du(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!bt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Dn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&wg(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}wg(i,_,a)}break;case 5:var R=i.stateNode;if(a===null&&i.flags&4){a=R;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var X=z.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&Cn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bt||i.flags&512&&sh(i)}catch(Y){tt(i,i.return,Y)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function wy(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function Ty(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Du(4,i)}catch(N){tt(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(N){tt(i,f,N)}}var m=i.return;try{sh(i)}catch(N){tt(i,m,N)}break;case 5:var _=i.return;try{sh(i)}catch(N){tt(i,_,N)}}}catch(N){tt(i,i.return,N)}if(i===n){le=null;break}var R=i.sibling;if(R!==null){R.return=i.return,le=R;break}le=i.return}}var ST=Math.ceil,Nu=ne.ReactCurrentDispatcher,uh=ne.ReactCurrentOwner,yn=ne.ReactCurrentBatchConfig,be=0,wt=null,at=null,Ct=0,on=0,Ls=Mr(0),dt=0,Xo=null,Vi=0,Vu=0,lh=0,Jo=null,Wt=null,ch=0,Os=1/0,yr=null,bu=!1,hh=null,zr=null,Lu=!1,$r=null,Ou=0,Zo=0,fh=null,Mu=-1,Fu=0;function Bt(){return be&6?ze():Mu!==-1?Mu:Mu=ze()}function Hr(n){return n.mode&1?be&2&&Ct!==0?Ct&-Ct:oT.transition!==null?(Fu===0&&(Fu=wi()),Fu):(n=Pe,n!==0||(n=window.event,n=n===void 0?16:Co(n.type)),n):1}function bn(n,i,a,c){if(50<Zo)throw Zo=0,fh=null,Error(t(185));xr(n,a,c),(!(be&2)||n!==wt)&&(n===wt&&(!(be&2)&&(Vu|=a),dt===4&&Gr(n,Ct)),Qt(n,c),a===1&&be===0&&!(i.mode&1)&&(Os=ze()+500,fu&&jr()))}function Qt(n,i){var a=n.callbackNode;sr(n,i);var c=Ei(n,n===wt?Ct:0);if(c===0)a!==null&&To(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&To(a),i===1)n.tag===0?sT(Iy.bind(null,n)):lg(Iy.bind(null,n)),tT(function(){!(be&6)&&jr()}),a=null;else{switch(Dr(c)){case 1:a=vi;break;case 4:a=Ar;break;case 16:a=cn;break;case 536870912:a=Fa;break;default:a=cn}a=Ny(a,Sy.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Sy(n,i){if(Mu=-1,Fu=0,be&6)throw Error(t(327));var a=n.callbackNode;if(Ms()&&n.callbackNode!==a)return null;var c=Ei(n,n===wt?Ct:0);if(c===0)return null;if(c&30||c&n.expiredLanes||i)i=ju(n,c);else{i=c;var f=be;be|=2;var m=Ay();(wt!==n||Ct!==i)&&(yr=null,Os=ze()+500,Li(n,i));do try{AT();break}catch(R){Ry(n,R)}while(!0);kc(),Nu.current=m,be=f,at!==null?i=0:(wt=null,Ct=0,i=dt)}if(i!==0){if(i===2&&(f=en(n),f!==0&&(c=f,i=dh(n,f))),i===1)throw a=Xo,Li(n,0),Gr(n,c),Qt(n,ze()),a;if(i===6)Gr(n,c);else{if(f=n.current.alternate,!(c&30)&&!IT(f)&&(i=ju(n,c),i===2&&(m=en(n),m!==0&&(c=m,i=dh(n,m))),i===1))throw a=Xo,Li(n,0),Gr(n,c),Qt(n,ze()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Oi(n,Wt,yr);break;case 3:if(Gr(n,c),(c&130023424)===c&&(i=ch+500-ze(),10<i)){if(Ei(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Bt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=_c(Oi.bind(null,n,Wt,yr),i);break}Oi(n,Wt,yr);break;case 4:if(Gr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var _=31-jt(c);m=1<<_,_=i[_],_>f&&(f=_),c&=~m}if(c=f,c=ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*ST(c/1960))-c,10<c){n.timeoutHandle=_c(Oi.bind(null,n,Wt,yr),c);break}Oi(n,Wt,yr);break;case 5:Oi(n,Wt,yr);break;default:throw Error(t(329))}}}return Qt(n,ze()),n.callbackNode===a?Sy.bind(null,n):null}function dh(n,i){var a=Jo;return n.current.memoizedState.isDehydrated&&(Li(n,i).flags|=256),n=ju(n,i),n!==2&&(i=Wt,Wt=a,i!==null&&ph(i)),n}function ph(n){Wt===null?Wt=n:Wt.push.apply(Wt,n)}function IT(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(n,i){for(i&=~lh,i&=~Vu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-jt(i),c=1<<a;n[a]=-1,i&=~c}}function Iy(n){if(be&6)throw Error(t(327));Ms();var i=Ei(n,0);if(!(i&1))return Qt(n,ze()),null;var a=ju(n,i);if(n.tag!==0&&a===2){var c=en(n);c!==0&&(i=c,a=dh(n,c))}if(a===1)throw a=Xo,Li(n,0),Gr(n,i),Qt(n,ze()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Oi(n,Wt,yr),Qt(n,ze()),null}function mh(n,i){var a=be;be|=1;try{return n(i)}finally{be=a,be===0&&(Os=ze()+500,fu&&jr())}}function bi(n){$r!==null&&$r.tag===0&&!(be&6)&&Ms();var i=be;be|=1;var a=yn.transition,c=Pe;try{if(yn.transition=null,Pe=1,n)return n()}finally{Pe=c,yn.transition=a,be=i,!(be&6)&&jr()}}function gh(){on=Ls.current,Ke(Ls)}function Li(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,eT(a)),at!==null)for(a=at.return;a!==null;){var c=a;switch(Rc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&cu();break;case 3:Ns(),Ke(Ht),Ke(Dt),Fc();break;case 5:Oc(c);break;case 4:Ns();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:Dc(c.type._context);break;case 22:case 23:gh()}a=a.return}if(wt=n,at=n=Kr(n.current,null),Ct=on=i,dt=0,Xo=null,lh=Vu=Vi=0,Wt=Jo=null,ki!==null){for(i=0;i<ki.length;i++)if(a=ki[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}a.pending=c}ki=null}return n}function Ry(n,i){do{var a=at;try{if(kc(),Tu.current=Au,Su){for(var c=Je.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Su=!1}if(Ni=0,Et=ft=Je=null,Ho=!1,Go=0,uh.current=null,a===null||a.return===null){dt=1,Xo=i,at=null;break}e:{var m=n,_=a.return,R=a,N=i;if(i=Ct,R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var z=N,X=R,Z=X.tag;if(!(X.mode&1)&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var oe=Yg(_);if(oe!==null){oe.flags&=-257,Xg(oe,_,R,m,i),oe.mode&1&&Qg(m,z,i),i=oe,N=z;var ce=i.updateQueue;if(ce===null){var he=new Set;he.add(N),i.updateQueue=he}else ce.add(N);break e}else{if(!(i&1)){Qg(m,z,i),yh();break e}N=Error(t(426))}}else if(Qe&&R.mode&1){var it=Yg(_);if(it!==null){!(it.flags&65536)&&(it.flags|=256),Xg(it,_,R,m,i),Pc(Vs(N,R));break e}}m=N=Vs(N,R),dt!==4&&(dt=2),Jo===null?Jo=[m]:Jo.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var U=Kg(m,N,i);Eg(m,U);break e;case 1:R=N;var V=m.type,q=m.stateNode;if(!(m.flags&128)&&(typeof V.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(zr===null||!zr.has(q)))){m.flags|=65536,i&=-i,m.lanes|=i;var te=Wg(m,R,i);Eg(m,te);break e}}m=m.return}while(m!==null)}Py(a)}catch(fe){i=fe,at===a&&a!==null&&(at=a=a.return);continue}break}while(!0)}function Ay(){var n=Nu.current;return Nu.current=Au,n===null?Au:n}function yh(){(dt===0||dt===3||dt===2)&&(dt=4),wt===null||!(Vi&268435455)&&!(Vu&268435455)||Gr(wt,Ct)}function ju(n,i){var a=be;be|=2;var c=Ay();(wt!==n||Ct!==i)&&(yr=null,Li(n,i));do try{RT();break}catch(f){Ry(n,f)}while(!0);if(kc(),be=a,Nu.current=c,at!==null)throw Error(t(261));return wt=null,Ct=0,dt}function RT(){for(;at!==null;)Cy(at)}function AT(){for(;at!==null&&!Oa();)Cy(at)}function Cy(n){var i=Dy(n.alternate,n,on);n.memoizedProps=n.pendingProps,i===null?Py(n):at=i,uh.current=null}function Py(n){var i=n;do{var a=i.alternate;if(n=i.return,i.flags&32768){if(a=_T(a,i),a!==null){a.flags&=32767,at=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{dt=6,at=null;return}}else if(a=vT(a,i,on),a!==null){at=a;return}if(i=i.sibling,i!==null){at=i;return}at=i=n}while(i!==null);dt===0&&(dt=5)}function Oi(n,i,a){var c=Pe,f=yn.transition;try{yn.transition=null,Pe=1,CT(n,i,a,c)}finally{yn.transition=f,Pe=c}return null}function CT(n,i,a,c){do Ms();while($r!==null);if(be&6)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(qe(n,m),n===wt&&(at=wt=null,Ct=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Lu||(Lu=!0,Ny(cn,function(){return Ms(),null})),m=(a.flags&15990)!==0,a.subtreeFlags&15990||m){m=yn.transition,yn.transition=null;var _=Pe;Pe=1;var R=be;be|=4,uh.current=null,wT(n,a),vy(a,n),K1(yc),Vr=!!gc,yc=gc=null,n.current=a,TT(a),ec(),be=R,Pe=_,yn.transition=m}else n.current=a;if(Lu&&(Lu=!1,$r=n,Ou=f),m=n.pendingLanes,m===0&&(zr=null),ja(a.stateNode),Qt(n,ze()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(bu)throw bu=!1,n=hh,hh=null,n;return Ou&1&&n.tag!==0&&Ms(),m=n.pendingLanes,m&1?n===fh?Zo++:(Zo=0,fh=n):Zo=0,jr(),null}function Ms(){if($r!==null){var n=Dr(Ou),i=yn.transition,a=Pe;try{if(yn.transition=null,Pe=16>n?16:n,$r===null)var c=!1;else{if(n=$r,$r=null,Ou=0,be&6)throw Error(t(331));var f=be;for(be|=4,le=n.current;le!==null;){var m=le,_=m.child;if(le.flags&16){var R=m.deletions;if(R!==null){for(var N=0;N<R.length;N++){var z=R[N];for(le=z;le!==null;){var X=le;switch(X.tag){case 0:case 11:case 15:Yo(8,X,m)}var Z=X.child;if(Z!==null)Z.return=X,le=Z;else for(;le!==null;){X=le;var Y=X.sibling,oe=X.return;if(dy(X),X===z){le=null;break}if(Y!==null){Y.return=oe,le=Y;break}le=oe}}}var ce=m.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var it=he.sibling;he.sibling=null,he=it}while(he!==null)}}le=m}}if(m.subtreeFlags&2064&&_!==null)_.return=m,le=_;else e:for(;le!==null;){if(m=le,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Yo(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,le=U;break e}le=m.return}}var V=n.current;for(le=V;le!==null;){_=le;var q=_.child;if(_.subtreeFlags&2064&&q!==null)q.return=_,le=q;else e:for(_=V;le!==null;){if(R=le,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Du(9,R)}}catch(fe){tt(R,R.return,fe)}if(R===_){le=null;break e}var te=R.sibling;if(te!==null){te.return=R.return,le=te;break e}le=R.return}}if(be=f,jr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(_i,n)}catch{}c=!0}return c}finally{Pe=a,yn.transition=i}}return!1}function xy(n,i,a){i=Vs(a,i),i=Kg(n,i,1),n=qr(n,i,1),i=Bt(),n!==null&&(xr(n,1,i),Qt(n,i))}function tt(n,i,a){if(n.tag===3)xy(n,n,a);else for(;i!==null;){if(i.tag===3){xy(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zr===null||!zr.has(c))){n=Vs(a,n),n=Wg(i,n,1),i=qr(i,n,1),n=Bt(),i!==null&&(xr(i,1,n),Qt(i,n));break}}i=i.return}}function PT(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Bt(),n.pingedLanes|=n.suspendedLanes&a,wt===n&&(Ct&a)===a&&(dt===4||dt===3&&(Ct&130023424)===Ct&&500>ze()-ch?Li(n,0):lh|=a),Qt(n,i)}function ky(n,i){i===0&&(n.mode&1?(i=os,os<<=1,!(os&130023424)&&(os=4194304)):i=1);var a=Bt();n=pr(n,i),n!==null&&(xr(n,i,a),Qt(n,a))}function xT(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),ky(n,a)}function kT(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),ky(n,a)}var Dy;Dy=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Ht.current)Kt=!0;else{if(!(n.lanes&a)&&!(i.flags&128))return Kt=!1,yT(n,i,a);Kt=!!(n.flags&131072)}else Kt=!1,Qe&&i.flags&1048576&&cg(i,pu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;xu(n,i),n=i.pendingProps;var f=Rs(i,Dt.current);Ds(i,a),f=qc(null,i,c,n,f,a);var m=Bc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Gt(c)?(m=!0,hu(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,bc(i),f.updater=Cu,i.stateNode=f,f._reactInternals=i,Wc(i,c,n,a),i=Jc(null,i,c,!0,m,a)):(i.tag=0,Qe&&m&&Ic(i),qt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(xu(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=NT(c),n=Dn(c,n),f){case 0:i=Xc(null,i,c,n,a);break e;case 1:i=ry(null,i,c,n,a);break e;case 11:i=Jg(null,i,c,n,a);break e;case 14:i=Zg(null,i,c,Dn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Dn(c,f),Xc(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Dn(c,f),ry(n,i,c,f,a);case 3:e:{if(iy(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,f=m.element,_g(n,i),Eu(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=Vs(Error(t(423)),i),i=sy(n,i,c,a,f);break e}else if(c!==f){f=Vs(Error(t(424)),i),i=sy(n,i,c,a,f);break e}else for(sn=Or(i.stateNode.containerInfo.firstChild),rn=i,Qe=!0,kn=null,a=yg(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ps(),c===f){i=gr(n,i,a);break e}qt(n,i,c,a)}i=i.child}return i;case 5:return Tg(i),n===null&&Cc(i),c=i.type,f=i.pendingProps,m=n!==null?n.memoizedProps:null,_=f.children,vc(c,f)?_=null:m!==null&&vc(c,m)&&(i.flags|=32),ny(n,i),qt(n,i,_,a),i.child;case 6:return n===null&&Cc(i),null;case 13:return oy(n,i,a);case 4:return Lc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=xs(i,null,c,a):qt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Dn(c,f),Jg(n,i,c,f,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,_=f.value,$e(yu,c._currentValue),c._currentValue=_,m!==null)if(xn(m.value,_)){if(m.children===f.children&&!Ht.current){i=gr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var R=m.dependencies;if(R!==null){_=m.child;for(var N=R.firstContext;N!==null;){if(N.context===c){if(m.tag===1){N=mr(-1,a&-a),N.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var X=z.pending;X===null?N.next=N:(N.next=X.next,X.next=N),z.pending=N}}m.lanes|=a,N=m.alternate,N!==null&&(N.lanes|=a),Nc(m.return,a,i),R.lanes|=a;break}N=N.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,R=_.alternate,R!==null&&(R.lanes|=a),Nc(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}qt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Ds(i,a),f=mn(f),c=c(f),i.flags|=1,qt(n,i,c,a),i.child;case 14:return c=i.type,f=Dn(c,i.pendingProps),f=Dn(c.type,f),Zg(n,i,c,f,a);case 15:return ey(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Dn(c,f),xu(n,i),i.tag=1,Gt(c)?(n=!0,hu(i)):n=!1,Ds(i,a),Hg(i,c,f),Wc(i,c,f,a),Jc(null,i,c,!0,n,a);case 19:return uy(n,i,a);case 22:return ty(n,i,a)}throw Error(t(156,i.tag))};function Ny(n,i){return is(n,i)}function DT(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,i,a,c){return new DT(n,i,a,c)}function vh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function NT(n){if(typeof n=="function")return vh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===O)return 11;if(n===nt)return 14}return 2}function Kr(n,i){var a=n.alternate;return a===null?(a=vn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Uu(n,i,a,c,f,m){var _=2;if(c=n,typeof n=="function")vh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case x:return Mi(a.children,f,m,i);case I:_=8,f|=8;break;case A:return n=vn(12,a,i,f|2),n.elementType=A,n.lanes=m,n;case C:return n=vn(13,a,i,f),n.elementType=C,n.lanes=m,n;case He:return n=vn(19,a,i,f),n.elementType=He,n.lanes=m,n;case Ue:return qu(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:_=10;break e;case k:_=9;break e;case O:_=11;break e;case nt:_=14;break e;case yt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=vn(_,a,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Mi(n,i,a,c){return n=vn(7,n,c,i),n.lanes=a,n}function qu(n,i,a,c){return n=vn(22,n,c,i),n.elementType=Ue,n.lanes=a,n.stateNode={isHidden:!1},n}function _h(n,i,a){return n=vn(6,n,null,i),n.lanes=a,n}function Eh(n,i,a){return i=vn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function VT(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pr(0),this.expirationTimes=Pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function wh(n,i,a,c,f,m,_,R,N){return n=new VT(n,i,a,R,N),i===1?(i=1,m===!0&&(i|=8)):i=0,m=vn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},bc(m),n}function bT(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Vy(n){if(!n)return Fr;n=n._reactInternals;e:{if(Tn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Gt(a))return ag(n,a,i)}return i}function by(n,i,a,c,f,m,_,R,N){return n=wh(a,c,!0,n,f,m,_,R,N),n.context=Vy(null),a=n.current,c=Bt(),f=Hr(a),m=mr(c,f),m.callback=i??null,qr(a,m,f),n.current.lanes=f,xr(n,f,c),Qt(n,c),n}function Bu(n,i,a,c){var f=i.current,m=Bt(),_=Hr(f);return a=Vy(a),i.context===null?i.context=a:i.pendingContext=a,i=mr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=qr(f,i,_),n!==null&&(bn(n,f,_,m),_u(n,f,_)),_}function zu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ly(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Th(n,i){Ly(n,i),(n=n.alternate)&&Ly(n,i)}function LT(){return null}var Oy=typeof reportError=="function"?reportError:function(n){console.error(n)};function Sh(n){this._internalRoot=n}$u.prototype.render=Sh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Bu(n,i,null,null)},$u.prototype.unmount=Sh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;bi(function(){Bu(null,n,null,null)}),i[cr]=null}};function $u(n){this._internalRoot=n}$u.prototype.unstable_scheduleHydration=function(n){if(n){var i=$a();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Fn.length&&i!==0&&i<Fn[a].priority;a++);Fn.splice(a,0,n),a===0&&Ka(n)}};function Ih(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Hu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function My(){}function OT(n,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var z=zu(_);m.call(z)}}var _=by(i,c,n,0,null,!1,!1,"",My);return n._reactRootContainer=_,n[cr]=_.current,Mo(n.nodeType===8?n.parentNode:n),bi(),_}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var R=c;c=function(){var z=zu(N);R.call(z)}}var N=wh(n,0,!1,null,null,!1,!1,"",My);return n._reactRootContainer=N,n[cr]=N.current,Mo(n.nodeType===8?n.parentNode:n),bi(function(){Bu(i,N,a,c)}),N}function Gu(n,i,a,c,f){var m=a._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var R=f;f=function(){var N=zu(_);R.call(N)}}Bu(i,_,n,f)}else _=OT(a,i,n,f,c);return zu(_)}Ba=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Cr(i.pendingLanes);a!==0&&(kr(i,a|1),Qt(i,ze()),!(be&6)&&(Os=ze()+500,jr()))}break;case 13:bi(function(){var c=pr(n,1);if(c!==null){var f=Bt();bn(c,n,1,f)}}),Th(n,1)}},as=function(n){if(n.tag===13){var i=pr(n,134217728);if(i!==null){var a=Bt();bn(i,n,134217728,a)}Th(n,134217728)}},za=function(n){if(n.tag===13){var i=Hr(n),a=pr(n,i);if(a!==null){var c=Bt();bn(a,n,i,c)}Th(n,i)}},$a=function(){return Pe},Ha=function(n,i){var a=Pe;try{return Pe=n,i()}finally{Pe=a}},Ji=function(n,i,a){switch(i){case"input":if(ao(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=lu(c);if(!f)throw Error(t(90));Gi(c),ao(c,f)}}}break;case"textarea":Yi(n,a);break;case"select":i=a.value,i!=null&&nr(n,!!a.multiple,i,!1)}},pi=mh,vo=bi;var MT={usingClientEntryPoint:!1,Events:[Uo,Ss,lu,On,yo,mh]},ea={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=wo(n),n===null?null:n.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||LT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{_i=Ku.inject(FT),Zt=Ku}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT,Yt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ih(i))throw Error(t(200));return bT(n,i,null,a)},Yt.createRoot=function(n,i){if(!Ih(n))throw Error(t(299));var a=!1,c="",f=Oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=wh(n,1,!1,null,null,a,!1,c,f),n[cr]=i.current,Mo(n.nodeType===8?n.parentNode:n),new Sh(i)},Yt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=wo(i),n=n===null?null:n.stateNode,n},Yt.flushSync=function(n){return bi(n)},Yt.hydrate=function(n,i,a){if(!Hu(i))throw Error(t(200));return Gu(null,n,i,!0,a)},Yt.hydrateRoot=function(n,i,a){if(!Ih(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",_=Oy;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=by(i,null,n,1,a??null,f,!1,m,_),n[cr]=i.current,Mo(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new $u(i)},Yt.render=function(n,i,a){if(!Hu(i))throw Error(t(200));return Gu(null,n,i,!1,a)},Yt.unmountComponentAtNode=function(n){if(!Hu(n))throw Error(t(40));return n._reactRootContainer?(bi(function(){Gu(null,null,n,!1,function(){n._reactRootContainer=null,n[cr]=null})}),!0):!1},Yt.unstable_batchedUpdates=mh,Yt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Hu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Gu(n,i,a,!1,c)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Xy;function vI(){if(Xy)return xh.exports;Xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xh.exports=yI(),xh.exports}function _I(){return B.jsx("div",{className:"bg-cyan-100 flex h-screen w-full items-center justify-center",children:B.jsxs("div",{className:"border-solid border-2 border-cyan-950 p-96 rounded-3xl flex-col center-center gap-10",children:[B.jsx("h1",{children:" You not down "}),B.jsx(Kp,{to:"/newpoll",children:B.jsx(Ft,{large:!0,children:" See Who's Not Down "})})]})})}function Wp(){return B.jsx("div",{className:"bg-black mb-4 py-5",children:B.jsx("h1",{className:"text-center text-4xl font-bold text-white",children:"You Not Down"})})}function EI(){return B.jsxs("div",{children:[B.jsx(Wp,{}),B.jsxs("div",{className:`
          bg-app-background bg-cover bg-center min-h-screen text-center text-4xl font-bold
        `,children:["Hello, World!",B.jsx(Ft,{bg:"black",btnText:"Follow me",textColor:"white"})]})]})}function wI({value:r,disabled:e}){return B.jsxs("option",{disabled:e,children:[" ",r," "]})}function TI({className:r,value:e="default",options:t,onChange:s}){const o=t.map(u=>B.jsx(wI,{value:u.value,disabled:u.disabled},u.key));return B.jsxs("select",{className:r,value:e,onChange:u=>s(u.target.value),children:[B.jsx("option",{disabled:!0,value:"default",children:"Select Type"}),o]})}function SI({index:r,value:e,onChange:t,onDelete:s,addName:o}){const u=h=>{h.key==="Enter"&&e&&o()};return B.jsxs("div",{className:"flex gap-4",children:[B.jsxs("label",{htmlFor:`name-${r}`,children:[" ",r+1," "]}),B.jsx("input",{id:`name-${r}`,type:"text",value:e,onChange:h=>t(r,h.target.value),className:"border-2",onKeyDown:h=>u(h)}),B.jsx(Ft,{small:!0,danger:!0,onClick:()=>s(r),children:"X"})]})}function zE({numPeople:r,names:e,onNameChange:t,onDelete:s,addName:o}){return B.jsx("div",{className:"flex flex-col gap-3",children:Array.from({length:r}).map((u,h)=>B.jsx(SI,{index:h,value:e[h]||"",onChange:t,onDelete:s,addName:()=>o(h)},`i${h}`))})}function II({tabOptions:r}){var u;const[e,t]=K.useState((u=r[0])==null?void 0:u.name),s=K.useMemo(()=>{var h;return(h=r.find(d=>d.name===e))==null?void 0:h.content}),o=r.map(h=>B.jsx("div",{className:ll(ll({"bg-eggwhite-0 border-eggwhite-20 border-2 border-b-eggwhite-0 hover:bg-eggwhite-0 hover:text-primary-30 active:text-primary-60":e===h.name,"border-transparent border-2":e!==h.name}),"rounded-t-lg py-2 px-8 cursor-pointer hover:bg-eggwhite-10 active:bg-eggwhite-20 overflow-hidden"),onClick:()=>{t(h.name)},children:h.name},h.name));return B.jsxs("div",{className:"p-4",children:[B.jsx("div",{className:"flex center-center",children:o}),B.jsx("div",{className:"border-t-2 border-eggwhite-20 -mt-0.5"}),B.jsx("div",{className:"m-auto center-center my-8",children:s})]})}var Jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},RI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,T=(u&3)<<4|d>>4;let S=(d&15)<<2|y>>6,P=y&63;g||(P=64,h||(S=64)),s.push(t[E],t[T],t[S],t[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($E(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||y==null||T==null)throw new AI;const S=u<<2|d>>4;if(s.push(S),y!==64){const P=d<<4&240|y>>2;if(s.push(P),T!==64){const b=y<<6&192|T;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CI=function(r){const e=$E(r);return HE.encodeByteArray(e,!0)},hl=function(r){return CI(r).replace(/\./g,"")},PI=function(r){try{return HE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=()=>xI().__FIREBASE_DEFAULTS__,DI=()=>{if(typeof process>"u"||typeof Jy>"u")return;const r=Jy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PI(r[1]);return e&&JSON.parse(e)},Qp=()=>{try{return kI()||DI()||NI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},VI=r=>{var e,t;return(t=(e=Qp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},bI=r=>{const e=VI(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},GE=()=>{var r;return(r=Qp())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[hl(JSON.stringify(t)),hl(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FI(){var r;const e=(r=Qp())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jI(){return!FI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UI(){try{return typeof indexedDB=="object"}catch{return!1}}function qI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FirebaseError";class eo extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=BI,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,KE.prototype.create)}}class KE{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?zI(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new eo(o,d,s)}}function zI(r,e){return r.replace($I,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $I=/\{\$([^}]+)}/g;function vp(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Zy(u)&&Zy(h)){if(!vp(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Zy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(r){return r&&r._delegate?r._delegate:r}class ma{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new LI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KI(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GI(r){return r===Fi?void 0:r}function KI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const QI={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},YI=Ve.INFO,XI={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},JI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=XI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WE{constructor(e){this.name=e,this._logLevel=YI,this._logHandler=JI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const ZI=(r,e)=>e.some(t=>r instanceof t);let ev,tv;function eR(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tR(){return tv||(tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,_p=new WeakMap,YE=new WeakMap,Nh=new WeakMap,Yp=new WeakMap;function nR(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(Xr(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&QE.set(t,r)}).catch(()=>{}),Yp.set(e,r),e}function rR(r){if(_p.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});_p.set(r,e)}let Ep={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return _p.get(r);if(e==="objectStoreNames")return r.objectStoreNames||YE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xr(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function iR(r){Ep=r(Ep)}function sR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Vh(this),e,...t);return YE.set(s,e.sort?e.sort():[e]),Xr(s)}:tR().includes(r)?function(...e){return r.apply(Vh(this),e),Xr(QE.get(this))}:function(...e){return Xr(r.apply(Vh(this),e))}}function oR(r){return typeof r=="function"?sR(r):(r instanceof IDBTransaction&&rR(r),ZI(r,eR())?new Proxy(r,Ep):r)}function Xr(r){if(r instanceof IDBRequest)return nR(r);if(Nh.has(r))return Nh.get(r);const e=oR(r);return e!==r&&(Nh.set(r,e),Yp.set(e,r)),e}const Vh=r=>Yp.get(r);function aR(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=Xr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Xr(h.result),g.oldVersion,g.newVersion,Xr(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const uR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],bh=new Map;function nv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bh.get(e))return bh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=lR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uR.includes(t)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&g.done]))[0]};return bh.set(e,u),u}iR(r=>({...r,get:(e,t,s)=>nv(e,t)||r.get(e,t,s),has:(e,t)=>!!nv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function hR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wp="@firebase/app",rv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new WE("@firebase/app"),fR="@firebase/app-compat",dR="@firebase/analytics-compat",pR="@firebase/analytics",mR="@firebase/app-check-compat",gR="@firebase/app-check",yR="@firebase/auth",vR="@firebase/auth-compat",_R="@firebase/database",ER="@firebase/data-connect",wR="@firebase/database-compat",TR="@firebase/functions",SR="@firebase/functions-compat",IR="@firebase/installations",RR="@firebase/installations-compat",AR="@firebase/messaging",CR="@firebase/messaging-compat",PR="@firebase/performance",xR="@firebase/performance-compat",kR="@firebase/remote-config",DR="@firebase/remote-config-compat",NR="@firebase/storage",VR="@firebase/storage-compat",bR="@firebase/firestore",LR="@firebase/vertexai",OR="@firebase/firestore-compat",MR="firebase",FR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",jR={[wp]:"fire-core",[fR]:"fire-core-compat",[pR]:"fire-analytics",[dR]:"fire-analytics-compat",[gR]:"fire-app-check",[mR]:"fire-app-check-compat",[yR]:"fire-auth",[vR]:"fire-auth-compat",[_R]:"fire-rtdb",[ER]:"fire-data-connect",[wR]:"fire-rtdb-compat",[TR]:"fire-fn",[SR]:"fire-fn-compat",[IR]:"fire-iid",[RR]:"fire-iid-compat",[AR]:"fire-fcm",[CR]:"fire-fcm-compat",[PR]:"fire-perf",[xR]:"fire-perf-compat",[kR]:"fire-rc",[DR]:"fire-rc-compat",[NR]:"fire-gcs",[VR]:"fire-gcs-compat",[bR]:"fire-fst",[OR]:"fire-fst-compat",[LR]:"fire-vertex","fire-js":"fire-js",[MR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Map,UR=new Map,Sp=new Map;function iv(r,e){try{r.container.addComponent(e)}catch(t){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function dl(r){const e=r.name;if(Sp.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Sp.set(e,r);for(const t of fl.values())iv(t,r);for(const t of UR.values())iv(t,r);return!0}function qR(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new KE("app","Firebase",BR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=FR;function XE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Tp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(t||(t=GE()),!t)throw Jr.create("no-options");const u=fl.get(o);if(u){if(vp(t,u.options)&&vp(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const h=new WI(o);for(const g of Sp.values())h.addComponent(g);const d=new zR(t,s,h);return fl.set(o,d),d}function HR(r=Tp){const e=fl.get(r);if(!e&&r===Tp&&GE())return XE();if(!e)throw Jr.create("no-app",{appName:r});return e}function Bs(r,e,t){var s;let o=(s=jR[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(d.join(" "));return}dl(new ma(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebase-heartbeat-database",KR=1,ga="firebase-heartbeat-store";let Lh=null;function JE(){return Lh||(Lh=aR(GR,KR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ga)}catch(t){console.warn(t)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),Lh}async function WR(r){try{const t=(await JE()).transaction(ga),s=await t.objectStore(ga).get(ZE(r));return await t.done,s}catch(e){if(e instanceof eo)_r.warn(e.message);else{const t=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(t.message)}}}async function sv(r,e){try{const s=(await JE()).transaction(ga,"readwrite");await s.objectStore(ga).put(e,ZE(r)),await s.done}catch(t){if(t instanceof eo)_r.warn(t.message);else{const s=Jr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_r.warn(s.message)}}}function ZE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1024,YR=30*24*60*60*1e3;class XR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ov();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const d=new Date(h.date).valueOf();return Date.now()-d<=YR}),this._storage.overwrite(this._heartbeatsCache))}catch(s){_r.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ov(),{heartbeatsToSend:s,unsentEntries:o}=JR(this._heartbeatsCache.heartbeats),u=hl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return _r.warn(t),""}}}function ov(){return new Date().toISOString().substring(0,10)}function JR(r,e=QR){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),av(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),av(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class ZR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UI()?qI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return sv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return sv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function av(r){return hl(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(r){dl(new ma("platform-logger",e=>new cR(e),"PRIVATE")),dl(new ma("heartbeat",e=>new XR(e),"PRIVATE")),Bs(wp,rv,r),Bs(wp,rv,"esm2017"),Bs("fire-js","")}eA("");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,ew;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function A(){}A.prototype=I.prototype,x.D=I.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(D,k,O){for(var C=Array(arguments.length-2),He=2;He<arguments.length;He++)C[He-2]=arguments[He];return I.prototype[k].apply(D,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,I,A){A||(A=0);var D=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)D[k]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(k=0;16>k;++k)D[k]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=x.g[0],A=x.g[1],k=x.g[2];var O=x.g[3],C=I+(O^A&(k^O))+D[0]+3614090360&4294967295;I=A+(C<<7&4294967295|C>>>25),C=O+(k^I&(A^k))+D[1]+3905402710&4294967295,O=I+(C<<12&4294967295|C>>>20),C=k+(A^O&(I^A))+D[2]+606105819&4294967295,k=O+(C<<17&4294967295|C>>>15),C=A+(I^k&(O^I))+D[3]+3250441966&4294967295,A=k+(C<<22&4294967295|C>>>10),C=I+(O^A&(k^O))+D[4]+4118548399&4294967295,I=A+(C<<7&4294967295|C>>>25),C=O+(k^I&(A^k))+D[5]+1200080426&4294967295,O=I+(C<<12&4294967295|C>>>20),C=k+(A^O&(I^A))+D[6]+2821735955&4294967295,k=O+(C<<17&4294967295|C>>>15),C=A+(I^k&(O^I))+D[7]+4249261313&4294967295,A=k+(C<<22&4294967295|C>>>10),C=I+(O^A&(k^O))+D[8]+1770035416&4294967295,I=A+(C<<7&4294967295|C>>>25),C=O+(k^I&(A^k))+D[9]+2336552879&4294967295,O=I+(C<<12&4294967295|C>>>20),C=k+(A^O&(I^A))+D[10]+4294925233&4294967295,k=O+(C<<17&4294967295|C>>>15),C=A+(I^k&(O^I))+D[11]+2304563134&4294967295,A=k+(C<<22&4294967295|C>>>10),C=I+(O^A&(k^O))+D[12]+1804603682&4294967295,I=A+(C<<7&4294967295|C>>>25),C=O+(k^I&(A^k))+D[13]+4254626195&4294967295,O=I+(C<<12&4294967295|C>>>20),C=k+(A^O&(I^A))+D[14]+2792965006&4294967295,k=O+(C<<17&4294967295|C>>>15),C=A+(I^k&(O^I))+D[15]+1236535329&4294967295,A=k+(C<<22&4294967295|C>>>10),C=I+(k^O&(A^k))+D[1]+4129170786&4294967295,I=A+(C<<5&4294967295|C>>>27),C=O+(A^k&(I^A))+D[6]+3225465664&4294967295,O=I+(C<<9&4294967295|C>>>23),C=k+(I^A&(O^I))+D[11]+643717713&4294967295,k=O+(C<<14&4294967295|C>>>18),C=A+(O^I&(k^O))+D[0]+3921069994&4294967295,A=k+(C<<20&4294967295|C>>>12),C=I+(k^O&(A^k))+D[5]+3593408605&4294967295,I=A+(C<<5&4294967295|C>>>27),C=O+(A^k&(I^A))+D[10]+38016083&4294967295,O=I+(C<<9&4294967295|C>>>23),C=k+(I^A&(O^I))+D[15]+3634488961&4294967295,k=O+(C<<14&4294967295|C>>>18),C=A+(O^I&(k^O))+D[4]+3889429448&4294967295,A=k+(C<<20&4294967295|C>>>12),C=I+(k^O&(A^k))+D[9]+568446438&4294967295,I=A+(C<<5&4294967295|C>>>27),C=O+(A^k&(I^A))+D[14]+3275163606&4294967295,O=I+(C<<9&4294967295|C>>>23),C=k+(I^A&(O^I))+D[3]+4107603335&4294967295,k=O+(C<<14&4294967295|C>>>18),C=A+(O^I&(k^O))+D[8]+1163531501&4294967295,A=k+(C<<20&4294967295|C>>>12),C=I+(k^O&(A^k))+D[13]+2850285829&4294967295,I=A+(C<<5&4294967295|C>>>27),C=O+(A^k&(I^A))+D[2]+4243563512&4294967295,O=I+(C<<9&4294967295|C>>>23),C=k+(I^A&(O^I))+D[7]+1735328473&4294967295,k=O+(C<<14&4294967295|C>>>18),C=A+(O^I&(k^O))+D[12]+2368359562&4294967295,A=k+(C<<20&4294967295|C>>>12),C=I+(A^k^O)+D[5]+4294588738&4294967295,I=A+(C<<4&4294967295|C>>>28),C=O+(I^A^k)+D[8]+2272392833&4294967295,O=I+(C<<11&4294967295|C>>>21),C=k+(O^I^A)+D[11]+1839030562&4294967295,k=O+(C<<16&4294967295|C>>>16),C=A+(k^O^I)+D[14]+4259657740&4294967295,A=k+(C<<23&4294967295|C>>>9),C=I+(A^k^O)+D[1]+2763975236&4294967295,I=A+(C<<4&4294967295|C>>>28),C=O+(I^A^k)+D[4]+1272893353&4294967295,O=I+(C<<11&4294967295|C>>>21),C=k+(O^I^A)+D[7]+4139469664&4294967295,k=O+(C<<16&4294967295|C>>>16),C=A+(k^O^I)+D[10]+3200236656&4294967295,A=k+(C<<23&4294967295|C>>>9),C=I+(A^k^O)+D[13]+681279174&4294967295,I=A+(C<<4&4294967295|C>>>28),C=O+(I^A^k)+D[0]+3936430074&4294967295,O=I+(C<<11&4294967295|C>>>21),C=k+(O^I^A)+D[3]+3572445317&4294967295,k=O+(C<<16&4294967295|C>>>16),C=A+(k^O^I)+D[6]+76029189&4294967295,A=k+(C<<23&4294967295|C>>>9),C=I+(A^k^O)+D[9]+3654602809&4294967295,I=A+(C<<4&4294967295|C>>>28),C=O+(I^A^k)+D[12]+3873151461&4294967295,O=I+(C<<11&4294967295|C>>>21),C=k+(O^I^A)+D[15]+530742520&4294967295,k=O+(C<<16&4294967295|C>>>16),C=A+(k^O^I)+D[2]+3299628645&4294967295,A=k+(C<<23&4294967295|C>>>9),C=I+(k^(A|~O))+D[0]+4096336452&4294967295,I=A+(C<<6&4294967295|C>>>26),C=O+(A^(I|~k))+D[7]+1126891415&4294967295,O=I+(C<<10&4294967295|C>>>22),C=k+(I^(O|~A))+D[14]+2878612391&4294967295,k=O+(C<<15&4294967295|C>>>17),C=A+(O^(k|~I))+D[5]+4237533241&4294967295,A=k+(C<<21&4294967295|C>>>11),C=I+(k^(A|~O))+D[12]+1700485571&4294967295,I=A+(C<<6&4294967295|C>>>26),C=O+(A^(I|~k))+D[3]+2399980690&4294967295,O=I+(C<<10&4294967295|C>>>22),C=k+(I^(O|~A))+D[10]+4293915773&4294967295,k=O+(C<<15&4294967295|C>>>17),C=A+(O^(k|~I))+D[1]+2240044497&4294967295,A=k+(C<<21&4294967295|C>>>11),C=I+(k^(A|~O))+D[8]+1873313359&4294967295,I=A+(C<<6&4294967295|C>>>26),C=O+(A^(I|~k))+D[15]+4264355552&4294967295,O=I+(C<<10&4294967295|C>>>22),C=k+(I^(O|~A))+D[6]+2734768916&4294967295,k=O+(C<<15&4294967295|C>>>17),C=A+(O^(k|~I))+D[13]+1309151649&4294967295,A=k+(C<<21&4294967295|C>>>11),C=I+(k^(A|~O))+D[4]+4149444226&4294967295,I=A+(C<<6&4294967295|C>>>26),C=O+(A^(I|~k))+D[11]+3174756917&4294967295,O=I+(C<<10&4294967295|C>>>22),C=k+(I^(O|~A))+D[2]+718787259&4294967295,k=O+(C<<15&4294967295|C>>>17),C=A+(O^(k|~I))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+O&4294967295}s.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var A=I-this.blockSize,D=this.B,k=this.h,O=0;O<I;){if(k==0)for(;O<=A;)o(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<I;)if(D[k++]=x.charCodeAt(O++),k==this.blockSize){o(this,D),k=0;break}}else for(;O<I;)if(D[k++]=x[O++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=I},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var A=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.u(x),x=Array(16),I=A=0;4>I;++I)for(var D=0;32>D;D+=8)x[A++]=this.g[I]>>>D&255;return x};function u(x,I){var A=d;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=I(x)}function h(x,I){this.h=I;for(var A=[],D=!0,k=x.length-1;0<=k;k--){var O=x[k]|0;D&&O==I||(A[k]=O,D=!1)}this.g=A}var d={};function g(x){return-128<=x&&128>x?u(x,function(I){return new h([I|0],0>I?-1:0)}):new h([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return L(y(-x));for(var I=[],A=1,D=0;x>=A;D++)I[D]=x/A|0,A*=4294967296;return new h(I,0)}function E(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return L(E(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(I,8)),D=T,k=0;k<x.length;k+=8){var O=Math.min(8,x.length-k),C=parseInt(x.substring(k,k+O),I);8>O?(O=y(Math.pow(I,O)),D=D.j(O).add(y(C))):(D=D.j(A),D=D.add(y(C)))}return D}var T=g(0),S=g(1),P=g(16777216);r=h.prototype,r.m=function(){if(F(this))return-L(this).m();for(var x=0,I=1,A=0;A<this.g.length;A++){var D=this.i(A);x+=(0<=D?D:4294967296+D)*I,I*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b(this))return"0";if(F(this))return"-"+L(this).toString(x);for(var I=y(Math.pow(x,6)),A=this,D="";;){var k=ne(A,I).g;A=$(A,k.j(I));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=k,b(A))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function b(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function F(x){return x.h==-1}r.l=function(x){return x=$(this,x),F(x)?-1:b(x)?0:1};function L(x){for(var I=x.g.length,A=[],D=0;D<I;D++)A[D]=~x.g[D];return new h(A,~x.h).add(S)}r.abs=function(){return F(this)?L(this):this},r.add=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],D=0,k=0;k<=I;k++){var O=D+(this.i(k)&65535)+(x.i(k)&65535),C=(O>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);D=C>>>16,O&=65535,C&=65535,A[k]=C<<16|O}return new h(A,A[A.length-1]&-2147483648?-1:0)};function $(x,I){return x.add(L(I))}r.j=function(x){if(b(this)||b(x))return T;if(F(this))return F(x)?L(this).j(L(x)):L(L(this).j(x));if(F(x))return L(this.j(L(x)));if(0>this.l(P)&&0>x.l(P))return y(this.m()*x.m());for(var I=this.g.length+x.g.length,A=[],D=0;D<2*I;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<x.g.length;k++){var O=this.i(D)>>>16,C=this.i(D)&65535,He=x.i(k)>>>16,nt=x.i(k)&65535;A[2*D+2*k]+=C*nt,G(A,2*D+2*k),A[2*D+2*k+1]+=O*nt,G(A,2*D+2*k+1),A[2*D+2*k+1]+=C*He,G(A,2*D+2*k+1),A[2*D+2*k+2]+=O*He,G(A,2*D+2*k+2)}for(D=0;D<I;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=I;D<2*I;D++)A[D]=0;return new h(A,0)};function G(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function ee(x,I){this.g=x,this.h=I}function ne(x,I){if(b(I))throw Error("division by zero");if(b(x))return new ee(T,T);if(F(x))return I=ne(L(x),I),new ee(L(I.g),L(I.h));if(F(I))return I=ne(x,L(I)),new ee(L(I.g),I.h);if(30<x.g.length){if(F(x)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var A=S,D=I;0>=D.l(x);)A=de(A),D=de(D);var k=se(A,1),O=se(D,1);for(D=se(D,2),A=se(A,2);!b(D);){var C=O.add(D);0>=C.l(x)&&(k=k.add(A),O=C),D=se(D,1),A=se(A,1)}return I=$(x,k.j(I)),new ee(k,I)}for(k=T;0<=x.l(I);){for(A=Math.max(1,Math.floor(x.m()/I.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=y(A),C=O.j(I);F(C)||0<C.l(x);)A-=D,O=y(A),C=O.j(I);b(O)&&(O=S),k=k.add(O),x=$(x,C)}return new ee(k,x)}r.A=function(x){return ne(this,x).h},r.and=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)&x.i(D);return new h(A,this.h&x.h)},r.or=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)|x.i(D);return new h(A,this.h|x.h)},r.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)^x.i(D);return new h(A,this.h^x.h)};function de(x){for(var I=x.g.length+1,A=[],D=0;D<I;D++)A[D]=x.i(D)<<1|x.i(D-1)>>>31;return new h(A,x.h)}function se(x,I){var A=I>>5;I%=32;for(var D=x.g.length-A,k=[],O=0;O<D;O++)k[O]=0<I?x.i(O+A)>>>I|x.i(O+A+1)<<32-I:x.i(O+A);return new h(k,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ew=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,qi=h}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tw,sa,nw,il,Ip,rw,iw,sw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var v=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var j=l[w];if(!(j in v))break e;v=v[j]}l=l[l.length-1],w=v[l],p=p(w),p!=w&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var v=0,w=!1,j={next:function(){if(!w&&v<l.length){var H=v++;return{value:p(H,l[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function y(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,v){return l.call.apply(l.bind,arguments)}function T(l,p,v){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),l.apply(p,j)}}return function(){return l.apply(p,arguments)}}function S(l,p,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,S.apply(null,arguments)}function P(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function b(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(w,j,H){for(var re=Array(arguments.length-2),je=2;je<arguments.length;je++)re[je-2]=arguments[je];return p.prototype[j].apply(w,re)}}function F(l){const p=l.length;if(0<p){const v=Array(p);for(let w=0;w<p;w++)v[w]=l[w];return v}return[]}function L(l,p){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const j=l.length||0,H=w.length||0;l.length=j+H;for(let re=0;re<H;re++)l[j+re]=w[re]}else l.push(w)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function G(l){return/^[\s\xa0]*$/.test(l)}function ee(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function ne(l){return ne[" "](l),l}ne[" "]=function(){};var de=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function se(l,p,v){for(const w in l)p.call(v,l[w],w,l)}function x(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function I(l){const p={};for(const v in l)p[v]=l[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,p){let v,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(v in w)l[v]=w[v];for(let H=0;H<A.length;H++)v=A[H],Object.prototype.hasOwnProperty.call(w,v)&&(l[v]=w[v])}}function k(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function O(l){d.setTimeout(()=>{throw l},0)}function C(){var l=ge;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class He{constructor(){this.h=this.g=null}add(p,v){const w=nt.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var nt=new $(()=>new yt,l=>l.reset());class yt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ie=!1,ge=new He,ae=()=>{const l=d.Promise.resolve(void 0);Ue=()=>{l.then(M)}};var M=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(v){O(v)}var p=nt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ie=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};d.addEventListener("test",v,p),d.removeEventListener("test",v,p)}catch{}return l}();function Re(l,p){if(pe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(de){e:{try{ne(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}b(Re,pe);var ke={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(l,p,v,w,j){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=j,this.key=++Me,this.da=this.fa=!1}function vt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,p,v,w,j){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var re=Ir(l,p,w,j);return-1<re?(p=l[re],v||(p.fa=!1)):(p=new Be(p,this.src,H,!!w,j),p.fa=v,l.push(p)),p};function Gi(l,p){var v=p.type;if(v in l.g){var w=l.g[v],j=Array.prototype.indexOf.call(w,p,void 0),H;(H=0<=j)&&Array.prototype.splice.call(w,j,1),H&&(vt(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function Ir(l,p,v,w){for(var j=0;j<l.length;++j){var H=l[j];if(!H.da&&H.listener==p&&H.capture==!!v&&H.ha==w)return j}return-1}var ci="closure_lm_"+(1e6*Math.random()|0),Ki={};function oo(l,p,v,w,j){if(Array.isArray(p)){for(var H=0;H<p.length;H++)oo(l,p[H],v,w,j);return null}return v=lo(v),l&&l[Oe]?l.K(p,v,y(w)?!!w.capture:!!w,j):ao(l,p,v,!1,w,j)}function ao(l,p,v,w,j,H){if(!p)throw Error("Invalid event type");var re=y(j)?!!j.capture:!!j,je=Qi(l);if(je||(l[ci]=je=new er(l)),v=je.add(p,v,w,re,H),v.proxy)return v;if(w=Va(),v.proxy=w,w.src=l,w.listener=v,l.addEventListener)Ie||(j=re),j===void 0&&(j=!1),l.addEventListener(p.toString(),w,j);else if(l.attachEvent)l.attachEvent(nr(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Va(){function l(v){return p.call(l.src,l.listener,v)}const p=uo;return l}function Wi(l,p,v,w,j){if(Array.isArray(p))for(var H=0;H<p.length;H++)Wi(l,p[H],v,w,j);else w=y(w)?!!w.capture:!!w,v=lo(v),l&&l[Oe]?(l=l.i,p=String(p).toString(),p in l.g&&(H=l.g[p],v=Ir(H,v,w,j),-1<v&&(vt(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete l.g[p],l.h--)))):l&&(l=Qi(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ir(p,v,w,j)),(v=-1<l?p[l]:null)&&tr(v))}function tr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Oe])Gi(p.i,l);else{var v=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(v,w,l.capture):p.detachEvent?p.detachEvent(nr(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=Qi(p))?(Gi(v,l),v.h==0&&(v.src=null,p[ci]=null)):vt(l)}}}function nr(l){return l in Ki?Ki[l]:Ki[l]="on"+l}function uo(l,p){if(l.da)l=!0;else{p=new Re(p,this);var v=l.listener,w=l.ha||l.src;l.fa&&tr(l),l=v.call(w,p)}return l}function Qi(l){return l=l[ci],l instanceof er?l:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(l){return typeof l=="function"?l:(l[Yi]||(l[Yi]=function(p){return l.handleEvent(p)}),l[Yi])}function lt(){Q.call(this),this.i=new er(this),this.M=this,this.F=null}b(lt,Q),lt.prototype[Oe]=!0,lt.prototype.removeEventListener=function(l,p,v,w){Wi(this,l,p,v,w)};function ct(l,p){var v,w=l.F;if(w)for(v=[];w;w=w.F)v.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new pe(p,l);else if(p instanceof pe)p.target=p.target||l;else{var j=p;p=new pe(w,l),D(p,j)}if(j=!0,v)for(var H=v.length-1;0<=H;H--){var re=p.g=v[H];j=rr(re,w,!0,p)&&j}if(re=p.g=l,j=rr(re,w,!0,p)&&j,j=rr(re,w,!1,p)&&j,v)for(H=0;H<v.length;H++)re=p.g=v[H],j=rr(re,w,!1,p)&&j}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],w=0;w<v.length;w++)vt(v[w]);delete l.g[p],l.h--}}this.F=null},lt.prototype.K=function(l,p,v,w){return this.i.add(String(l),p,!1,v,w)},lt.prototype.L=function(l,p,v,w){return this.i.add(String(l),p,!0,v,w)};function rr(l,p,v,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,H=0;H<p.length;++H){var re=p[H];if(re&&!re.da&&re.capture==v){var je=re.listener,ht=re.ha||re.src;re.fa&&Gi(l.i,re),j=je.call(ht,w)!==!1&&j}}return j&&!w.defaultPrevented}function co(l,p,v){if(typeof l=="function")v&&(l=S(l,v));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function Rr(l){l.g=co(()=>{l.g=null,l.i&&(l.i=!1,Rr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class hi extends Q{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Rr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(l){Q.call(this),this.h=l,this.g={}}b(fi,Q);var ho=[];function fo(l){se(l.g,function(p,v){this.g.hasOwnProperty(v)&&tr(p)},l),l.g={}}fi.prototype.N=function(){fi.aa.N.call(this),fo(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var po=d.JSON.stringify,mo=d.JSON.parse,go=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function di(){}di.prototype.h=null;function Xi(l){return l.h||(l.h=l.i())}function Ji(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){pe.call(this,"d")}b(Ln,pe);function Zi(){pe.call(this,"c")}b(Zi,pe);var On={},yo=null;function pi(){return yo=yo||new lt}On.La="serverreachability";function vo(l){pe.call(this,On.La,l)}b(vo,pe);function ir(l){const p=pi();ct(p,new vo(p))}On.STAT_EVENT="statevent";function _o(l,p){pe.call(this,On.STAT_EVENT,l),this.stat=p}b(_o,pe);function rt(l){const p=pi();ct(p,new _o(p,l))}On.Ma="timingevent";function es(l,p){pe.call(this,On.Ma,l),this.size=p}b(es,pe);function En(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function mi(){this.g=!0}mi.prototype.xa=function(){this.g=!1};function gi(l,p,v,w,j,H){l.info(function(){if(l.g)if(H)for(var re="",je=H.split("&"),ht=0;ht<je.length;ht++){var De=je[ht].split("=");if(1<De.length){var _t=De[0];De=De[1];var ot=_t.split("_");re=2<=ot.length&&ot[1]=="type"?re+(_t+"="+De+"&"):re+(_t+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+p+`
`+v+`
`+re})}function ts(l,p,v,w,j,H,re){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+p+`
`+v+`
`+H+" "+re})}function wn(l,p,v,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zl(l,v)+(w?" "+w:"")})}function Eo(l,p){l.info(function(){return"TIMEOUT: "+p})}mi.prototype.info=function(){};function Zl(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var w=v[l];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<j.length;re++)j[re]=""}}}}return po(v)}catch{return p}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tn;function yi(){}b(yi,di),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},Tn=new yi;function Sn(l,p,v,w){this.j=l,this.i=p,this.l=v,this.R=w||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new La}function La(){this.i=null,this.g="",this.h=!1}var wo={},rs={};function is(l,p,v){l.L=1,l.v=kr(en(p)),l.m=v,l.P=!0,To(l,null)}function To(l,p){l.F=Date.now(),ze(l),l.A=en(l.v);var v=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Nr(v.i,"t",w),l.C=0,v=l.j.J,l.h=new La,l.g=Za(l.j,v?p:null,!l.m),0<l.O&&(l.M=new hi(S(l.Y,l,l.g),l.O)),p=l.U,v=l.g,w=l.ca;var j="readystatechange";Array.isArray(j)||(j&&(ho[0]=j.toString()),j=ho);for(var H=0;H<j.length;H++){var re=oo(v,j[H],w||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),ir(),gi(l.i,l.u,l.A,l.l,l.R,l.m)}Sn.prototype.ca=function(l){l=l.target;const p=this.M;p&&$t(l)==3?p.j():this.Y(l)},Sn.prototype.Y=function(l){try{if(l==this.g)e:{const ot=$t(this.g);var p=this.g.Ba();const fn=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Po(this.g)))){this.J||ot!=4||p==7||(p==8||0>=fn?ir(3):ir(2)),vi(this);var v=this.g.Z();this.X=v;t:if(Oa(this)){var w=Po(this.g);l="";var j=w.length,H=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Ar(this);var re="";break t}this.h.i=new d.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!(H&&p==j-1)});w.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,ts(this.i,this.u,this.A,this.l,this.R,ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ht=this.g;if((je=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(je)){var De=je;break t}}De=null}if(v=De)wn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,So(this,v);else{this.o=!1,this.s=3,rt(12),cn(this),Ar(this);break e}}if(this.P){v=!0;let nn;for(;!this.J&&this.C<re.length;)if(nn=ec(this,re),nn==rs){ot==4&&(this.s=4,rt(14),v=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==wo){this.s=4,rt(15),wn(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else wn(this.i,this.l,nn,null),So(this,nn);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||re.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)wn(this.i,this.l,re,"[Invalid Chunked Response]"),cn(this),Ar(this);else if(0<re.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ko(_t),_t.M=!0,rt(11))}}else wn(this.i,this.l,re,null),So(this,re);ot==4&&cn(this),this.o&&!this.J&&(ot==4?ms(this.j,this):(this.o=!1,ze(this)))}else cs(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),cn(this),Ar(this)}}}catch{}finally{}};function Oa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ec(l,p){var v=l.C,w=p.indexOf(`
`,v);return w==-1?rs:(v=Number(p.substring(v,w)),isNaN(v)?wo:(w+=1,w+v>p.length?rs:(p=p.slice(w,w+v),l.C=w+v,p)))}Sn.prototype.cancel=function(){this.J=!0,cn(this)};function ze(l){l.S=Date.now()+l.I,Ma(l,l.I)}function Ma(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=En(S(l.ba,l),p)}function vi(l){l.B&&(d.clearTimeout(l.B),l.B=null)}Sn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Eo(this.i,this.A),this.L!=2&&(ir(),rt(17)),cn(this),this.s=2,Ar(this)):Ma(this,this.S-l)};function Ar(l){l.j.G==0||l.J||ms(l.j,l)}function cn(l){vi(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,fo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function So(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||jt(v.h,l))){if(!l.K&&jt(v.h,l)&&v.G==3){try{var w=v.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)ps(v),Pn(v);else break e;ds(v),rt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=En(S(v.Za,v),6e3));if(1>=ja(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else lr(v,11)}else if((l.K||v.g==l)&&ps(v),!G(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let De=j[p];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const _t=De[3];_t!=null&&(v.la=_t,v.j.info("VER="+v.la));const ot=De[4];ot!=null&&(v.Aa=ot,v.j.info("SVER="+v.Aa));const fn=De[5];fn!=null&&typeof fn=="number"&&0<fn&&(w=1.5*fn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const nn=l.g;if(nn){const Ri=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var H=w.h;H.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Io(H,H.h),H.h=null))}if(w.D){const ys=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ys&&(w.ya=ys,qe(w.I,w.D,ys))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var re=l;if(w.qa=Ja(w,w.J?w.ia:null,w.W),re.K){Ua(w.h,re);var je=re,ht=w.L;ht&&(je.I=ht),je.B&&(vi(je),ze(je)),w.g=re}else Ii(w);0<v.i.length&&Un(v)}else De[0]!="stop"&&De[0]!="close"||lr(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?lr(v,7):Rt(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}ir(4)}catch{}}var Fa=class{constructor(l,p){this.g=l,this.map=p}};function _i(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ja(l){return l.h?1:l.g?l.g.size:0}function jt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Io(l,p){l.g?l.g.add(p):l.h=p}function Ua(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}_i.prototype.cancel=function(){if(this.i=qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function qa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return F(l.i)}function ss(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],v=l.length,w=0;w<v;w++)p.push(l[w]);return p}p=[],v=0;for(w in l)p[v++]=l[w];return p}function os(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const w in l)p[v++]=w;return p}}}function Cr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=os(l),w=ss(l),j=w.length,H=0;H<j;H++)p.call(void 0,w[H],v&&v[H],l)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tc(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var w=l[v].indexOf("="),j=null;if(0<=w){var H=l[v].substring(0,w);j=l[v].substring(w+1)}else H=l[v];p(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sr){this.h=l.h,wi(this,l.j),this.o=l.o,this.g=l.g,Pr(this,l.s),this.l=l.l;var p=l.i,v=new Mn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),xr(this,v),this.m=l.m}else l&&(p=String(l).match(Ei))?(this.h=!1,wi(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),Pr(this,p[4]),this.l=Pe(p[5]||"",!0),xr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}sr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Dr(p,as,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Dr(p,as,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Dr(v,v.charAt(0)=="/"?$a:za,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Dr(v,Ro)),l.join("")};function en(l){return new sr(l)}function wi(l,p,v){l.j=v?Pe(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Pr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function xr(l,p,v){p instanceof Mn?(l.i=p,Fn(l.i,l.h)):(v||(p=Dr(p,Ha)),l.i=new Mn(p,l.h))}function qe(l,p,v){l.i.set(p,v)}function kr(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Dr(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,Ba),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ba(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var as=/[#\/\?@]/g,za=/[#\?:]/g,$a=/[#\?]/g,Ha=/[#\?@]/g,Ro=/#/g;function Mn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function It(l){l.g||(l.g=new Map,l.h=0,l.i&&tc(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Mn.prototype,r.add=function(l,p){It(this),this.i=null,l=hn(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function In(l,p){It(l),p=hn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Rn(l,p){return It(l),p=hn(l,p),l.g.has(p)}r.forEach=function(l,p){It(this),this.g.forEach(function(v,w){v.forEach(function(j){l.call(p,j,w,this)},this)},this)},r.na=function(){It(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let w=0;w<p.length;w++){const j=l[w];for(let H=0;H<j.length;H++)v.push(p[w])}return v},r.V=function(l){It(this);let p=[];if(typeof l=="string")Rn(this,l)&&(p=p.concat(this.g.get(hn(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},r.set=function(l,p){return It(this),this.i=null,l=hn(this,l),Rn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Nr(l,p,v){In(l,p),0<v.length&&(l.i=null,l.g.set(hn(l,p),F(v)),l.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var w=p[v];const H=encodeURIComponent(String(w)),re=this.V(w);for(w=0;w<re.length;w++){var j=H;re[w]!==""&&(j+="="+encodeURIComponent(String(re[w]))),l.push(j)}}return this.i=l.join("&")};function hn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Fn(l,p){p&&!l.j&&(It(l),l.i=null,l.g.forEach(function(v,w){var j=w.toLowerCase();w!=j&&(In(this,w),Nr(this,j,v))},l)),l.j=p}function nc(l,p){const v=new mi;if(d.Image){const w=new Image;w.onload=P(zt,v,"TestLoadImage: loaded",!0,p,w),w.onerror=P(zt,v,"TestLoadImage: error",!1,p,w),w.onabort=P(zt,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=P(zt,v,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Ga(l,p){const v=new mi,w=new AbortController,j=setTimeout(()=>{w.abort(),zt(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(H=>{clearTimeout(j),H.ok?zt(v,"TestPingServer: ok",!0,p):zt(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),zt(v,"TestPingServer: error",!1,p)})}function zt(l,p,v,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(v)}catch{}}function rc(){this.g=new go}function Ka(l,p,v){const w=v||"";try{Cr(l,function(j,H){let re=j;y(j)&&(re=po(j)),p.push(w+H+"="+encodeURIComponent(re))})}catch(j){throw p.push(w+"type="+encodeURIComponent("_badmap")),j}}function or(l){this.l=l.Ub||null,this.j=l.eb||!1}b(or,di),or.prototype.g=function(){return new Ti(this.l,this.j)},or.prototype.i=function(l){return function(){return l}}({});function Ti(l,p){lt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ti,lt),r=Ti.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Cn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?An(this):Cn(this),this.readyState==3&&Wa(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,An(this))},r.Qa=function(l){this.g&&(this.response=l,An(this))},r.ga=function(){this.g&&An(this)};function An(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Cn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function Cn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let p="";return se(l,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function Vr(l,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=ar(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):qe(l,p,v))}function We(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(We,lt);var ic=/^https?$/i,Ao=["POST","PUT"];r=We.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tn.g(),this.v=this.o?Xi(this.o):Xi(Tn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(H){Si(this,H);return}if(l=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)v.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())v.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ao,p,void 0))||w||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of v)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){Si(this,H)}};function Si(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,us(l),tn(l)}function us(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),tn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),We.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Co(this):this.bb())},r.bb=function(){Co(this)};function Co(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)co(l.Ea,0,l);else if(ct(l,"readystatechange"),$t(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=re===0){var j=String(l.D).match(Ei)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),w=!ic.test(j?j.toLowerCase():"")}v=w}if(v)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var H=2<$t(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",us(l)}}finally{tn(l)}}}}function tn(l,p){if(l.g){ls(l);const v=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ct(l,"ready");try{v.onreadystatechange=w}catch{}}}function ls(l){l.I&&(d.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),mo(p)}};function Po(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(l){const p={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(G(l[w]))continue;var v=k(l[w]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=p[j]||[];p[j]=H,H.push(v)}x(p,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jn(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function xo(l){this.Aa=0,this.i=[],this.j=new mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jn("baseRetryDelayMs",5e3,l),this.cb=jn("retryDelaySeedMs",1e4,l),this.Wa=jn("forwardChannelMaxRetries",2,l),this.wa=jn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(l&&l.concurrentRequestLimit),this.Da=new rc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xo.prototype,r.la=8,r.G=1,r.connect=function(l,p,v,w){rt(0),this.W=l,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Ja(this,null,this.W),Un(this)};function Rt(l){if(hs(l),l.G==3){var p=l.U++,v=en(l.I);if(qe(v,"SID",l.K),qe(v,"RID",p),qe(v,"TYPE","terminate"),ur(l,v),p=new Sn(l,l.j,p),p.L=2,p.v=kr(en(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=p.v,v=!0),v||(p.g=Za(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ze(p)}Xa(l)}function Pn(l){l.g&&(ko(l),l.g.cancel(),l.g=null)}function hs(l){Pn(l),l.u&&(d.clearTimeout(l.u),l.u=null),ps(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Un(l){if(!Zt(l.h)&&!l.s){l.s=!0;var p=l.Ga;Ue||ae(),ie||(Ue(),ie=!0),ge.add(p,l),l.B=0}}function sc(l,p){return ja(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=En(S(l.Ga,l,p),Ya(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const j=new Sn(this,this.j,l);let H=this.o;if(this.S&&(H?(H=I(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=br(this,j,p),v=en(this.I),qe(v,"RID",l),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),ur(this,v),H&&(this.O?p="headers="+encodeURIComponent(String(ar(H)))+"&"+p:this.m&&Vr(v,this.m,H)),Io(this.h,j),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",p),qe(v,"SID","null"),j.T=!0,is(j,v,null)):is(j,v,p),this.G=2}}else this.G==3&&(l?fs(this,l):this.i.length==0||Zt(this.h)||fs(this))};function fs(l,p){var v;p?v=p.l:v=l.U++;const w=en(l.I);qe(w,"SID",l.K),qe(w,"RID",v),qe(w,"AID",l.T),ur(l,w),l.m&&l.o&&Vr(w,l.m,l.o),v=new Sn(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=br(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Io(l.h,v),is(v,w,p)}function ur(l,p){l.H&&se(l.H,function(v,w){qe(p,w,v)}),l.l&&Cr({},function(v,w){qe(p,w,v)})}function br(l,p,v){v=Math.min(l.i.length,v);var w=l.l?S(l.l.Na,l.l,l):null;e:{var j=l.i;let H=-1;for(;;){const re=["count="+v];H==-1?0<v?(H=j[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let je=!0;for(let ht=0;ht<v;ht++){let De=j[ht].g;const _t=j[ht].map;if(De-=H,0>De)H=Math.max(0,j[ht].g-100),je=!1;else try{Ka(_t,re,"req"+De+"_")}catch{w&&w(_t)}}if(je){w=re.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,w}function Ii(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Ue||ae(),ie||(Ue(),ie=!0),ge.add(p,l),l.v=0}}function ds(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=En(S(l.Fa,l),Ya(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,Qa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=En(S(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Pn(this),Qa(this))};function ko(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function Qa(l){l.g=new Sn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=en(l.qa);qe(p,"RID","rpc"),qe(p,"SID",l.K),qe(p,"AID",l.T),qe(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(p,"TO",l.ja),qe(p,"TYPE","xmlhttp"),ur(l,p),l.m&&l.o&&Vr(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=kr(en(p)),v.m=null,v.P=!0,To(v,l)}r.Za=function(){this.C!=null&&(this.C=null,Pn(this),ds(this),rt(19))};function ps(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function ms(l,p){var v=null;if(l.g==p){ps(l),ko(l),l.g=null;var w=2}else if(jt(l.h,p))v=p.D,Ua(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=l.B;w=pi(),ct(w,new es(w,v)),Un(l)}else Ii(l);else if(j=p.s,j==3||j==0&&0<p.X||!(w==1&&sc(l,p)||w==2&&ds(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),j){case 1:lr(l,5);break;case 4:lr(l,10);break;case 3:lr(l,6);break;default:lr(l,2)}}}function Ya(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function lr(l,p){if(l.j.info("Error code "+p),p==2){var v=S(l.fb,l),w=l.Xa;const j=!w;w=new sr(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||wi(w,"https"),kr(w),j?nc(w.toString(),v):Ga(w.toString(),v)}else rt(2);l.G=0,l.l&&l.l.sa(p),Xa(l),hs(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Xa(l){if(l.G=0,l.ka=[],l.l){const p=qa(l.h);(p.length!=0||l.i.length!=0)&&(L(l.ka,p),L(l.ka,l.i),l.h.i.length=0,F(l.i),l.i.length=0),l.l.ra()}}function Ja(l,p,v){var w=v instanceof sr?en(v):new sr(v);if(w.g!="")p&&(w.g=p+"."+w.g),Pr(w,w.s);else{var j=d.location;w=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var H=new sr(null);w&&wi(H,w),p&&(H.g=p),j&&Pr(H,j),v&&(H.l=v),w=H}return v=l.D,p=l.ya,v&&p&&qe(w,v,p),qe(w,"VER",l.la),ur(l,w),w}function Za(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new We(new or({eb:v})):new We(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Do(){}r=Do.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function gs(){}gs.prototype.g=function(l,p){return new Ut(l,p)};function Ut(l,p){lt.call(this),this.g=new xo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!G(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!G(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new qn(this)}b(Ut,lt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Rt(this.g)},Ut.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=po(l),l=v);p.i.push(new Fa(p.Ya++,l)),p.G==3&&Un(p)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Rt(this.g),delete this.g,Ut.aa.N.call(this)};function eu(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}b(eu,Ln);function tu(){Zi.call(this),this.status=1}b(tu,Zi);function qn(l){this.g=l}b(qn,Do),qn.prototype.ua=function(){ct(this.g,"a")},qn.prototype.ta=function(l){ct(this.g,new eu(l))},qn.prototype.sa=function(l){ct(this.g,new tu)},qn.prototype.ra=function(){ct(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,sw=function(){return new gs},iw=function(){return pi()},rw=On,Ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,il=ns,ba.COMPLETE="complete",nw=ba,Ji.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",lt.prototype.listen=lt.prototype.K,sa=Ji,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,tw=We}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new WE("@firebase/firestore");function Fs(){return Bi.logLevel}function ue(r,...e){if(Bi.logLevel<=Ve.DEBUG){const t=e.map(Xp);Bi.debug(`Firestore (${to}): ${r}`,...t)}}function Er(r,...e){if(Bi.logLevel<=Ve.ERROR){const t=e.map(Xp);Bi.error(`Firestore (${to}): ${r}`,...t)}}function $s(r,...e){if(Bi.logLevel<=Ve.WARN){const t=e.map(Xp);Bi.warn(`Firestore (${to}): ${r}`,...t)}}function Xp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+r;throw Er(e),new Error(e)}function Fe(r,e){r||we()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends eo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}}class nA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rA{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new ow(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Ot(e)}}class iA{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sA{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new iA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fe(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new oA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=uA(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function xe(r,e){return r<e?-1:r>e?1:0}function Hs(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new mt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new mt(0,0))}static max(){return new Te(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ya.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ye extends ya{construct(e,t,s){return new Ye(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const lA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends ya{construct(e,t,s){return new xt(e,t,s)}static isValidIdentifier(e){return lA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(t)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ye.fromString(e))}static fromName(e){return new _e(Ye.fromString(e).popFirst(5))}static empty(){return new _e(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ye(e.slice()))}}function cA(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new mt(t+1,0):new mt(t,s));return new ri(o,_e.empty(),e)}function hA(r){return new ri(r.readTime,r.key,-1)}class ri{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ri(Te.min(),_e.empty(),-1)}static max(){return new ri(Te.max(),_e.empty(),-1)}}function fA(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==dA)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):W.reject(t)}static resolve(e){return new W((t,s)=>{t(e)})}static reject(e){return new W((t,s)=>{s(e)})}static waitFor(e){return new W((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next(o=>o?W.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new W((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next(E=>{h[y]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new W((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function mA(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Al.oe=-1;function Cl(r){return r==null}function pl(r){return r===0&&1/r==-1/0}function gA(r){return typeof r=="number"&&Number.isInteger(r)&&!pl(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=cv(e)),e=vA(r.get(t),e);return cv(e)}function vA(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case"":t+="";break;default:t+=u}}return t}function cv(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ui(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function uw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Pt.RED,this.left=o??Pt.EMPTY,this.right=u??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Pt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Pt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gt(this.comparator);return t.data=e,t}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new an([])}unionWith(e){let t=new gt(xt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new an(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lw("Invalid base64 string: "+u):u}}(e);return new kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const _A=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(r){if(Fe(!!r),typeof r=="string"){let e=0;const t=_A.exec(r);if(Fe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:st(r.seconds),nanos:st(r.nanos)}}function st(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function si(r){return typeof r=="string"?kt.fromBase64String(r):kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Pl(r){const e=r.mapValue.fields.__previous_value__;return Jp(e)?Pl(e):e}function va(r){const e=ii(r.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t,s,o,u,h,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y}}class _a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jp(r)?4:TA(r)?9007199254740991:wA(r)?10:11:we()}function Yn(r,e){if(r===e)return!0;const t=oi(r);if(t!==oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return va(r).isEqual(va(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ii(o.timestampValue),d=ii(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return si(o.bytesValue).isEqual(si(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return st(o.geoPointValue.latitude)===st(u.geoPointValue.latitude)&&st(o.geoPointValue.longitude)===st(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return st(o.integerValue)===st(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=st(o.doubleValue),d=st(u.doubleValue);return h===d?pl(h)===pl(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Hs(r.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(hv(h)!==hv(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Yn(h[g],d[g])))return!1;return!0}(r,e);default:return we()}}function Ea(r,e){return(r.values||[]).find(t=>Yn(t,e))!==void 0}function Gs(r,e){if(r===e)return 0;const t=oi(r),s=oi(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=st(u.integerValue||u.doubleValue),g=st(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return dv(r.timestampValue,e.timestampValue);case 4:return dv(va(r),va(e));case 5:return xe(r.stringValue,e.stringValue);case 6:return function(u,h){const d=si(u),g=si(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let y=0;y<d.length&&y<g.length;y++){const E=xe(d[y],g[y]);if(E!==0)return E}return xe(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=xe(st(u.latitude),st(h.latitude));return d!==0?d:xe(st(u.longitude),st(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return pv(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,y,E;const T=u.fields||{},S=h.fields||{},P=(d=T.value)===null||d===void 0?void 0:d.arrayValue,b=(g=S.value)===null||g===void 0?void 0:g.arrayValue,F=xe(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=b==null?void 0:b.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:pv(P,b)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Ju.mapValue&&h===Ju.mapValue)return 0;if(u===Ju.mapValue)return 1;if(h===Ju.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const S=xe(g[T],E[T]);if(S!==0)return S;const P=Gs(d[g[T]],y[E[T]]);if(P!==0)return P}return xe(g.length,E.length)}(r.mapValue,e.mapValue);default:throw we()}}function dv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=ii(r),s=ii(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function pv(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Gs(t[o],s[o]);if(u)return u}return xe(t.length,s.length)}function Ks(r){return Rp(r)}function Rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ii(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return si(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Rp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Rp(t.fields[h])}`;return o+"}"}(r.mapValue):we()}function sl(r){switch(oi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pl(r);return e?16+sl(e):16;case 5:return 2*r.stringValue.length;case 6:return si(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+sl(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ui(s.fields,(u,h)=>{o+=u.length+sl(h)}),o}(r.mapValue);default:throw we()}}function Ap(r){return!!r&&"integerValue"in r}function Zp(r){return!!r&&"arrayValue"in r}function mv(r){return!!r&&"nullValue"in r}function gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ol(r){return!!r&&"mapValue"in r}function wA(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ca(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ui(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ca(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ca(r.arrayValue.values[t]);return e}return Object.assign({},r)}function TA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ol(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(t)}setAll(e){let t=xt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=ca(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());ol(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ol(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ui(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Jt(ca(this.value))}}function cw(r){const e=[];return ui(r.fields,(t,s)=>{const o=new xt([t]);if(ol(s)){const u=cw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Mt(e,0,Te.min(),Te.min(),Te.min(),Jt.empty(),0)}static newFoundDocument(e,t,s,o){return new Mt(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new Mt(e,2,t,Te.min(),Te.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new Mt(e,3,t,Te.min(),Te.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t){this.position=e,this.inclusive=t}}function yv(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=Gs(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Yn(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t="asc"){this.field=e,this.dir=t}}function SA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{}class pt extends hw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new RA(e,t,s):t==="array-contains"?new PA(e,s):t==="in"?new xA(e,s):t==="not-in"?new kA(e,s):t==="array-contains-any"?new DA(e,s):new pt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new AA(e,s):new CA(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Gs(t,this.value)):t!==null&&oi(this.value)===oi(t)&&this.matchesComparison(Gs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends hw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Xn(e,t)}matches(e){return fw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fw(r){return r.op==="and"}function dw(r){return IA(r)&&fw(r)}function IA(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function Cp(r){if(r instanceof pt)return r.field.canonicalString()+r.op.toString()+Ks(r.value);if(dw(r))return r.filters.map(e=>Cp(e)).join(",");{const e=r.filters.map(t=>Cp(t)).join(",");return`${r.op}(${e})`}}function pw(r,e){return r instanceof pt?function(s,o){return o instanceof pt&&s.op===o.op&&s.field.isEqual(o.field)&&Yn(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&pw(h,o.filters[d]),!0):!1}(r,e):void we()}function mw(r){return r instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ks(t.value)}`}(r):r instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(mw).join(" ,")+"}"}(r):"Filter"}class RA extends pt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class AA extends pt{constructor(e,t){super(e,"in",t),this.keys=gw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CA extends pt{constructor(e,t){super(e,"not-in",t),this.keys=gw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class PA extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zp(t)&&Ea(t.arrayValue,this.value)}}class xA extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ea(this.value.arrayValue,t)}}class kA extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ea(this.value.arrayValue,t)}}class DA extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.ue=null}}function _v(r,e=null,t=[],s=[],o=null,u=null,h=null){return new NA(r,e,t,s,o,u,h)}function em(r){const e=Se(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Cp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Cl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ks(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ks(s)).join(",")),e.ue=t}return e.ue}function tm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!SA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!pw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vv(r.startAt,e.startAt)&&vv(r.endAt,e.endAt)}function Pp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VA(r,e,t,s,o,u,h,d){return new xl(r,e,t,s,o,u,h,d)}function nm(r){return new xl(r)}function Ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bA(r){return r.collectionGroup!==null}function ha(r){const e=Se(r);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new gt(xt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new gl(u,s))}),t.has(xt.keyField().canonicalString())||e.ce.push(new gl(xt.keyField(),s))}return e.ce}function Gn(r){const e=Se(r);return e.le||(e.le=LA(e,ha(r))),e.le}function LA(r,e){if(r.limitType==="F")return _v(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gl(o.field,u)});const t=r.endAt?new ml(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ml(r.startAt.position,r.startAt.inclusive):null;return _v(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function xp(r,e,t){return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function kl(r,e){return tm(Gn(r),Gn(e))&&r.limitType===e.limitType}function yw(r){return`${em(Gn(r))}|lt:${r.limitType}`}function js(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>mw(o)).join(", ")}]`),Cl(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Ks(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Ks(o)).join(",")),`Target(${s})`}(Gn(r))}; limitType=${r.limitType})`}function Dl(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ha(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,g){const y=yv(h,d,g);return h.inclusive?y<=0:y<0}(s.startAt,ha(s),o)||s.endAt&&!function(h,d,g){const y=yv(h,d,g);return h.inclusive?y>=0:y>0}(s.endAt,ha(s),o))}(r,e)}function OA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vw(r){return(e,t)=>{let s=!1;for(const o of ha(r)){const u=MA(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MA(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,d){const g=h.data.field(u),y=d.data.field(u);return g!==null&&y!==null?Gs(g,y):we()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return uw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new et(_e.comparator);function wr(){return FA}const _w=new et(_e.comparator);function oa(...r){let e=_w;for(const t of r)e=e.insert(t.key,t);return e}function Ew(r){let e=_w;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ui(){return fa()}function ww(){return fa()}function fa(){return new $i(r=>r.toString(),(r,e)=>r.isEqual(e))}const jA=new et(_e.comparator),UA=new gt(_e.comparator);function Ce(...r){let e=UA;for(const t of r)e=e.add(t);return e}const qA=new gt(xe);function BA(){return qA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pl(e)?"-0":e}}function Tw(r){return{integerValue:""+r}}function zA(r,e){return gA(e)?Tw(e):rm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this._=void 0}}function $A(r,e,t){return r instanceof yl?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jp(u)&&(u=Pl(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):r instanceof wa?Iw(r,e):r instanceof Ta?Rw(r,e):function(o,u){const h=Sw(o,u),d=wv(h)+wv(o.Pe);return Ap(h)&&Ap(o.Pe)?Tw(d):rm(o.serializer,d)}(r,e)}function HA(r,e,t){return r instanceof wa?Iw(r,e):r instanceof Ta?Rw(r,e):t}function Sw(r,e){return r instanceof vl?function(s){return Ap(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class yl extends Nl{}class wa extends Nl{constructor(e){super(),this.elements=e}}function Iw(r,e){const t=Aw(e);for(const s of r.elements)t.some(o=>Yn(o,s))||t.push(s);return{arrayValue:{values:t}}}class Ta extends Nl{constructor(e){super(),this.elements=e}}function Rw(r,e){let t=Aw(e);for(const s of r.elements)t=t.filter(o=>!Yn(o,s));return{arrayValue:{values:t}}}class vl extends Nl{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function wv(r){return st(r.integerValue||r.doubleValue)}function Aw(r){return Zp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function GA(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof wa&&o instanceof wa||s instanceof Ta&&o instanceof Ta?Hs(s.elements,o.elements,Yn):s instanceof vl&&o instanceof vl?Yn(s.Pe,o.Pe):s instanceof yl&&o instanceof yl}(r.transform,e.transform)}class KA{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function al(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vl{}function Cw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xw(r.key,Kn.none()):new Ca(r.key,r.data,Kn.none());{const t=r.data,s=Jt.empty();let o=new gt(xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new li(r.key,s,new an(o.toArray()),Kn.none())}}function WA(r,e,t){r instanceof Ca?function(o,u,h){const d=o.value.clone(),g=Sv(o.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof li?function(o,u,h){if(!al(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Sv(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Pw(o)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function da(r,e,t,s){return r instanceof Ca?function(u,h,d,g){if(!al(u.precondition,h))return d;const y=u.value.clone(),E=Iv(u.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof li?function(u,h,d,g){if(!al(u.precondition,h))return d;const y=Iv(u.fieldTransforms,g,h),E=h.data;return E.setAll(Pw(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(u,h,d){return al(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function QA(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Sw(s.transform,o||null);u!=null&&(t===null&&(t=Jt.empty()),t.set(s.field,u))}return t||null}function Tv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Hs(s,o,(u,h)=>GA(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ca extends Vl{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class li extends Vl{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Pw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Sv(r,e,t){const s=new Map;Fe(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,HA(h,d,t[o]))}return s}function Iv(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,$A(u,h,e))}return s}class xw extends Vl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YA extends Vl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&WA(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=da(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=da(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=ww();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const g=Cw(h,d);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(t,s)=>Tv(t,s))&&Hs(this.baseMutations,e.baseMutations,(t,s)=>Tv(t,s))}}class im{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Fe(e.mutations.length===s.length);let o=function(){return jA}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new im(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ne;function eC(r){switch(r){default:return we();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function kw(r){if(r===void 0)return Er("GRPC error has no .code"),J.UNKNOWN;switch(r){case ut.OK:return J.OK;case ut.CANCELLED:return J.CANCELLED;case ut.UNKNOWN:return J.UNKNOWN;case ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ut.INTERNAL:return J.INTERNAL;case ut.UNAVAILABLE:return J.UNAVAILABLE;case ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ut.NOT_FOUND:return J.NOT_FOUND;case ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ut.ABORTED:return J.ABORTED;case ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ut.DATA_LOSS:return J.DATA_LOSS;default:return we()}}(Ne=ut||(ut={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new qi([4294967295,4294967295],0);function Rv(r){const e=tC().encode(r),t=new ew;return t.update(e),new Uint8Array(t.digest())}function Av(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qi([t,s],0),new qi([o,u],0)]}class sm{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new aa(`Invalid padding: ${t}`);if(s<0)throw new aa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new aa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=qi.fromNumber(this.Te)}Ee(e,t,s){let o=e.add(t.multiply(qi.fromNumber(s)));return o.compare(nC)===1&&(o=new qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Rv(e),[s,o]=Av(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new sm(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Te===0)return;const t=Rv(e),[s,o]=Av(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Pa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new bl(Te.min(),o,new et(xe),wr(),Ce())}}class Pa{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Pa(s,t,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class Dw{constructor(e,t){this.targetId=e,this.me=t}}class Nw{constructor(e,t,s=kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Cv{constructor(){this.fe=0,this.ge=Pv(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),t=Ce(),s=Ce();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Pa(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=Pv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rC{constructor(e){this.Le=e,this.Be=new Map,this.ke=wr(),this.qe=Zu(),this.Qe=Zu(),this.Ke=new et(xe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const s=this.ze(t);switch(e.state){case 0:this.je(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.je(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),s.De(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,s=e.me.count,o=this.Ye(t);if(o){const u=o.target;if(Pp(u))if(s===0){const h=new _e(u.path);this.We(t,h,Mt.newNoDocument(h,Te.min()))}else Fe(s===1);else{const h=this.Ze(t);if(h!==s){const d=this.Xe(e),g=d?this.et(d,e,h):1;if(g!==0){this.He(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=si(s).toUint8Array()}catch(g){if(g instanceof lw)return $s("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new sm(h,o,u)}catch(g){return $s(g instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Te===0?null:d}et(e,t,s){return t.me.count===s-this.rt(e,t.targetId)?0:2}rt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.nt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.We(t,u,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((u,h)=>{const d=this.Ye(h);if(d){if(u.current&&Pp(d.target)){const g=new _e(d.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Mt.newNoDocument(g,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=Ce();this.Qe.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const y=this.Ye(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new bl(e,t,this.Ke,this.ke,s);return this.ke=wr(),this.qe=Zu(),this.Qe=Zu(),this.Ke=new et(xe),o}Ue(e,t){if(!this.je(e))return;const s=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,s){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Cv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new gt(xe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new gt(xe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Cv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Zu(){return new et(_e.comparator)}function Pv(){return new et(_e.comparator)}const iC={asc:"ASCENDING",desc:"DESCENDING"},sC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oC={and:"AND",or:"OR"};class aC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(r,e){return r.useProto3Json||Cl(e)?e:{value:e}}function _l(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function uC(r,e){return _l(r,e.toTimestamp())}function Wn(r){return Fe(!!r),Te.fromTimestamp(function(t){const s=ii(t);return new mt(s.seconds,s.nanos)}(r))}function om(r,e){return Dp(r,e).canonicalString()}function Dp(r,e){const t=function(o){return new Ye(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function bw(r){const e=Ye.fromString(r);return Fe(jw(e)),e}function Np(r,e){return om(r.databaseId,e.path)}function Oh(r,e){const t=bw(e);if(t.get(1)!==r.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(Ow(t))}function Lw(r,e){return om(r.databaseId,e)}function lC(r){const e=bw(r);return e.length===4?Ye.emptyPath():Ow(e)}function Vp(r){return new Ye(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ow(r){return Fe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function xv(r,e,t){return{name:Np(r,e),fields:t.value.mapValue.fields}}function cC(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string"),kt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),kt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const E=y.code===void 0?J.UNKNOWN:kw(y.code);return new me(E,y.message||"")}(h);t=new Nw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Oh(r,s.document.name),u=Wn(s.document.updateTime),h=s.document.createTime?Wn(s.document.createTime):Te.min(),d=new Jt({mapValue:{fields:s.document.fields}}),g=Mt.newFoundDocument(o,u,h,d),y=s.targetIds||[],E=s.removedTargetIds||[];t=new ul(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Oh(r,s.document),u=s.readTime?Wn(s.readTime):Te.min(),h=Mt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new ul([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Oh(r,s.document),u=s.removedTargetIds||[];t=new ul([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new ZA(o,u),d=s.targetId;t=new Dw(d,h)}}return t}function hC(r,e){let t;if(e instanceof Ca)t={update:xv(r,e.key,e.value)};else if(e instanceof xw)t={delete:Np(r,e.key)};else if(e instanceof li)t={update:xv(r,e.key,e.data),updateMask:EC(e.fieldMask)};else{if(!(e instanceof YA))return we();t={verify:Np(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof yl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ta)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vl)return{fieldPath:h.field.canonicalString(),increment:d.Pe};throw we()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:uC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),t}function fC(r,e){return r&&r.length>0?(Fe(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Wn(o.updateTime):Wn(u);return h.isEqual(Te.min())&&(h=Wn(u)),new KA(h,o.transformResults||[])}(t,e))):[]}function dC(r,e){return{documents:[Lw(r,e.path)]}}function pC(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Lw(r,o);const u=function(y){if(y.length!==0)return Fw(Xn.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Us(S.field),direction:yC(S.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=kp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function mC(r){let e=lC(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Fe(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(T){const S=Mw(T);return S instanceof Xn&&dw(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function(b){return new gl(qs(b.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Cl(S)?null:S}(t.limit));let g=null;t.startAt&&(g=function(T){const S=!!T.before,P=T.values||[];return new ml(P,S)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const S=!T.before,P=T.values||[];return new ml(P,S)}(t.endAt)),VA(e,o,h,u,d,"F",g,y)}function gC(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Mw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=qs(t.unaryFilter.field);return pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qs(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qs(t.unaryFilter.field);return pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=qs(t.unaryFilter.field);return pt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(t){return pt.create(qs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(s=>Mw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(r):we()}function yC(r){return iC[r]}function vC(r){return sC[r]}function _C(r){return oC[r]}function Us(r){return{fieldPath:r.canonicalString()}}function qs(r){return xt.fromServerFormat(r.fieldPath)}function Fw(r){return r instanceof pt?function(t){if(t.op==="=="){if(gv(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NAN"}};if(mv(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gv(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NOT_NAN"}};if(mv(t.value))return{unaryFilter:{field:Us(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(t.field),op:vC(t.op),value:t.value}}}(r):r instanceof Xn?function(t){const s=t.getFilters().map(o=>Fw(o));return s.length===1?s[0]:{compositeFilter:{op:_C(t.op),filters:s}}}(r):we()}function EC(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t,s,o,u=Te.min(),h=Te.min(),d=kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.ht=e}}function TC(r){const e=mC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.ln=new IC}addToCollectionParentIndex(e,t){return this.ln.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(ri.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class IC{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new gt(Ye.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new gt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ws(0)}static Qn(){return new Ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv([r,e],[t,s]){const o=xe(r,t);return o===0?xe(e,s):o}class RC{constructor(e){this.Gn=e,this.buffer=new gt(Dv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Dv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AC{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ro(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await no(t)}await this.Yn(3e5)})}}class CC{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return W.resolve(Al.oe);const s=new RC(t);return this.Zn.forEachTarget(e,o=>s.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>s.Hn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Zn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(kv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let s,o,u,h,d,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(y=Date.now(),Fs()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function PC(r,e){return new CC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.changes=new $i(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&da(s.mutation,o,an.empty(),mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ce()){const o=Ui();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=oa();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ui();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ce()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=wr();const h=fa(),d=function(){return fa()}();return t.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof li)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),da(E.mutation,y,E.mutation.getFieldMask(),mt.now())):h.set(y.key,an.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var T;return d.set(y,new kC(E,(T=h.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=fa();let o=new et((h,d)=>h-d),u=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let E=s.get(g)||an.empty();E=d.applyToLocalView(y,E),s.set(g,E);const T=(o.get(d.batchId)||Ce()).add(g);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,E=g.value,T=ww();E.forEach(S=>{if(!u.has(S)){const P=Cw(t.get(S),s.get(S));P!==null&&T.set(S,P),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):W.resolve(Ui());let d=-1,g=u;return h.next(y=>W.forEach(y,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Ce())).next(E=>({batchId:d,changes:Ew(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=oa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=oa();return this.indexManager.getCollectionParents(e,u).next(d=>W.forEach(d,g=>{const y=function(T,S){return new xl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,Mt.newInvalidDocument(E)))});let d=oa();return h.forEach((g,y)=>{const E=u.get(g);E!==void 0&&da(E.mutation,y,an.empty(),mt.now()),Dl(t,y)&&(d=d.insert(g,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return W.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Wn(o.createTime)}}(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:TC(o.bundledQuery),readTime:Wn(o.readTime)}}(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.overlays=new et(_e.comparator),this.Er=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ui();return W.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Tt(e,t,u)}),W.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Er.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const o=Ui(),u=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new et((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ui(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=Ui(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>d.set(y,E)),!(d.size()>=o)););return W.resolve(d)}Tt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(s.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new JA(t,s));let u=this.Er.get(t);u===void 0&&(u=Ce(),this.Er.set(t,u)),this.Er.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.dr=new gt(St.Ar),this.Rr=new gt(St.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const s=new St(e,t);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gr(new St(e,t))}pr(e,t){e.forEach(s=>this.removeReference(s,t))}yr(e){const t=new _e(new Ye([])),s=new St(t,e),o=new St(t,e+1),u=[];return this.Rr.forEachInRange([s,o],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new Ye([])),s=new St(t,e),o=new St(t,e+1);let u=Ce();return this.Rr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new St(e,0),s=this.dr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||xe(e.br,t.br)}static Vr(e,t){return xe(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new gt(St.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XA(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.vr=this.vr.add(new St(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,t){return W.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Fr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new St(t,0),o=new St(t,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,o],h=>{const d=this.Cr(h.br);u.push(d)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new gt(xe);return t.forEach(o=>{const u=new St(o,0),h=new St(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],d=>{s=s.add(d.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new St(new _e(u),0);let d=new gt(xe);return this.vr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.br)),!0)},h),W.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(s=>{const o=this.Cr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(t.mutations,o=>{const u=new St(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,t){const s=new St(t,0),o=this.vr.firstAfterOrEqual(s);return W.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.Nr=e,this.docs=function(){return new et(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(t))}getEntries(e,t){let s=wr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Mt.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=wr();const h=t.path,d=new _e(h.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||fA(hA(E),s)<=0||(o.has(E.key)||Dl(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we()}Lr(e,t){return W.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new MC(this)}getSize(e){return W.resolve(this.size)}}class MC extends xC{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(s)}),W.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.persistence=e,this.Br=new $i(t=>em(t),tm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new am,this.targetCount=0,this.Qr=Ws.qn()}forEachTarget(e,t){return this.Br.forEach((s,o)=>t(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.kr&&(this.kr=t),W.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ws(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Un(t),W.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Br.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.Br.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this.qr.mr(t,s),W.resolve()}removeMatchingKeys(e,t,s){this.qr.pr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this.qr.Sr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Al(0),this.Ur=!1,this.Ur=!0,this.Wr=new bC,this.referenceDelegate=e(this),this.Gr=new FC(this),this.indexManager=new SC,this.remoteDocumentCache=function(o){return new OC(o)}(s=>this.referenceDelegate.zr(s)),this.serializer=new wC(t),this.jr=new NC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Kr[e.toKey()];return s||(s=new LC(t,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new jC(this.$r.next());return this.referenceDelegate.Hr(),s(o).next(u=>this.referenceDelegate.Jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Yr(e,t){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,t)))}}class jC extends pA{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Zr=new am,this.Xr=null}static ei(e){return new um(e)}get ti(){if(this.Xr)return this.Xr;throw we()}addReference(e,t,s){return this.Zr.addReference(s,t),this.ti.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.Zr.removeReference(s,t),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),W.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const o=_e.fromPath(s);return this.ni(e,o).next(u=>{u||t.removeEntry(o,Te.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(s=>{s?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return W.or([()=>W.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class El{constructor(e,t){this.persistence=e,this.ri=new $i(s=>yA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=PC(this,t)}static ei(e,t){return new El(e,t)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}nr(e){let t=0;return this.er(e,s=>{t++}).next(()=>t)}er(e,t){return W.forEach(this.ri,(s,o)=>this.ir(e,s,o).next(u=>u?W.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,t,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),W.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sl(e.data.value)),t}ir(e,t,s){return W.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Wi=s,this.Gi=o}static zi(e,t){let s=Ce(),o=Ce();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lm(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return jI()?8:mA(MI())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Xi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new UC;return this.ts(e,t,h).next(d=>{if(u.result=d,this.Hi)return this.ns(e,t,h,d.size)})}).next(()=>u.result)}ns(e,t,s,o){return s.documentReadCount<this.Ji?(Fs()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",js(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Fs()<=Ve.DEBUG&&ue("QueryEngine","Query:",js(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Yi*o?(Fs()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",js(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(t))):W.resolve())}Xi(e,t){if(Ev(t))return W.resolve(null);let s=Gn(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=xp(t,null,"F"),s=Gn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ce(...u);return this.Zi.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.rs(t,d);return this.ss(t,y,h,g.readTime)?this.Xi(e,xp(t,null,"F")):this.os(e,y,t,g)}))})))}es(e,t,s,o){return Ev(t)||o.isEqual(Te.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(t,u);return this.ss(t,h,s,o)?W.resolve(null):(Fs()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),js(t)),this.os(e,h,t,cA(o,-1)).next(d=>d))})}rs(e,t){let s=new gt(vw(e));return t.forEach((o,u)=>{Dl(e,u)&&(s=s.add(u))}),s}ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ts(e,t,s){return Fs()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",js(t)),this.Zi.getDocumentsMatchingQuery(e,t,ri.min(),s)}os(e,t,s,o){return this.Zi.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,s,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new et(xe),this.cs=new $i(u=>em(u),tm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function zC(r,e,t,s){return new BC(r,e,t,s)}async function qw(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ps(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=Ce();for(const y of o){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:d}))})})}function $C(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,g,y,E){const T=y.batch,S=T.keys();let P=W.resolve();return S.forEach(b=>{P=P.next(()=>E.getEntry(g,b)).next(F=>{const L=y.docVersions.get(b);Fe(L!==null),F.version.compareTo(L)<0&&(T.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),P.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=Ce();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Bw(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function HC(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((E,T)=>{const S=o.get(T);if(!S)return;d.push(t.Gr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(u,E.addedDocuments,T)));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),function(F,L,$){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,P,E)&&d.push(t.Gr.updateTargetData(u,P))});let g=wr(),y=Ce();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(GC(u,h,e.documentUpdates).next(E=>{g=E.Is,y=E.Es})),!s.isEqual(Te.min())){const E=t.Gr.getLastRemoteSnapshotVersion(u).next(T=>t.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return W.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(t.us=o,u))}function GC(r,e,t){let s=Ce(),o=Ce();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=wr();return t.forEach((d,g)=>{const y=u.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)}),{Is:h,Es:o}})}function KC(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function WC(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Gr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):t.Gr.allocateTargetId(s).next(h=>(o=new Yr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Gr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.us.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(s.targetId,s),t.cs.set(e,s.targetId)),s})}async function bp(r,e,t){const s=Se(r),o=s.us.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ro(h))throw h;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(o.target)}function Nv(r,e,t){const s=Se(r);let o=Te.min(),u=Ce();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const T=Se(g),S=T.cs.get(E);return S!==void 0?W.resolve(T.us.get(S)):T.Gr.getTargetData(y,E)}(s,h,Gn(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?u:Ce())).next(d=>(QC(s,OA(e),d),{documents:d,ds:u})))}function QC(r,e,t){let s=r.ls.get(e)||Te.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.ls.set(e,s)}class Vv{constructor(){this.activeTargetIds=BA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YC{constructor(){this._o=new Vv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,s){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Vv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el=null;function Mh(){return el===null?el=function(){return 268435456+Math.round(2147483648*Math.random())}():el++,"0x"+el.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class eP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+t.host,this.Mo=`projects/${o}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Oo(t,s,o,u,h){const d=Mh(),g=this.No(t,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${d}:`,g,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,u,h),this.Bo(t,g,y,o).then(E=>(ue("RestConnection",`Received RPC '${t}' ${d}: `,E),E),E=>{throw $s("RestConnection",`RPC '${t}' ${d} failed with error: `,E,"url: ",g,"request:",o),E})}ko(t,s,o,u,h,d){return this.Oo(t,s,o,u,h)}Lo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}No(t,s){const o=JC[t];return`${this.Fo}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,s,o){const u=Mh();return new Promise((h,d)=>{const g=new tw;g.setWithCredentials(!0),g.listenOnce(nw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case il.NO_ERROR:const E=g.getResponseJson();ue(Lt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case il.TIMEOUT:ue(Lt,`RPC '${e}' ${u} timed out`),d(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:const T=g.getStatus();if(ue(Lt,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S==null?void 0:S.error;if(P&&P.status&&P.message){const b=function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(P.status);d(new me(b,P.message))}else d(new me(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new me(J.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(Lt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ue(Lt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",y,s,15)})}qo(e,t,s){const o=Mh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=sw(),d=iw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(Lt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=h.createWebChannel(E,g);let S=!1,P=!1;const b=new ZC({Eo:L=>{P?ue(Lt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ue(Lt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ue(Lt,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Ao:()=>T.close()}),F=(L,$,G)=>{L.listen($,ee=>{try{G(ee)}catch(ne){setTimeout(()=>{throw ne},0)}})};return F(T,sa.EventType.OPEN,()=>{P||(ue(Lt,`RPC '${e}' stream ${o} transport opened.`),b.So())}),F(T,sa.EventType.CLOSE,()=>{P||(P=!0,ue(Lt,`RPC '${e}' stream ${o} transport closed`),b.Do())}),F(T,sa.EventType.ERROR,L=>{P||(P=!0,$s(Lt,`RPC '${e}' stream ${o} transport errored:`,L),b.Do(new me(J.UNAVAILABLE,"The operation could not be completed")))}),F(T,sa.EventType.MESSAGE,L=>{var $;if(!P){const G=L.data[0];Fe(!!G);const ee=G,ne=(ee==null?void 0:ee.error)||(($=ee[0])===null||$===void 0?void 0:$.error);if(ne){ue(Lt,`RPC '${e}' stream ${o} received error:`,ne);const de=ne.status;let se=function(A){const D=ut[A];if(D!==void 0)return kw(D)}(de),x=ne.message;se===void 0&&(se=J.INTERNAL,x="Unknown error status: "+de+" with message "+ne.message),P=!0,b.Do(new me(se,x)),T.close()}else ue(Lt,`RPC '${e}' stream ${o} received:`,G),b.vo(G)}}),F(d,rw.STAT_EVENT,L=>{L.stat===Ip.PROXY?ue(Lt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Ip.NOPROXY&&ue(Lt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function Fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){return new aC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.li=e,this.timerId=t,this.Qo=s,this.Ko=o,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t,s,o,u,h,d,g){this.li=e,this.Yo=s,this.Zo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new zw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Xo===t&&this.I_(s,o)},s=>{e(()=>{const o=new me(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(o)})})}I_(e,t){const s=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{s(()=>this.E_(o))}),this.stream.onMessage(o=>{s(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tP extends $w{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=cC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Wn(h.readTime):Te.min()}(e);return this.listener.R_(t,s)}V_(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(u,h){let d;const g=h.target;if(d=Pp(g)?{documents:dC(u,g)}:{query:pC(u,g).ct},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Vw(u,h.resumeToken);const y=kp(u,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){d.readTime=_l(u,h.snapshotVersion.toTimestamp());const y=kp(u,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=gC(this.serializer,e);s&&(t.labels=s),this.c_(t)}m_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.c_(t)}}class nP extends $w{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=fC(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.y_(s,t)}w_(){const e={};e.database=Vp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>hC(this.serializer,s))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Dp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(J.UNKNOWN,u.toString())})}ko(e,t,s,o,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.ko(e,Dp(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(J.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class iP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Er(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{Hi(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(g){const y=Se(g);y.k_.add(4),await xa(y),y.K_.set("Unknown"),y.k_.delete(4),await Ol(y)}(this))})}),this.K_=new iP(s,o)}}async function Ol(r){if(Hi(r))for(const e of r.q_)await e(!0)}async function xa(r){for(const e of r.q_)await e(!1)}function Hw(r,e){const t=Se(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),dm(t)?fm(t):io(t).s_()&&hm(t,e))}function cm(r,e){const t=Se(r),s=io(t);t.B_.delete(e),s.s_()&&Gw(t,e),t.B_.size===0&&(s.s_()?s.a_():Hi(t)&&t.K_.set("Unknown"))}function hm(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}io(r).V_(e)}function Gw(r,e){r.U_.xe(e),io(r).m_(e)}function fm(r){r.U_=new rC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),io(r).start(),r.K_.F_()}function dm(r){return Hi(r)&&!io(r).i_()&&r.B_.size>0}function Hi(r){return Se(r).k_.size===0}function Kw(r){r.U_=void 0}async function oP(r){r.K_.set("Online")}async function aP(r){r.B_.forEach((e,t)=>{hm(r,e)})}async function uP(r,e){Kw(r),dm(r)?(r.K_.O_(e),fm(r)):r.K_.set("Unknown")}async function lP(r,e,t){if(r.K_.set("Online"),e instanceof Nw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.B_.delete(d),o.U_.removeTarget(d))}(r,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wl(r,s)}else if(e instanceof ul?r.U_.$e(e):e instanceof Dw?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Te.min()))try{const s=await Bw(r.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.U_.it(h);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.B_.get(y);E&&u.B_.set(y,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,y)=>{const E=u.B_.get(g);if(!E)return;u.B_.set(g,E.withResumeToken(kt.EMPTY_BYTE_STRING,E.snapshotVersion)),Gw(u,g);const T=new Yr(E.target,g,y,E.sequenceNumber);hm(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await wl(r,s)}}async function wl(r,e,t){if(!ro(e))throw e;r.k_.add(1),await xa(r),r.K_.set("Offline"),t||(t=()=>Bw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Ol(r)})}function Ww(r,e){return e().catch(t=>wl(r,t,e))}async function Ml(r){const e=Se(r),t=ai(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;cP(e);)try{const o=await KC(e.localStore,s);if(o===null){e.L_.length===0&&t.a_();break}s=o.batchId,hP(e,o)}catch(o){await wl(e,o)}Qw(e)&&Yw(e)}function cP(r){return Hi(r)&&r.L_.length<10}function hP(r,e){r.L_.push(e);const t=ai(r);t.s_()&&t.f_&&t.g_(e.mutations)}function Qw(r){return Hi(r)&&!ai(r).i_()&&r.L_.length>0}function Yw(r){ai(r).start()}async function fP(r){ai(r).w_()}async function dP(r){const e=ai(r);for(const t of r.L_)e.g_(t.mutations)}async function pP(r,e,t){const s=r.L_.shift(),o=im.from(s,e,t);await Ww(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ml(r)}async function mP(r,e){e&&ai(r).f_&&await async function(s,o){if(function(h){return eC(h)&&h!==J.ABORTED}(o.code)){const u=s.L_.shift();ai(s).__(),await Ww(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ml(s)}}(r,e),Qw(r)&&Yw(r)}async function Lv(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=Hi(t);t.k_.add(3),await xa(t),s&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Ol(t)}async function gP(r,e){const t=Se(r);e?(t.k_.delete(2),await Ol(t)):e||(t.k_.add(2),await xa(t),t.K_.set("Unknown"))}function io(r){return r.W_||(r.W_=function(t,s,o){const u=Se(t);return u.b_(),new tP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:oP.bind(null,r),mo:aP.bind(null,r),po:uP.bind(null,r),R_:lP.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),dm(r)?fm(r):r.K_.set("Unknown")):(await r.W_.stop(),Kw(r))})),r.W_}function ai(r){return r.G_||(r.G_=function(t,s,o){const u=Se(t);return u.b_(),new nP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:fP.bind(null,r),po:mP.bind(null,r),p_:dP.bind(null,r),y_:pP.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Ml(r)):(await r.G_.stop(),r.L_.length>0&&(ue("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new pm(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(r,e){if(Er("AsyncQueue",`${e}: ${r}`),ro(r))return new me(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(e){return new zs(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=oa(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new zs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.z_=new et(_e.comparator)}track(e){const t=e.doc.key,s=this.z_.get(t);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(t,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(t):e.type===1&&s.type===2?this.z_=this.z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):we():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Qs{constructor(e,t,s,o,u,h,d,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Qs(e,t,zs.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class vP{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=Mv(),u.forEach((h,d)=>{for(const g of d.J_)g.onError(s)})})(this,new me(J.ABORTED,"Firestore shutting down"))}}function Mv(){return new $i(r=>yw(r),kl)}async function _P(r,e){const t=Se(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Y_()&&e.Z_()&&(s=2):(u=new yP,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await t.onListen(o,!0);break;case 1:u.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=mm(h,`Initialization of query '${js(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.J_.push(e),e.ea(t.onlineState),u.H_&&e.ta(u.H_)&&gm(t)}async function EP(r,e){const t=Se(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?o=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function wP(r,e){const t=Se(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.J_)d.ta(o)&&(s=!0);h.H_=o}}s&&gm(t)}function TP(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.J_)u.onError(t);s.queries.delete(e)}function gm(r){r.X_.forEach(e=>{e.next()})}var Lp,Fv;(Fv=Lp||(Lp={})).na="default",Fv.Cache="cache";class SP{constructor(e,t,s){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const s=t!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.key=e}}class Jw{constructor(e){this.key=e}}class IP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=vw(e),this.ma=new zs(this.Va)}get fa(){return this.da}ga(e,t){const s=t?t.pa:new Ov,o=t?t.ma:this.ma;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const S=o.get(E),P=Dl(this.query,T)?T:null,b=!!S&&this.mutatedKeys.has(S.key),F=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;S&&P?S.data.isEqual(P.data)?b!==F&&(s.track({type:3,doc:P}),L=!0):this.ya(S,P)||(s.track({type:2,doc:P}),L=!0,(g&&this.Va(P,g)>0||y&&this.Va(P,y)<0)&&(d=!0)):!S&&P?(s.track({type:0,doc:P}),L=!0):S&&!P&&(s.track({type:1,doc:S}),L=!0,(g||y)&&(d=!0)),L&&(P?(h=h.add(P),u=F?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{ma:h,pa:s,ss:d,mutatedKeys:u}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((E,T)=>function(P,b){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return F(P)-F(b)}(E.type,T.type)||this.Va(E.doc,T.doc)),this.wa(s),o=o!=null&&o;const d=t&&!o?this.Sa():[],g=this.Ra.size===0&&this.current&&!o?1:0,y=g!==this.Aa;return this.Aa=g,h.length!==0||y?{snapshot:new Qs(this.query,e.ma,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Ov,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ce(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const t=[];return e.forEach(s=>{this.Ra.has(s)||t.push(new Jw(s))}),this.Ra.forEach(s=>{e.has(s)||t.push(new Xw(s))}),t}va(e){this.da=e.ds,this.Ra=Ce();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Qs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class RP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class AP{constructor(e){this.key=e,this.Fa=!1}}class CP{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new $i(d=>yw(d),kl),this.Oa=new Map,this.Na=new Set,this.La=new et(_e.comparator),this.Ba=new Map,this.ka=new am,this.qa={},this.Qa=new Map,this.Ka=Ws.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function PP(r,e,t=!0){const s=i1(r);let o;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Ca()):o=await Zw(s,e,t,!0),o}async function xP(r,e){const t=i1(r);await Zw(t,e,!0,!1)}async function Zw(r,e,t,s){const o=await WC(r.localStore,Gn(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await kP(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Hw(r.remoteStore,o),d}async function kP(r,e,t,s,o){r.Ua=(T,S,P)=>async function(F,L,$,G){let ee=L.view.ga($);ee.ss&&(ee=await Nv(F.localStore,L.query,!1).then(({documents:x})=>L.view.ga(x,ee)));const ne=G&&G.targetChanges.get(L.targetId),de=G&&G.targetMismatches.get(L.targetId)!=null,se=L.view.applyChanges(ee,F.isPrimaryClient,ne,de);return Uv(F,L.targetId,se.ba),se.snapshot}(r,T,S,P);const u=await Nv(r.localStore,e,!0),h=new IP(e,u.ds),d=h.ga(u.documents),g=Pa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(d,r.isPrimaryClient,g);Uv(r,t,y.ba);const E=new RP(e,t,h);return r.xa.set(e,E),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),y.snapshot}async function DP(r,e,t){const s=Se(r),o=s.xa.get(e),u=s.Oa.get(o.targetId);if(u.length>1)return s.Oa.set(o.targetId,u.filter(h=>!kl(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&cm(s.remoteStore,o.targetId),Op(s,o.targetId)}).catch(no)):(Op(s,o.targetId),await bp(s.localStore,o.targetId,!0))}async function NP(r,e){const t=Se(r),s=t.xa.get(e),o=t.Oa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),cm(t.remoteStore,s.targetId))}async function VP(r,e,t){const s=UP(r);try{const o=await function(h,d){const g=Se(h),y=mt.now(),E=d.reduce((P,b)=>P.add(b.key),Ce());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let b=wr(),F=Ce();return g.hs.getEntries(P,E).next(L=>{b=L,b.forEach(($,G)=>{G.isValidDocument()||(F=F.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,b)).next(L=>{T=L;const $=[];for(const G of d){const ee=QA(G,T.get(G.key).overlayedDocument);ee!=null&&$.push(new li(G.key,ee,cw(ee.value.mapValue),Kn.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,$,d)}).next(L=>{S=L;const $=L.applyToLocalDocumentSet(T,F);return g.documentOverlayCache.saveOverlays(P,L.batchId,$)})}).then(()=>({batchId:S.batchId,changes:Ew(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let y=h.qa[h.currentUser.toKey()];y||(y=new et(xe)),y=y.insert(d,g),h.qa[h.currentUser.toKey()]=y}(s,o.batchId,t),await ka(s,o.changes),await Ml(s.remoteStore)}catch(o){const u=mm(o,"Failed to persist write");t.reject(u)}}async function e1(r,e){const t=Se(r);try{const s=await HC(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ba.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?Fe(h.Fa):o.removedDocuments.size>0&&(Fe(h.Fa),h.Fa=!1))}),await ka(t,s,e)}catch(s){await no(s)}}function jv(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.xa.forEach((u,h)=>{const d=h.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Se(h);g.onlineState=d;let y=!1;g.queries.forEach((E,T)=>{for(const S of T.J_)S.ea(d)&&(y=!0)}),y&&gm(g)}(s.eventManager,e),o.length&&s.Ma.R_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bP(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ba.get(e),u=o&&o.key;if(u){let h=new et(_e.comparator);h=h.insert(u,Mt.newNoDocument(u,Te.min()));const d=Ce().add(u),g=new bl(Te.min(),new Map,new et(xe),h,d);await e1(s,g),s.La=s.La.remove(u),s.Ba.delete(e),ym(s)}else await bp(s.localStore,e,!1).then(()=>Op(s,e,t)).catch(no)}async function LP(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await $C(t.localStore,e);n1(t,s,null),t1(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ka(t,o)}catch(o){await no(o)}}async function OP(r,e,t){const s=Se(r);try{const o=await function(h,d){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,d).next(T=>(Fe(T!==null),E=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);n1(s,e,t),t1(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ka(s,o)}catch(o){await no(o)}}function t1(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function n1(r,e,t){const s=Se(r);let o=s.qa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.qa[s.currentUser.toKey()]=o}}function Op(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Oa.get(e))r.xa.delete(s),t&&r.Ma.Wa(s,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(s=>{r.ka.containsKey(s)||r1(r,s)})}function r1(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(cm(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),ym(r))}function Uv(r,e,t){for(const s of t)s instanceof Xw?(r.ka.addReference(s.key,e),MP(r,s)):s instanceof Jw?(ue("SyncEngine","Document no longer in limbo: "+s.key),r.ka.removeReference(s.key,e),r.ka.containsKey(s.key)||r1(r,s.key)):we()}function MP(r,e){const t=e.key,s=t.path.canonicalString();r.La.get(t)||r.Na.has(s)||(ue("SyncEngine","New document in limbo: "+t),r.Na.add(s),ym(r))}function ym(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new _e(Ye.fromString(e)),s=r.Ka.next();r.Ba.set(s,new AP(t)),r.La=r.La.insert(t,s),Hw(r.remoteStore,new Yr(Gn(nm(t.path)),s,"TargetPurposeLimboResolution",Al.oe))}}async function ka(r,e,t){const s=Se(r),o=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((d,g)=>{h.push(s.Ua(g,e,t).then(y=>{var E;if((y||t)&&s.isPrimaryClient){const T=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=lm.zi(g.targetId,y);u.push(T)}}))}),await Promise.all(h),s.Ma.R_(o),await async function(g,y){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>W.forEach(y,S=>W.forEach(S.Wi,P=>E.persistence.referenceDelegate.addReference(T,S.targetId,P)).next(()=>W.forEach(S.Gi,P=>E.persistence.referenceDelegate.removeReference(T,S.targetId,P)))))}catch(T){if(!ro(T))throw T;ue("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const P=E.us.get(S),b=P.snapshotVersion,F=P.withLastLimboFreeSnapshotVersion(b);E.us=E.us.insert(S,F)}}}(s.localStore,u))}async function FP(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await qw(t.localStore,e);t.currentUser=e,function(u,h){u.Qa.forEach(d=>{d.forEach(g=>{g.reject(new me(J.CANCELLED,h))})}),u.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ka(t,s.Ts)}}function jP(r,e){const t=Se(r),s=t.Ba.get(e);if(s&&s.Fa)return Ce().add(s.key);{let o=Ce();const u=t.Oa.get(e);if(!u)return o;for(const h of u){const d=t.xa.get(h);o=o.unionWith(d.view.fa)}return o}}function i1(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bP.bind(null,e),e.Ma.R_=wP.bind(null,e.eventManager),e.Ma.Wa=TP.bind(null,e.eventManager),e}function UP(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OP.bind(null,e),e}class Tl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ll(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return zC(this.persistence,new qC,e.initialUser,this.serializer)}ja(e){return new Uw(um.ei,this.serializer)}za(e){return new YC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tl.provider={build:()=>new Tl};class qP extends Tl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Fe(this.persistence.referenceDelegate instanceof El);const s=this.persistence.referenceDelegate.garbageCollector;return new AC(s,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Uw(s=>El.ei(s,t),this.serializer)}}class Mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FP.bind(null,this.syncEngine),await gP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vP}()}createDatastore(e){const t=Ll(e.databaseInfo.databaseId),s=function(u){return new eP(u)}(e.databaseInfo);return function(u,h,d,g){return new rP(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new sP(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>jv(this.syncEngine,t,0),function(){return bv.p()?new bv:new XC}())}createSyncEngine(e,t){return function(o,u,h,d,g,y,E){const T=new CP(o,u,h,d,g,y);return E&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ue("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await xa(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ot.UNAUTHENTICATED,this.clientId=aw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=mm(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function jh(r,e){r.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await qw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function qv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await $P(r);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Lv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Lv(e.remoteStore,o)),r._onlineComponents=e}async function $P(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await jh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;$s("Error using user provided cache. Falling back to memory cache: "+t),await jh(r,new Tl)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await jh(r,new qP(void 0));return r._offlineComponents}async function s1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await qv(r,r._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await qv(r,new Mp))),r._onlineComponents}function HP(r){return s1(r).then(e=>e.syncEngine)}async function GP(r){const e=await s1(r),t=e.eventManager;return t.onListen=PP.bind(null,e.syncEngine),t.onUnlisten=DP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=NP.bind(null,e.syncEngine),t}function KP(r,e,t={}){const s=new Zr;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,y){const E=new BP({next:S=>{E.eu(),h.enqueueAndForget(()=>EP(u,T));const P=S.docs.has(d);!P&&S.fromCache?y.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&g&&g.source==="server"?y.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new SP(nm(d.path),E,{includeMetadataChanges:!0,ua:!0});return _P(u,T)}(await GP(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r,e,t){if(!t)throw new me(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WP(r,e,t,s){if(e===!0&&s===!0)throw new me(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function zv(r){if(!_e.isDocumentKey(r))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $v(r){if(_e.isDocumentKey(r))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function Ys(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(r);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fl{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tA;switch(s.type){case"firstParty":return new sA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Bv.get(t);s&&(ue("ComponentProvider","Removing Datastore"),Bv.delete(t),s.terminate())}(this),Promise.resolve()}}function QP(r,e,t,s={}){var o;const u=(r=Ys(r,Fl))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,g;if(typeof s.mockUserToken=="string")d=s.mockUserToken,g=Ot.MOCK_USER;else{d=OI(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ot(y)}r._authCredentials=new nA(new ow(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _m(this.firestore,e,this._query)}}class un{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class ei extends _m{constructor(e,t,s){super(e,t,nm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new _e(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function YP(r,e,...t){if(r=ni(r),a1("collection","path",e),r instanceof Fl){const s=Ye.fromString(e,...t);return $v(s),new ei(r,null,s)}{if(!(r instanceof un||r instanceof ei))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ye.fromString(e,...t));return $v(s),new ei(r.firestore,null,s)}}function Fp(r,e,...t){if(r=ni(r),arguments.length===1&&(e=aw.newId()),a1("doc","path",e),r instanceof Fl){const s=Ye.fromString(e,...t);return zv(s),new un(r,null,new _e(s))}{if(!(r instanceof un||r instanceof ei))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ye.fromString(e,...t));return zv(s),new un(r.firestore,r instanceof ei?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new zw(this,"async_queue_retry"),this.fu=()=>{const s=Fh();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const t=Fh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Fh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Zr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ro(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Er("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Ru=!1,s))));return this.gu=t,t}enqueueAfterDelay(e,t,s){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=pm.createAndSchedule(this,e,t,s,u=>this.Su(u));return this.du.push(o),o}pu(){this.Au&&we()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class jl extends Fl{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Gv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gv(e),this._firestoreClient=void 0,await e}}}function XP(r,e){const t=typeof r=="object"?r:HR(),s=typeof r=="string"?r:"(default)",o=qR(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bI("firestore");u&&QP(o,...u)}return o}function u1(r){if(r._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JP(r),r._firestoreClient}function JP(r){var e,t,s;const o=r._freezeSettings(),u=function(d,g,y,E){return new EA(d,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,o1(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new zP(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(kt.fromBase64String(e))}catch(t){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xs(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=/^__.*__$/;class ex{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ca(e,this.data,t,this.fieldTransforms)}}class l1{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new li(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function c1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Sm{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Lu(e),o}Bu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:s,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Sl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(c1(this.Mu)&&ZP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class tx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ll(e)}$u(e,t,s,o=!1){return new Sm({Mu:e,methodName:t,Ku:s,path:xt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h1(r){const e=r._freezeSettings(),t=Ll(r._databaseId);return new tx(r._databaseId,!!e.ignoreUndefinedProperties,t)}function nx(r,e,t,s,o,u={}){const h=r.$u(u.merge||u.mergeFields?2:0,e,t,o);Im("Data must be an object, but it was:",h,s);const d=f1(s,h);let g,y;if(u.merge)g=new an(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=jp(e,T,t);if(!h.contains(S))throw new me(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);p1(E,S)||E.push(S)}g=new an(E),y=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=h.fieldTransforms;return new ex(new Jt(d),g,y)}class ql extends Em{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ql}}function rx(r,e,t,s){const o=r.$u(1,e,t);Im("Data must be an object, but it was:",o,s);const u=[],h=Jt.empty();ui(s,(g,y)=>{const E=Rm(e,g,t);y=ni(y);const T=o.Bu(E);if(y instanceof ql)u.push(E);else{const S=Bl(y,T);S!=null&&(u.push(E),h.set(E,S))}});const d=new an(u);return new l1(h,d,o.fieldTransforms)}function ix(r,e,t,s,o,u){const h=r.$u(1,e,t),d=[jp(e,s,t)],g=[o];if(u.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(jp(e,u[S])),g.push(u[S+1]);const y=[],E=Jt.empty();for(let S=d.length-1;S>=0;--S)if(!p1(y,d[S])){const P=d[S];let b=g[S];b=ni(b);const F=h.Bu(P);if(b instanceof ql)y.push(P);else{const L=Bl(b,F);L!=null&&(y.push(P),E.set(P,L))}}const T=new an(y);return new l1(E,T,h.fieldTransforms)}function Bl(r,e){if(d1(r=ni(r)))return Im("Unsupported field value:",e,r),f1(r,e);if(r instanceof Em)return function(s,o){if(!c1(o.Mu))throw o.qu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let g=Bl(d,o.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=ni(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=mt.fromDate(s);return{timestampValue:_l(o.serializer,u)}}if(s instanceof mt){const u=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_l(o.serializer,u)}}if(s instanceof wm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xs)return{bytesValue:Vw(o.serializer,s._byteString)};if(s instanceof un){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:om(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Tm)return function(h,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.qu("VectorValues must only contain numeric values.");return rm(d.serializer,g)})}}}}}}(s,o);throw o.qu(`Unsupported field value: ${vm(s)}`)}(r,e)}function f1(r,e){const t={};return uw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(r,(s,o)=>{const u=Bl(o,e.Ou(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function d1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof mt||r instanceof wm||r instanceof Xs||r instanceof un||r instanceof Em||r instanceof Tm)}function Im(r,e,t){if(!d1(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=vm(t);throw s==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+s)}}function jp(r,e,t){if((e=ni(e))instanceof Ul)return e._internalPath;if(typeof e=="string")return Rm(r,e);throw Sl("Field path arguments must be of type string or ",r,!1,void 0,t)}const sx=new RegExp("[~\\*/\\[\\]]");function Rm(r,e,t){if(e.search(sx)>=0)throw Sl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ul(...e.split("."))._internalPath}catch{throw Sl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Sl(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new me(J.INVALID_ARGUMENT,d+r+g)}function p1(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ox(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(g1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ox extends m1{data(){return super.data()}}function g1(r,e){return typeof e=="string"?Rm(r,e):e instanceof Ul?e._internalPath:e._delegate._internalPath}class ax{convertValue(e,t="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ui(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>st(h.doubleValue));return new Tm(u)}convertGeoPoint(e){return new wm(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Pl(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){const t=ii(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ye.fromString(e);Fe(jw(s));const o=new _a(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||Er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y1 extends m1{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(g1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class cx extends y1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(r){r=Ys(r,un);const e=Ys(r.firestore,jl);return KP(u1(e),r._key).then(t=>px(e,r,t))}class fx extends ax{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function Kv(r,e,t,...s){r=Ys(r,un);const o=Ys(r.firestore,jl),u=h1(o);let h;return h=typeof(e=ni(e))=="string"||e instanceof Ul?ix(u,"updateDoc",r._key,e,t,s):rx(u,"updateDoc",r._key,e),v1(o,[h.toMutation(r._key,Kn.exists(!0))])}function dx(r,e){const t=Ys(r.firestore,jl),s=Fp(r),o=ux(r.converter,e);return v1(t,[nx(h1(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function v1(r,e){return function(s,o){const u=new Zr;return s.asyncQueue.enqueueAndForget(async()=>VP(await HP(s),o,u)),u.promise}(u1(r),e)}function px(r,e,t){const s=t.docs.get(e._key),o=new fx(r);return new y1(r,o,e._key,s,new lx(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){to=o})($R),dl(new ma("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new jl(new rA(s.getProvider("auth-internal")),new aA(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(y.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Bs(lv,"4.7.5",e),Bs(lv,"4.7.5","esm2017")})();var mx="firebase",gx="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(mx,gx,"app");const yx={apiKey:"AIzaSyD_uutHQk-YmjtuHeGhdnGf0qbJToEGOqE",authDomain:"younotdown-df407.firebaseapp.com",projectId:"younotdown-df407",storageBucket:"younotdown-df407.firebasestorage.app",messagingSenderId:"382188825716",appId:"1:382188825716:web:567d4920f077c1ad033521",measurementId:"G-DGKV8MT1MJ"},vx=XE(yx),Up=XP(vx);function _x(){const[r,e]=K.useState("one"),[t,s]=K.useState(1),[o,u]=K.useState([]),[h,d]=K.useState(""),g=(P,b)=>{const F=[...o];F[P]=b,u(F)},y=P=>{s(t+1),setTimeout(()=>{document.getElementById(`name-${P+1}`).focus()},1)},E=P=>{const b=[...o];b.splice(P,1),u(b),s(t-1)},T=async()=>{try{const b=(await dx(YP(Up,"poll"),{name:h,status:"Running",participants:o.map(F=>({name:F,answer:""}))})).id;window.location.href=`/poll/${b}`}catch(P){console.error("ERROR ADDING POLL:",P)}},S=[{name:"Poll Details",content:B.jsxs("div",{className:"flex flex-col gap-8",children:[B.jsxs("div",{children:[B.jsx("strong",{children:"Poll Name"}),B.jsx("input",{className:"ml-8 border-2 p-1 rounded-lg",value:h,onChange:P=>d(P.target.value)})]}),B.jsxs("div",{children:[B.jsx("strong",{children:" Poll Type"}),B.jsx(TI,{className:"ml-8 border-2 p-1 rounded-lg",value:r,options:[{key:"down",value:"Are you Down?"},{key:"soon",value:"Coming Soon?",disabled:!0}],onChange:e})]})]})},{name:"Party",content:B.jsxs("div",{children:[B.jsx(Ft,{className:"mb-4",small:!0,secondary:!0,onClick:()=>s(t+1),children:"Add Person"}),B.jsx(zE,{numPeople:t,names:o,onNameChange:g,onDelete:E,addName:P=>y(P)})]})}];return B.jsxs("div",{className:"",children:[B.jsx(II,{tabOptions:S}),B.jsx(Ft,{className:"",medium:!0,onClick:T,disabled:t<1||!h,children:"Submit"})]})}function Ex(){const[r,e]=K.useState(0),[t,s]=K.useState([]),[o,u]=K.useState(!1),h=y=>{const E=parseInt(y.target.value,10)||0;e(E),s(Array(E).fill(""))},d=(y,E)=>{const T=[...t];T[y]=E,s(T)},g=()=>{t.every(y=>y.trim()!=="")?(console.log("Poll created with names:",t),u(!0)):alert("Please fill out all name fields.")};return B.jsxs("div",{children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"numPeople",children:"Number of People:"}),B.jsx("input",{id:"numPeople",type:"number",min:"0",value:r,onChange:h})]}),B.jsx(zE,{numPeople:r,names:t,onNameChange:d}),B.jsx(Ft,{onClick:g,success:!0,children:"Create Poll"}),o&&B.jsxs("div",{children:[B.jsx("h3",{children:"Poll Successfully Created!"}),B.jsx("p",{children:"Participants:"}),B.jsx("ul",{children:t.map((y,E)=>B.jsx("li",{children:y},E))})]})]})}function wx(){return B.jsx("div",{className:"container-wrapper",children:B.jsx("div",{className:"container",children:B.jsx(Ex,{})})})}function Tx(){return B.jsxs("div",{className:"bg-app-background bg-cover bg-center min-h-screen",children:[B.jsx(Wp,{}),B.jsx(wx,{})]})}function Wv({children:r,label:e}){return B.jsxs("div",{className:"py-2 px-4 border-solid border-2 border-gray-300 rounded-md flex flex-col gap-y-2 shadow-lg",children:[B.jsx("h4",{className:"font-bold py-4 px-4 mb-6 bg-sky-200 w-fit rounded-xl",children:e}),r]})}var Uh,Qv;function _1(){if(Qv)return Uh;Qv=1;function r(e,t){for(var s=-1,o=e==null?0:e.length,u=Array(o);++s<o;)u[s]=t(e[s],s,e);return u}return Uh=r,Uh}var qh,Yv;function Sx(){if(Yv)return qh;Yv=1;function r(){this.__data__=[],this.size=0}return qh=r,qh}var Bh,Xv;function E1(){if(Xv)return Bh;Xv=1;function r(e,t){return e===t||e!==e&&t!==t}return Bh=r,Bh}var zh,Jv;function zl(){if(Jv)return zh;Jv=1;var r=E1();function e(t,s){for(var o=t.length;o--;)if(r(t[o][0],s))return o;return-1}return zh=e,zh}var $h,Zv;function Ix(){if(Zv)return $h;Zv=1;var r=zl(),e=Array.prototype,t=e.splice;function s(o){var u=this.__data__,h=r(u,o);if(h<0)return!1;var d=u.length-1;return h==d?u.pop():t.call(u,h,1),--this.size,!0}return $h=s,$h}var Hh,e_;function Rx(){if(e_)return Hh;e_=1;var r=zl();function e(t){var s=this.__data__,o=r(s,t);return o<0?void 0:s[o][1]}return Hh=e,Hh}var Gh,t_;function Ax(){if(t_)return Gh;t_=1;var r=zl();function e(t){return r(this.__data__,t)>-1}return Gh=e,Gh}var Kh,n_;function Cx(){if(n_)return Kh;n_=1;var r=zl();function e(t,s){var o=this.__data__,u=r(o,t);return u<0?(++this.size,o.push([t,s])):o[u][1]=s,this}return Kh=e,Kh}var Wh,r_;function $l(){if(r_)return Wh;r_=1;var r=Sx(),e=Ix(),t=Rx(),s=Ax(),o=Cx();function u(h){var d=-1,g=h==null?0:h.length;for(this.clear();++d<g;){var y=h[d];this.set(y[0],y[1])}}return u.prototype.clear=r,u.prototype.delete=e,u.prototype.get=t,u.prototype.has=s,u.prototype.set=o,Wh=u,Wh}var Qh,i_;function Px(){if(i_)return Qh;i_=1;var r=$l();function e(){this.__data__=new r,this.size=0}return Qh=e,Qh}var Yh,s_;function xx(){if(s_)return Yh;s_=1;function r(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}return Yh=r,Yh}var Xh,o_;function kx(){if(o_)return Xh;o_=1;function r(e){return this.__data__.get(e)}return Xh=r,Xh}var Jh,a_;function Dx(){if(a_)return Jh;a_=1;function r(e){return this.__data__.has(e)}return Jh=r,Jh}var Zh,u_;function w1(){if(u_)return Zh;u_=1;var r=typeof Wu=="object"&&Wu&&Wu.Object===Object&&Wu;return Zh=r,Zh}var ef,l_;function Tr(){if(l_)return ef;l_=1;var r=w1(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return ef=t,ef}var tf,c_;function Hl(){if(c_)return tf;c_=1;var r=Tr(),e=r.Symbol;return tf=e,tf}var nf,h_;function Nx(){if(h_)return nf;h_=1;var r=Hl(),e=Object.prototype,t=e.hasOwnProperty,s=e.toString,o=r?r.toStringTag:void 0;function u(h){var d=t.call(h,o),g=h[o];try{h[o]=void 0;var y=!0}catch{}var E=s.call(h);return y&&(d?h[o]=g:delete h[o]),E}return nf=u,nf}var rf,f_;function Vx(){if(f_)return rf;f_=1;var r=Object.prototype,e=r.toString;function t(s){return e.call(s)}return rf=t,rf}var sf,d_;function Da(){if(d_)return sf;d_=1;var r=Hl(),e=Nx(),t=Vx(),s="[object Null]",o="[object Undefined]",u=r?r.toStringTag:void 0;function h(d){return d==null?d===void 0?o:s:u&&u in Object(d)?e(d):t(d)}return sf=h,sf}var of,p_;function Gl(){if(p_)return of;p_=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return of=r,of}var af,m_;function T1(){if(m_)return af;m_=1;var r=Da(),e=Gl(),t="[object AsyncFunction]",s="[object Function]",o="[object GeneratorFunction]",u="[object Proxy]";function h(d){if(!e(d))return!1;var g=r(d);return g==s||g==o||g==t||g==u}return af=h,af}var uf,g_;function bx(){if(g_)return uf;g_=1;var r=Tr(),e=r["__core-js_shared__"];return uf=e,uf}var lf,y_;function Lx(){if(y_)return lf;y_=1;var r=bx(),e=function(){var s=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function t(s){return!!e&&e in s}return lf=t,lf}var cf,v_;function S1(){if(v_)return cf;v_=1;var r=Function.prototype,e=r.toString;function t(s){if(s!=null){try{return e.call(s)}catch{}try{return s+""}catch{}}return""}return cf=t,cf}var hf,__;function Ox(){if(__)return hf;__=1;var r=T1(),e=Lx(),t=Gl(),s=S1(),o=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,h=Function.prototype,d=Object.prototype,g=h.toString,y=d.hasOwnProperty,E=RegExp("^"+g.call(y).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T(S){if(!t(S)||e(S))return!1;var P=r(S)?E:u;return P.test(s(S))}return hf=T,hf}var ff,E_;function Mx(){if(E_)return ff;E_=1;function r(e,t){return e==null?void 0:e[t]}return ff=r,ff}var df,w_;function so(){if(w_)return df;w_=1;var r=Ox(),e=Mx();function t(s,o){var u=e(s,o);return r(u)?u:void 0}return df=t,df}var pf,T_;function Am(){if(T_)return pf;T_=1;var r=so(),e=Tr(),t=r(e,"Map");return pf=t,pf}var mf,S_;function Kl(){if(S_)return mf;S_=1;var r=so(),e=r(Object,"create");return mf=e,mf}var gf,I_;function Fx(){if(I_)return gf;I_=1;var r=Kl();function e(){this.__data__=r?r(null):{},this.size=0}return gf=e,gf}var yf,R_;function jx(){if(R_)return yf;R_=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return yf=r,yf}var vf,A_;function Ux(){if(A_)return vf;A_=1;var r=Kl(),e="__lodash_hash_undefined__",t=Object.prototype,s=t.hasOwnProperty;function o(u){var h=this.__data__;if(r){var d=h[u];return d===e?void 0:d}return s.call(h,u)?h[u]:void 0}return vf=o,vf}var _f,C_;function qx(){if(C_)return _f;C_=1;var r=Kl(),e=Object.prototype,t=e.hasOwnProperty;function s(o){var u=this.__data__;return r?u[o]!==void 0:t.call(u,o)}return _f=s,_f}var Ef,P_;function Bx(){if(P_)return Ef;P_=1;var r=Kl(),e="__lodash_hash_undefined__";function t(s,o){var u=this.__data__;return this.size+=this.has(s)?0:1,u[s]=r&&o===void 0?e:o,this}return Ef=t,Ef}var wf,x_;function zx(){if(x_)return wf;x_=1;var r=Fx(),e=jx(),t=Ux(),s=qx(),o=Bx();function u(h){var d=-1,g=h==null?0:h.length;for(this.clear();++d<g;){var y=h[d];this.set(y[0],y[1])}}return u.prototype.clear=r,u.prototype.delete=e,u.prototype.get=t,u.prototype.has=s,u.prototype.set=o,wf=u,wf}var Tf,k_;function $x(){if(k_)return Tf;k_=1;var r=zx(),e=$l(),t=Am();function s(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Tf=s,Tf}var Sf,D_;function Hx(){if(D_)return Sf;D_=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Sf=r,Sf}var If,N_;function Wl(){if(N_)return If;N_=1;var r=Hx();function e(t,s){var o=t.__data__;return r(s)?o[typeof s=="string"?"string":"hash"]:o.map}return If=e,If}var Rf,V_;function Gx(){if(V_)return Rf;V_=1;var r=Wl();function e(t){var s=r(this,t).delete(t);return this.size-=s?1:0,s}return Rf=e,Rf}var Af,b_;function Kx(){if(b_)return Af;b_=1;var r=Wl();function e(t){return r(this,t).get(t)}return Af=e,Af}var Cf,L_;function Wx(){if(L_)return Cf;L_=1;var r=Wl();function e(t){return r(this,t).has(t)}return Cf=e,Cf}var Pf,O_;function Qx(){if(O_)return Pf;O_=1;var r=Wl();function e(t,s){var o=r(this,t),u=o.size;return o.set(t,s),this.size+=o.size==u?0:1,this}return Pf=e,Pf}var xf,M_;function Cm(){if(M_)return xf;M_=1;var r=$x(),e=Gx(),t=Kx(),s=Wx(),o=Qx();function u(h){var d=-1,g=h==null?0:h.length;for(this.clear();++d<g;){var y=h[d];this.set(y[0],y[1])}}return u.prototype.clear=r,u.prototype.delete=e,u.prototype.get=t,u.prototype.has=s,u.prototype.set=o,xf=u,xf}var kf,F_;function Yx(){if(F_)return kf;F_=1;var r=$l(),e=Am(),t=Cm(),s=200;function o(u,h){var d=this.__data__;if(d instanceof r){var g=d.__data__;if(!e||g.length<s-1)return g.push([u,h]),this.size=++d.size,this;d=this.__data__=new t(g)}return d.set(u,h),this.size=d.size,this}return kf=o,kf}var Df,j_;function I1(){if(j_)return Df;j_=1;var r=$l(),e=Px(),t=xx(),s=kx(),o=Dx(),u=Yx();function h(d){var g=this.__data__=new r(d);this.size=g.size}return h.prototype.clear=e,h.prototype.delete=t,h.prototype.get=s,h.prototype.has=o,h.prototype.set=u,Df=h,Df}var Nf,U_;function Xx(){if(U_)return Nf;U_=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Nf=e,Nf}var Vf,q_;function Jx(){if(q_)return Vf;q_=1;function r(e){return this.__data__.has(e)}return Vf=r,Vf}var bf,B_;function Zx(){if(B_)return bf;B_=1;var r=Cm(),e=Xx(),t=Jx();function s(o){var u=-1,h=o==null?0:o.length;for(this.__data__=new r;++u<h;)this.add(o[u])}return s.prototype.add=s.prototype.push=e,s.prototype.has=t,bf=s,bf}var Lf,z_;function ek(){if(z_)return Lf;z_=1;function r(e,t){for(var s=-1,o=e==null?0:e.length;++s<o;)if(t(e[s],s,e))return!0;return!1}return Lf=r,Lf}var Of,$_;function tk(){if($_)return Of;$_=1;function r(e,t){return e.has(t)}return Of=r,Of}var Mf,H_;function R1(){if(H_)return Mf;H_=1;var r=Zx(),e=ek(),t=tk(),s=1,o=2;function u(h,d,g,y,E,T){var S=g&s,P=h.length,b=d.length;if(P!=b&&!(S&&b>P))return!1;var F=T.get(h),L=T.get(d);if(F&&L)return F==d&&L==h;var $=-1,G=!0,ee=g&o?new r:void 0;for(T.set(h,d),T.set(d,h);++$<P;){var ne=h[$],de=d[$];if(y)var se=S?y(de,ne,$,d,h,T):y(ne,de,$,h,d,T);if(se!==void 0){if(se)continue;G=!1;break}if(ee){if(!e(d,function(x,I){if(!t(ee,I)&&(ne===x||E(ne,x,g,y,T)))return ee.push(I)})){G=!1;break}}else if(!(ne===de||E(ne,de,g,y,T))){G=!1;break}}return T.delete(h),T.delete(d),G}return Mf=u,Mf}var Ff,G_;function nk(){if(G_)return Ff;G_=1;var r=Tr(),e=r.Uint8Array;return Ff=e,Ff}var jf,K_;function rk(){if(K_)return jf;K_=1;function r(e){var t=-1,s=Array(e.size);return e.forEach(function(o,u){s[++t]=[u,o]}),s}return jf=r,jf}var Uf,W_;function ik(){if(W_)return Uf;W_=1;function r(e){var t=-1,s=Array(e.size);return e.forEach(function(o){s[++t]=o}),s}return Uf=r,Uf}var qf,Q_;function sk(){if(Q_)return qf;Q_=1;var r=Hl(),e=nk(),t=E1(),s=R1(),o=rk(),u=ik(),h=1,d=2,g="[object Boolean]",y="[object Date]",E="[object Error]",T="[object Map]",S="[object Number]",P="[object RegExp]",b="[object Set]",F="[object String]",L="[object Symbol]",$="[object ArrayBuffer]",G="[object DataView]",ee=r?r.prototype:void 0,ne=ee?ee.valueOf:void 0;function de(se,x,I,A,D,k,O){switch(I){case G:if(se.byteLength!=x.byteLength||se.byteOffset!=x.byteOffset)return!1;se=se.buffer,x=x.buffer;case $:return!(se.byteLength!=x.byteLength||!k(new e(se),new e(x)));case g:case y:case S:return t(+se,+x);case E:return se.name==x.name&&se.message==x.message;case P:case F:return se==x+"";case T:var C=o;case b:var He=A&h;if(C||(C=u),se.size!=x.size&&!He)return!1;var nt=O.get(se);if(nt)return nt==x;A|=d,O.set(se,x);var yt=s(C(se),C(x),A,D,k,O);return O.delete(se),yt;case L:if(ne)return ne.call(se)==ne.call(x)}return!1}return qf=de,qf}var Bf,Y_;function ok(){if(Y_)return Bf;Y_=1;function r(e,t){for(var s=-1,o=t.length,u=e.length;++s<o;)e[u+s]=t[s];return e}return Bf=r,Bf}var zf,X_;function Sr(){if(X_)return zf;X_=1;var r=Array.isArray;return zf=r,zf}var $f,J_;function ak(){if(J_)return $f;J_=1;var r=ok(),e=Sr();function t(s,o,u){var h=o(s);return e(s)?h:r(h,u(s))}return $f=t,$f}var Hf,Z_;function uk(){if(Z_)return Hf;Z_=1;function r(e,t){for(var s=-1,o=e==null?0:e.length,u=0,h=[];++s<o;){var d=e[s];t(d,s,e)&&(h[u++]=d)}return h}return Hf=r,Hf}var Gf,e0;function lk(){if(e0)return Gf;e0=1;function r(){return[]}return Gf=r,Gf}var Kf,t0;function ck(){if(t0)return Kf;t0=1;var r=uk(),e=lk(),t=Object.prototype,s=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(h){return h==null?[]:(h=Object(h),r(o(h),function(d){return s.call(h,d)}))}:e;return Kf=u,Kf}var Wf,n0;function hk(){if(n0)return Wf;n0=1;function r(e,t){for(var s=-1,o=Array(e);++s<e;)o[s]=t(s);return o}return Wf=r,Wf}var Qf,r0;function Na(){if(r0)return Qf;r0=1;function r(e){return e!=null&&typeof e=="object"}return Qf=r,Qf}var Yf,i0;function fk(){if(i0)return Yf;i0=1;var r=Da(),e=Na(),t="[object Arguments]";function s(o){return e(o)&&r(o)==t}return Yf=s,Yf}var Xf,s0;function A1(){if(s0)return Xf;s0=1;var r=fk(),e=Na(),t=Object.prototype,s=t.hasOwnProperty,o=t.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(h){return e(h)&&s.call(h,"callee")&&!o.call(h,"callee")};return Xf=u,Xf}var ua={exports:{}},Jf,o0;function dk(){if(o0)return Jf;o0=1;function r(){return!1}return Jf=r,Jf}ua.exports;var a0;function C1(){return a0||(a0=1,function(r,e){var t=Tr(),s=dk(),o=e&&!e.nodeType&&e,u=o&&!0&&r&&!r.nodeType&&r,h=u&&u.exports===o,d=h?t.Buffer:void 0,g=d?d.isBuffer:void 0,y=g||s;r.exports=y}(ua,ua.exports)),ua.exports}var Zf,u0;function P1(){if(u0)return Zf;u0=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(s,o){var u=typeof s;return o=o??r,!!o&&(u=="number"||u!="symbol"&&e.test(s))&&s>-1&&s%1==0&&s<o}return Zf=t,Zf}var ed,l0;function Pm(){if(l0)return ed;l0=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return ed=e,ed}var td,c0;function pk(){if(c0)return td;c0=1;var r=Da(),e=Pm(),t=Na(),s="[object Arguments]",o="[object Array]",u="[object Boolean]",h="[object Date]",d="[object Error]",g="[object Function]",y="[object Map]",E="[object Number]",T="[object Object]",S="[object RegExp]",P="[object Set]",b="[object String]",F="[object WeakMap]",L="[object ArrayBuffer]",$="[object DataView]",G="[object Float32Array]",ee="[object Float64Array]",ne="[object Int8Array]",de="[object Int16Array]",se="[object Int32Array]",x="[object Uint8Array]",I="[object Uint8ClampedArray]",A="[object Uint16Array]",D="[object Uint32Array]",k={};k[G]=k[ee]=k[ne]=k[de]=k[se]=k[x]=k[I]=k[A]=k[D]=!0,k[s]=k[o]=k[L]=k[u]=k[$]=k[h]=k[d]=k[g]=k[y]=k[E]=k[T]=k[S]=k[P]=k[b]=k[F]=!1;function O(C){return t(C)&&e(C.length)&&!!k[r(C)]}return td=O,td}var nd,h0;function mk(){if(h0)return nd;h0=1;function r(e){return function(t){return e(t)}}return nd=r,nd}var la={exports:{}};la.exports;var f0;function gk(){return f0||(f0=1,function(r,e){var t=w1(),s=e&&!e.nodeType&&e,o=s&&!0&&r&&!r.nodeType&&r,u=o&&o.exports===s,h=u&&t.process,d=function(){try{var g=o&&o.require&&o.require("util").types;return g||h&&h.binding&&h.binding("util")}catch{}}();r.exports=d}(la,la.exports)),la.exports}var rd,d0;function x1(){if(d0)return rd;d0=1;var r=pk(),e=mk(),t=gk(),s=t&&t.isTypedArray,o=s?e(s):r;return rd=o,rd}var id,p0;function yk(){if(p0)return id;p0=1;var r=hk(),e=A1(),t=Sr(),s=C1(),o=P1(),u=x1(),h=Object.prototype,d=h.hasOwnProperty;function g(y,E){var T=t(y),S=!T&&e(y),P=!T&&!S&&s(y),b=!T&&!S&&!P&&u(y),F=T||S||P||b,L=F?r(y.length,String):[],$=L.length;for(var G in y)(E||d.call(y,G))&&!(F&&(G=="length"||P&&(G=="offset"||G=="parent")||b&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||o(G,$)))&&L.push(G);return L}return id=g,id}var sd,m0;function vk(){if(m0)return sd;m0=1;var r=Object.prototype;function e(t){var s=t&&t.constructor,o=typeof s=="function"&&s.prototype||r;return t===o}return sd=e,sd}var od,g0;function _k(){if(g0)return od;g0=1;function r(e,t){return function(s){return e(t(s))}}return od=r,od}var ad,y0;function Ek(){if(y0)return ad;y0=1;var r=_k(),e=r(Object.keys,Object);return ad=e,ad}var ud,v0;function wk(){if(v0)return ud;v0=1;var r=vk(),e=Ek(),t=Object.prototype,s=t.hasOwnProperty;function o(u){if(!r(u))return e(u);var h=[];for(var d in Object(u))s.call(u,d)&&d!="constructor"&&h.push(d);return h}return ud=o,ud}var ld,_0;function Ql(){if(_0)return ld;_0=1;var r=T1(),e=Pm();function t(s){return s!=null&&e(s.length)&&!r(s)}return ld=t,ld}var cd,E0;function Yl(){if(E0)return cd;E0=1;var r=yk(),e=wk(),t=Ql();function s(o){return t(o)?r(o):e(o)}return cd=s,cd}var hd,w0;function Tk(){if(w0)return hd;w0=1;var r=ak(),e=ck(),t=Yl();function s(o){return r(o,t,e)}return hd=s,hd}var fd,T0;function Sk(){if(T0)return fd;T0=1;var r=Tk(),e=1,t=Object.prototype,s=t.hasOwnProperty;function o(u,h,d,g,y,E){var T=d&e,S=r(u),P=S.length,b=r(h),F=b.length;if(P!=F&&!T)return!1;for(var L=P;L--;){var $=S[L];if(!(T?$ in h:s.call(h,$)))return!1}var G=E.get(u),ee=E.get(h);if(G&&ee)return G==h&&ee==u;var ne=!0;E.set(u,h),E.set(h,u);for(var de=T;++L<P;){$=S[L];var se=u[$],x=h[$];if(g)var I=T?g(x,se,$,h,u,E):g(se,x,$,u,h,E);if(!(I===void 0?se===x||y(se,x,d,g,E):I)){ne=!1;break}de||(de=$=="constructor")}if(ne&&!de){var A=u.constructor,D=h.constructor;A!=D&&"constructor"in u&&"constructor"in h&&!(typeof A=="function"&&A instanceof A&&typeof D=="function"&&D instanceof D)&&(ne=!1)}return E.delete(u),E.delete(h),ne}return fd=o,fd}var dd,S0;function Ik(){if(S0)return dd;S0=1;var r=so(),e=Tr(),t=r(e,"DataView");return dd=t,dd}var pd,I0;function Rk(){if(I0)return pd;I0=1;var r=so(),e=Tr(),t=r(e,"Promise");return pd=t,pd}var md,R0;function Ak(){if(R0)return md;R0=1;var r=so(),e=Tr(),t=r(e,"Set");return md=t,md}var gd,A0;function Ck(){if(A0)return gd;A0=1;var r=so(),e=Tr(),t=r(e,"WeakMap");return gd=t,gd}var yd,C0;function Pk(){if(C0)return yd;C0=1;var r=Ik(),e=Am(),t=Rk(),s=Ak(),o=Ck(),u=Da(),h=S1(),d="[object Map]",g="[object Object]",y="[object Promise]",E="[object Set]",T="[object WeakMap]",S="[object DataView]",P=h(r),b=h(e),F=h(t),L=h(s),$=h(o),G=u;return(r&&G(new r(new ArrayBuffer(1)))!=S||e&&G(new e)!=d||t&&G(t.resolve())!=y||s&&G(new s)!=E||o&&G(new o)!=T)&&(G=function(ee){var ne=u(ee),de=ne==g?ee.constructor:void 0,se=de?h(de):"";if(se)switch(se){case P:return S;case b:return d;case F:return y;case L:return E;case $:return T}return ne}),yd=G,yd}var vd,P0;function xk(){if(P0)return vd;P0=1;var r=I1(),e=R1(),t=sk(),s=Sk(),o=Pk(),u=Sr(),h=C1(),d=x1(),g=1,y="[object Arguments]",E="[object Array]",T="[object Object]",S=Object.prototype,P=S.hasOwnProperty;function b(F,L,$,G,ee,ne){var de=u(F),se=u(L),x=de?E:o(F),I=se?E:o(L);x=x==y?T:x,I=I==y?T:I;var A=x==T,D=I==T,k=x==I;if(k&&h(F)){if(!h(L))return!1;de=!0,A=!1}if(k&&!A)return ne||(ne=new r),de||d(F)?e(F,L,$,G,ee,ne):t(F,L,x,$,G,ee,ne);if(!($&g)){var O=A&&P.call(F,"__wrapped__"),C=D&&P.call(L,"__wrapped__");if(O||C){var He=O?F.value():F,nt=C?L.value():L;return ne||(ne=new r),ee(He,nt,$,G,ne)}}return k?(ne||(ne=new r),s(F,L,$,G,ee,ne)):!1}return vd=b,vd}var _d,x0;function k1(){if(x0)return _d;x0=1;var r=xk(),e=Na();function t(s,o,u,h,d){return s===o?!0:s==null||o==null||!e(s)&&!e(o)?s!==s&&o!==o:r(s,o,u,h,t,d)}return _d=t,_d}var Ed,k0;function kk(){if(k0)return Ed;k0=1;var r=I1(),e=k1(),t=1,s=2;function o(u,h,d,g){var y=d.length,E=y,T=!g;if(u==null)return!E;for(u=Object(u);y--;){var S=d[y];if(T&&S[2]?S[1]!==u[S[0]]:!(S[0]in u))return!1}for(;++y<E;){S=d[y];var P=S[0],b=u[P],F=S[1];if(T&&S[2]){if(b===void 0&&!(P in u))return!1}else{var L=new r;if(g)var $=g(b,F,P,u,h,L);if(!($===void 0?e(F,b,t|s,g,L):$))return!1}}return!0}return Ed=o,Ed}var wd,D0;function D1(){if(D0)return wd;D0=1;var r=Gl();function e(t){return t===t&&!r(t)}return wd=e,wd}var Td,N0;function Dk(){if(N0)return Td;N0=1;var r=D1(),e=Yl();function t(s){for(var o=e(s),u=o.length;u--;){var h=o[u],d=s[h];o[u]=[h,d,r(d)]}return o}return Td=t,Td}var Sd,V0;function N1(){if(V0)return Sd;V0=1;function r(e,t){return function(s){return s==null?!1:s[e]===t&&(t!==void 0||e in Object(s))}}return Sd=r,Sd}var Id,b0;function Nk(){if(b0)return Id;b0=1;var r=kk(),e=Dk(),t=N1();function s(o){var u=e(o);return u.length==1&&u[0][2]?t(u[0][0],u[0][1]):function(h){return h===o||r(h,o,u)}}return Id=s,Id}var Rd,L0;function Xl(){if(L0)return Rd;L0=1;var r=Da(),e=Na(),t="[object Symbol]";function s(o){return typeof o=="symbol"||e(o)&&r(o)==t}return Rd=s,Rd}var Ad,O0;function xm(){if(O0)return Ad;O0=1;var r=Sr(),e=Xl(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function o(u,h){if(r(u))return!1;var d=typeof u;return d=="number"||d=="symbol"||d=="boolean"||u==null||e(u)?!0:s.test(u)||!t.test(u)||h!=null&&u in Object(h)}return Ad=o,Ad}var Cd,M0;function Vk(){if(M0)return Cd;M0=1;var r=Cm(),e="Expected a function";function t(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError(e);var u=function(){var h=arguments,d=o?o.apply(this,h):h[0],g=u.cache;if(g.has(d))return g.get(d);var y=s.apply(this,h);return u.cache=g.set(d,y)||g,y};return u.cache=new(t.Cache||r),u}return t.Cache=r,Cd=t,Cd}var Pd,F0;function bk(){if(F0)return Pd;F0=1;var r=Vk(),e=500;function t(s){var o=r(s,function(h){return u.size===e&&u.clear(),h}),u=o.cache;return o}return Pd=t,Pd}var xd,j0;function Lk(){if(j0)return xd;j0=1;var r=bk(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,s=r(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(e,function(h,d,g,y){u.push(g?y.replace(t,"$1"):d||h)}),u});return xd=s,xd}var kd,U0;function Ok(){if(U0)return kd;U0=1;var r=Hl(),e=_1(),t=Sr(),s=Xl(),o=1/0,u=r?r.prototype:void 0,h=u?u.toString:void 0;function d(g){if(typeof g=="string")return g;if(t(g))return e(g,d)+"";if(s(g))return h?h.call(g):"";var y=g+"";return y=="0"&&1/g==-o?"-0":y}return kd=d,kd}var Dd,q0;function km(){if(q0)return Dd;q0=1;var r=Ok();function e(t){return t==null?"":r(t)}return Dd=e,Dd}var Nd,B0;function V1(){if(B0)return Nd;B0=1;var r=Sr(),e=xm(),t=Lk(),s=km();function o(u,h){return r(u)?u:e(u,h)?[u]:t(s(u))}return Nd=o,Nd}var Vd,z0;function Jl(){if(z0)return Vd;z0=1;var r=Xl(),e=1/0;function t(s){if(typeof s=="string"||r(s))return s;var o=s+"";return o=="0"&&1/s==-e?"-0":o}return Vd=t,Vd}var bd,$0;function b1(){if($0)return bd;$0=1;var r=V1(),e=Jl();function t(s,o){o=r(o,s);for(var u=0,h=o.length;s!=null&&u<h;)s=s[e(o[u++])];return u&&u==h?s:void 0}return bd=t,bd}var Ld,H0;function Mk(){if(H0)return Ld;H0=1;var r=b1();function e(t,s,o){var u=t==null?void 0:r(t,s);return u===void 0?o:u}return Ld=e,Ld}var Od,G0;function Fk(){if(G0)return Od;G0=1;function r(e,t){return e!=null&&t in Object(e)}return Od=r,Od}var Md,K0;function jk(){if(K0)return Md;K0=1;var r=V1(),e=A1(),t=Sr(),s=P1(),o=Pm(),u=Jl();function h(d,g,y){g=r(g,d);for(var E=-1,T=g.length,S=!1;++E<T;){var P=u(g[E]);if(!(S=d!=null&&y(d,P)))break;d=d[P]}return S||++E!=T?S:(T=d==null?0:d.length,!!T&&o(T)&&s(P,T)&&(t(d)||e(d)))}return Md=h,Md}var Fd,W0;function Uk(){if(W0)return Fd;W0=1;var r=Fk(),e=jk();function t(s,o){return s!=null&&e(s,o,r)}return Fd=t,Fd}var jd,Q0;function qk(){if(Q0)return jd;Q0=1;var r=k1(),e=Mk(),t=Uk(),s=xm(),o=D1(),u=N1(),h=Jl(),d=1,g=2;function y(E,T){return s(E)&&o(T)?u(h(E),T):function(S){var P=e(S,E);return P===void 0&&P===T?t(S,E):r(T,P,d|g)}}return jd=y,jd}var Ud,Y0;function Bk(){if(Y0)return Ud;Y0=1;function r(e){return e}return Ud=r,Ud}var qd,X0;function zk(){if(X0)return qd;X0=1;function r(e){return function(t){return t==null?void 0:t[e]}}return qd=r,qd}var Bd,J0;function $k(){if(J0)return Bd;J0=1;var r=b1();function e(t){return function(s){return r(s,t)}}return Bd=e,Bd}var zd,Z0;function Hk(){if(Z0)return zd;Z0=1;var r=zk(),e=$k(),t=xm(),s=Jl();function o(u){return t(u)?r(s(u)):e(u)}return zd=o,zd}var $d,eE;function Dm(){if(eE)return $d;eE=1;var r=Nk(),e=qk(),t=Bk(),s=Sr(),o=Hk();function u(h){return typeof h=="function"?h:h==null?t:typeof h=="object"?s(h)?e(h[0],h[1]):r(h):o(h)}return $d=u,$d}var Hd,tE;function Gk(){if(tE)return Hd;tE=1;function r(e){return function(t,s,o){for(var u=-1,h=Object(t),d=o(t),g=d.length;g--;){var y=d[e?g:++u];if(s(h[y],y,h)===!1)break}return t}}return Hd=r,Hd}var Gd,nE;function Kk(){if(nE)return Gd;nE=1;var r=Gk(),e=r();return Gd=e,Gd}var Kd,rE;function Wk(){if(rE)return Kd;rE=1;var r=Kk(),e=Yl();function t(s,o){return s&&r(s,o,e)}return Kd=t,Kd}var Wd,iE;function Qk(){if(iE)return Wd;iE=1;var r=Ql();function e(t,s){return function(o,u){if(o==null)return o;if(!r(o))return t(o,u);for(var h=o.length,d=s?h:-1,g=Object(o);(s?d--:++d<h)&&u(g[d],d,g)!==!1;);return o}}return Wd=e,Wd}var Qd,sE;function Yk(){if(sE)return Qd;sE=1;var r=Wk(),e=Qk(),t=e(r);return Qd=t,Qd}var Yd,oE;function Xk(){if(oE)return Yd;oE=1;var r=Yk(),e=Ql();function t(s,o){var u=-1,h=e(s)?Array(s.length):[];return r(s,function(d,g,y){h[++u]=o(d,g,y)}),h}return Yd=t,Yd}var Xd,aE;function Jk(){if(aE)return Xd;aE=1;var r=_1(),e=Dm(),t=Xk(),s=Sr();function o(u,h){var d=s(u)?r:t;return d(u,e(h,3))}return Xd=o,Xd}var Zk=Jk();const ji=Sa(Zk);var Jd,uE;function e2(){if(uE)return Jd;uE=1;function r(e,t,s){var o=-1,u=e.length;t<0&&(t=-t>u?0:u+t),s=s>u?u:s,s<0&&(s+=u),u=t>s?0:s-t>>>0,t>>>=0;for(var h=Array(u);++o<u;)h[o]=e[o+t];return h}return Jd=r,Jd}var Zd,lE;function t2(){if(lE)return Zd;lE=1;var r=e2();function e(t,s,o){var u=t.length;return o=o===void 0?u:o,!s&&o>=u?t:r(t,s,o)}return Zd=e,Zd}var ep,cE;function L1(){if(cE)return ep;cE=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",o=e+t+s,u="\\ufe0e\\ufe0f",h="\\u200d",d=RegExp("["+h+r+o+u+"]");function g(y){return d.test(y)}return ep=g,ep}var tp,hE;function n2(){if(hE)return tp;hE=1;function r(e){return e.split("")}return tp=r,tp}var np,fE;function r2(){if(fE)return np;fE=1;var r="\\ud800-\\udfff",e="\\u0300-\\u036f",t="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",o=e+t+s,u="\\ufe0e\\ufe0f",h="["+r+"]",d="["+o+"]",g="\\ud83c[\\udffb-\\udfff]",y="(?:"+d+"|"+g+")",E="[^"+r+"]",T="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",P="\\u200d",b=y+"?",F="["+u+"]?",L="(?:"+P+"(?:"+[E,T,S].join("|")+")"+F+b+")*",$=F+b+L,G="(?:"+[E+d+"?",d,T,S,h].join("|")+")",ee=RegExp(g+"(?="+g+")|"+G+$,"g");function ne(de){return de.match(ee)||[]}return np=ne,np}var rp,dE;function i2(){if(dE)return rp;dE=1;var r=n2(),e=L1(),t=r2();function s(o){return e(o)?t(o):r(o)}return rp=s,rp}var ip,pE;function s2(){if(pE)return ip;pE=1;var r=t2(),e=L1(),t=i2(),s=km();function o(u){return function(h){h=s(h);var d=e(h)?t(h):void 0,g=d?d[0]:h.charAt(0),y=d?r(d,1).join(""):h.slice(1);return g[u]()+y}}return ip=o,ip}var sp,mE;function o2(){if(mE)return sp;mE=1;var r=s2(),e=r("toUpperCase");return sp=e,sp}var op,gE;function a2(){if(gE)return op;gE=1;var r=km(),e=o2();function t(s){return e(r(s).toLowerCase())}return op=t,op}var u2=a2();const ia=Sa(u2);function l2(){const r=["small","medium","large","disabled"],e=ji(r,h=>B.jsx("td",{children:B.jsx(Ft,{[h]:!0,children:[ia(h)," Primary Button"]})})),t=ji(r,h=>B.jsx("td",{children:B.jsx(Ft,{secondary:!0,[h]:!0,children:[ia(h)," Secondary Button"]})})),s=ji(r,h=>B.jsx("td",{children:B.jsx(Ft,{success:!0,[h]:!0,children:[ia(h)," Success Button"]})})),o=ji(r,h=>B.jsx("td",{children:B.jsx(Ft,{danger:!0,[h]:!0,children:[ia(h)," Danger Button"]})})),u=ji(r,h=>B.jsx("td",{children:B.jsx(Ft,{warning:!0,[h]:!0,children:[ia(h)," Warning Button"]})}));return B.jsxs("div",{className:"py-12 px-24 flex flex-col gap-y-8",children:[B.jsx("div",{className:"text-xl font-bold",children:"Components"}),B.jsx(Wv,{label:"Base Elements",children:B.jsxs("div",{className:"grid gap-10 grid-cols-3 grid-rows-3",children:[B.jsx("h1",{children:" Header 1 "}),B.jsx("h2",{children:" Header 2 "}),B.jsx("h3",{children:" Header 3 "}),B.jsx("h4",{children:" Header 4 "}),B.jsx("h5",{children:" Header 5 "}),B.jsx("h6",{children:" Header 6 "})]})}),B.jsx(Wv,{label:"Buttons",children:B.jsxs("table",{className:"table-fixed mb-20 border-separate border-spacing-y-3",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"text-left"}),B.jsx("th",{className:"text-left",children:"Small"}),B.jsx("th",{className:"text-left",children:"Medium"}),B.jsx("th",{className:"text-left",children:"Large"}),B.jsx("th",{className:"text-left",children:"Disabled"})]})}),B.jsxs("tbody",{children:[B.jsxs("tr",{children:[B.jsx("th",{children:"Primary"}),e]}),B.jsxs("tr",{children:[B.jsx("th",{children:"Secondary"}),t]}),B.jsxs("tr",{children:[B.jsx("th",{children:"Success"}),s]}),B.jsxs("tr",{children:[B.jsx("th",{children:"Danger"}),o]}),B.jsxs("tr",{children:[B.jsx("th",{children:"Warning"}),u]})]})]})})]})}function c2(){return B.jsxs("div",{children:[B.jsx(Wp,{}),B.jsxs("div",{className:"bg-app-background bg-cover bg-center min-h-screen text-center text-4xl font-bold",children:["Are you down?",B.jsxs("div",{className:"h-56 grid grid-cols-3 gap-4 content-center ...",children:[B.jsx("div",{children:B.jsx(Ft,{bg:"black",btnText:"nah",textColor:"white"})}),B.jsx("div",{children:B.jsx(Ft,{bg:"bg-green-500",btnText:"maybe",textColor:"white"})}),B.jsx("div",{children:B.jsx(Ft,{bg:"bgred-500",btnText:"bet",textColor:"white"})})]})]})]})}function h2({participant:r,input:e}){const t=K.useMemo(()=>(console.log(r),r==null?void 0:r.name));return B.jsxs("div",{className:"text-center text-5xl",children:[t,B.jsxs("div",{className:"space-x-10",children:[B.jsx(Ft,{large:!0,onClick:()=>e("Down"),children:"I'm Down"}),B.jsx(Ft,{large:!0,danger:!0,onClick:()=>e("Not Down"),children:"I'm Not down"})]})]})}function f2({participants:r}){const e=K.useMemo(()=>({Yes:r.filter(t=>t.answer==="Down").length,No:r.filter(t=>t.answer==="Not Down").length}));return B.jsx("div",{className:"border-2 border-solid",children:B.jsxs("table",{className:"table-fixed border-collapse w-96 mx-auto",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsxs("th",{className:"text-left border",children:["Down: ",e==null?void 0:e.Yes," "]}),B.jsxs("th",{className:"text-left border",children:["Not Down: ",e==null?void 0:e.No]})]})}),B.jsx("tbody",{children:B.jsxs("tr",{children:[B.jsx("td",{className:"border",children:ji(r.filter(t=>t.answer==="Down"),(t,s)=>B.jsx("div",{children:t.name},s))}),B.jsx("td",{className:"border",children:ji(r.filter(t=>t.answer==="Not Down"),(t,s)=>B.jsx("div",{children:t.name},s))})]})})]})})}var ap,yE;function d2(){if(yE)return ap;yE=1;var r=Dm(),e=Ql(),t=Yl();function s(o){return function(u,h,d){var g=Object(u);if(!e(u)){var y=r(h,3);u=t(u),h=function(T){return y(g[T],T,g)}}var E=o(u,h,d);return E>-1?g[y?u[E]:E]:void 0}}return ap=s,ap}var up,vE;function p2(){if(vE)return up;vE=1;function r(e,t,s,o){for(var u=e.length,h=s+(o?1:-1);o?h--:++h<u;)if(t(e[h],h,e))return h;return-1}return up=r,up}var lp,_E;function m2(){if(_E)return lp;_E=1;var r=/\s/;function e(t){for(var s=t.length;s--&&r.test(t.charAt(s)););return s}return lp=e,lp}var cp,EE;function g2(){if(EE)return cp;EE=1;var r=m2(),e=/^\s+/;function t(s){return s&&s.slice(0,r(s)+1).replace(e,"")}return cp=t,cp}var hp,wE;function y2(){if(wE)return hp;wE=1;var r=g2(),e=Gl(),t=Xl(),s=NaN,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;function g(y){if(typeof y=="number")return y;if(t(y))return s;if(e(y)){var E=typeof y.valueOf=="function"?y.valueOf():y;y=e(E)?E+"":E}if(typeof y!="string")return y===0?y:+y;y=r(y);var T=u.test(y);return T||h.test(y)?d(y.slice(2),T?2:8):o.test(y)?s:+y}return hp=g,hp}var fp,TE;function v2(){if(TE)return fp;TE=1;var r=y2(),e=1/0,t=17976931348623157e292;function s(o){if(!o)return o===0?o:0;if(o=r(o),o===e||o===-e){var u=o<0?-1:1;return u*t}return o===o?o:0}return fp=s,fp}var dp,SE;function _2(){if(SE)return dp;SE=1;var r=v2();function e(t){var s=r(t),o=s%1;return s===s?o?s-o:s:0}return dp=e,dp}var pp,IE;function O1(){if(IE)return pp;IE=1;var r=p2(),e=Dm(),t=_2(),s=Math.max;function o(u,h,d){var g=u==null?0:u.length;if(!g)return-1;var y=d==null?0:t(d);return y<0&&(y=s(g+y,0)),r(u,e(h,3),y)}return pp=o,pp}var mp,RE;function E2(){if(RE)return mp;RE=1;var r=d2(),e=O1(),t=r(e);return mp=t,mp}E2();var w2=O1();const T2=Sa(w2);function S2(){const{pollId:r}=ES(),[e,t]=K.useState(null),[s,o]=K.useState(!0),[u,h]=K.useState(null),d=K.useMemo(()=>e==null?void 0:e.name),g=K.useMemo(()=>T2(e==null?void 0:e.participants,S=>!S.answer)),y=K.useMemo(()=>g===-1?null:e.participants[g]),E=async()=>{try{const S=Fp(Up,"poll",r),P=await hx(S);P.exists()?t(P.data()):h("No such document found.")}catch(S){h("Error fetching data: "+S.message)}finally{o(!1)}};K.useEffect(()=>{E()},[r]);const T=S=>{const P=Fp(Up,"poll",r),b=[...e.participants];b[g].answer=S,Kv(P,{participants:b}),b.every(L=>L.answer!=="")&&Kv(P,{status:"Comeplete"}),E()};return s?B.jsx("div",{children:"Loading..."}):u?B.jsxs("div",{children:["Error: ",u]}):e?B.jsxs("div",{className:"flex flex-col h-screen w-full items-center mt-40 gap-8",children:[B.jsx("h2",{children:d}),y?B.jsx(h2,{participant:y,input:T}):null,e.status==="Comeplete"&&B.jsx(f2,{participants:e.participants})]}):B.jsx("div",{children:"No poll data found."})}function I2(){return B.jsx(sI,{children:B.jsxs(LS,{children:[B.jsx(Qr,{exact:!0,path:"/",element:B.jsx(_I,{})}),B.jsx(Qr,{exact:!0,path:"/Plan",element:B.jsx(EI,{})}),B.jsx(Qr,{exact:!0,path:"/NewPoll",element:B.jsx(_x,{})}),B.jsx(Qr,{exact:!0,path:"/Home",element:B.jsx(Tx,{})}),B.jsx(Qr,{exact:!0,path:"/Voting",element:B.jsx(c2,{})}),B.jsx(Qr,{exact:!0,path:"/Components",element:B.jsx(l2,{})}),B.jsx(Qr,{exact:!0,path:"/poll/:pollId",element:B.jsx(S2,{})})]})})}function R2(){return B.jsx("div",{children:B.jsx(I2,{})})}var tl={},AE;function A2(){if(AE)return tl;AE=1;var r=vI();return tl.createRoot=r.createRoot,tl.hydrateRoot=r.hydrateRoot,tl}var C2=A2();const P2=Sa(C2),x2=P2.createRoot(document.getElementById("root"));x2.render(B.jsx(zT.StrictMode,{children:B.jsx(R2,{})}));
